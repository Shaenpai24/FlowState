var EZ=Object.defineProperty;var AZ=(t,e,n)=>e in t?EZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var sS=(t,e,n)=>(AZ(t,typeof e!="symbol"?e+"":e,n),n);function PZ(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var tv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ze(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var kB={exports:{}},xw={},NB={exports:{}},Ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kg=Symbol.for("react.element"),IZ=Symbol.for("react.portal"),CZ=Symbol.for("react.fragment"),kZ=Symbol.for("react.strict_mode"),NZ=Symbol.for("react.profiler"),OZ=Symbol.for("react.provider"),jZ=Symbol.for("react.context"),RZ=Symbol.for("react.forward_ref"),DZ=Symbol.for("react.suspense"),MZ=Symbol.for("react.memo"),$Z=Symbol.for("react.lazy"),jR=Symbol.iterator;function LZ(t){return t===null||typeof t!="object"?null:(t=jR&&t[jR]||t["@@iterator"],typeof t=="function"?t:null)}var OB={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jB=Object.assign,RB={};function Jf(t,e,n){this.props=t,this.context=e,this.refs=RB,this.updater=n||OB}Jf.prototype.isReactComponent={};Jf.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Jf.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function DB(){}DB.prototype=Jf.prototype;function nC(t,e,n){this.props=t,this.context=e,this.refs=RB,this.updater=n||OB}var rC=nC.prototype=new DB;rC.constructor=nC;jB(rC,Jf.prototype);rC.isPureReactComponent=!0;var RR=Array.isArray,MB=Object.prototype.hasOwnProperty,iC={current:null},$B={key:!0,ref:!0,__self:!0,__source:!0};function LB(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)MB.call(e,r)&&!$B.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Kg,type:t,key:o,ref:s,props:i,_owner:iC.current}}function VZ(t,e){return{$$typeof:Kg,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function oC(t){return typeof t=="object"&&t!==null&&t.$$typeof===Kg}function FZ(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var DR=/\/+/g;function aS(t,e){return typeof t=="object"&&t!==null&&t.key!=null?FZ(""+t.key):e.toString(36)}function o0(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Kg:case IZ:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+aS(s,0):r,RR(i)?(n="",t!=null&&(n=t.replace(DR,"$&/")+"/"),o0(i,e,n,"",function(c){return c})):i!=null&&(oC(i)&&(i=VZ(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(DR,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",RR(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+aS(o,a);s+=o0(o,e,n,l,i)}else if(l=LZ(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+aS(o,a++),s+=o0(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function nv(t,e,n){if(t==null)return t;var r=[],i=0;return o0(t,r,"","",function(o){return e.call(n,o,i++)}),r}function BZ(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var pr={current:null},s0={transition:null},UZ={ReactCurrentDispatcher:pr,ReactCurrentBatchConfig:s0,ReactCurrentOwner:iC};function VB(){throw Error("act(...) is not supported in production builds of React.")}Ue.Children={map:nv,forEach:function(t,e,n){nv(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return nv(t,function(){e++}),e},toArray:function(t){return nv(t,function(e){return e})||[]},only:function(t){if(!oC(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ue.Component=Jf;Ue.Fragment=CZ;Ue.Profiler=NZ;Ue.PureComponent=nC;Ue.StrictMode=kZ;Ue.Suspense=DZ;Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UZ;Ue.act=VB;Ue.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=jB({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=iC.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)MB.call(e,l)&&!$B.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Kg,type:t.type,key:i,ref:o,props:r,_owner:s}};Ue.createContext=function(t){return t={$$typeof:jZ,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:OZ,_context:t},t.Consumer=t};Ue.createElement=LB;Ue.createFactory=function(t){var e=LB.bind(null,t);return e.type=t,e};Ue.createRef=function(){return{current:null}};Ue.forwardRef=function(t){return{$$typeof:RZ,render:t}};Ue.isValidElement=oC;Ue.lazy=function(t){return{$$typeof:$Z,_payload:{_status:-1,_result:t},_init:BZ}};Ue.memo=function(t,e){return{$$typeof:MZ,type:t,compare:e===void 0?null:e}};Ue.startTransition=function(t){var e=s0.transition;s0.transition={};try{t()}finally{s0.transition=e}};Ue.unstable_act=VB;Ue.useCallback=function(t,e){return pr.current.useCallback(t,e)};Ue.useContext=function(t){return pr.current.useContext(t)};Ue.useDebugValue=function(){};Ue.useDeferredValue=function(t){return pr.current.useDeferredValue(t)};Ue.useEffect=function(t,e){return pr.current.useEffect(t,e)};Ue.useId=function(){return pr.current.useId()};Ue.useImperativeHandle=function(t,e,n){return pr.current.useImperativeHandle(t,e,n)};Ue.useInsertionEffect=function(t,e){return pr.current.useInsertionEffect(t,e)};Ue.useLayoutEffect=function(t,e){return pr.current.useLayoutEffect(t,e)};Ue.useMemo=function(t,e){return pr.current.useMemo(t,e)};Ue.useReducer=function(t,e,n){return pr.current.useReducer(t,e,n)};Ue.useRef=function(t){return pr.current.useRef(t)};Ue.useState=function(t){return pr.current.useState(t)};Ue.useSyncExternalStore=function(t,e,n){return pr.current.useSyncExternalStore(t,e,n)};Ue.useTransition=function(){return pr.current.useTransition()};Ue.version="18.3.1";NB.exports=Ue;var _=NB.exports;const M=Ze(_),sC=PZ({__proto__:null,default:M},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zZ=_,WZ=Symbol.for("react.element"),qZ=Symbol.for("react.fragment"),GZ=Object.prototype.hasOwnProperty,HZ=zZ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,KZ={key:!0,ref:!0,__self:!0,__source:!0};function FB(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)GZ.call(e,r)&&!KZ.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:WZ,type:t,key:o,ref:s,props:i,_owner:HZ.current}}xw.Fragment=qZ;xw.jsx=FB;xw.jsxs=FB;kB.exports=xw;var f=kB.exports,uE={},BB={exports:{}},ii={},UB={exports:{}},zB={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,L){var Y=V.length;V.push(L);e:for(;0<Y;){var K=Y-1>>>1,F=V[K];if(0<i(F,L))V[K]=L,V[Y]=F,Y=K;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var L=V[0],Y=V.pop();if(Y!==L){V[0]=Y;e:for(var K=0,F=V.length,te=F>>>1;K<te;){var ie=2*(K+1)-1,pe=V[ie],ue=ie+1,oe=V[ue];if(0>i(pe,Y))ue<F&&0>i(oe,pe)?(V[K]=oe,V[ue]=Y,K=ue):(V[K]=pe,V[ie]=Y,K=ie);else if(ue<F&&0>i(oe,Y))V[K]=oe,V[ue]=Y,K=ue;else break e}}return L}function i(V,L){var Y=V.sortIndex-L.sortIndex;return Y!==0?Y:V.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,d=null,h=3,p=!1,v=!1,m=!1,y=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(V){for(var L=n(c);L!==null;){if(L.callback===null)r(c);else if(L.startTime<=V)r(c),L.sortIndex=L.expirationTime,e(l,L);else break;L=n(c)}}function E(V){if(m=!1,w(V),!v)if(n(l)!==null)v=!0,U(S);else{var L=n(c);L!==null&&z(E,L.startTime-V)}}function S(V,L){v=!1,m&&(m=!1,b(A),A=-1),p=!0;var Y=h;try{for(w(L),d=n(l);d!==null&&(!(d.expirationTime>L)||V&&!N());){var K=d.callback;if(typeof K=="function"){d.callback=null,h=d.priorityLevel;var F=K(d.expirationTime<=L);L=t.unstable_now(),typeof F=="function"?d.callback=F:d===n(l)&&r(l),w(L)}else r(l);d=n(l)}if(d!==null)var te=!0;else{var ie=n(c);ie!==null&&z(E,ie.startTime-L),te=!1}return te}finally{d=null,h=Y,p=!1}}var P=!1,T=null,A=-1,k=5,O=-1;function N(){return!(t.unstable_now()-O<k)}function C(){if(T!==null){var V=t.unstable_now();O=V;var L=!0;try{L=T(!0,V)}finally{L?j():(P=!1,T=null)}}else P=!1}var j;if(typeof x=="function")j=function(){x(C)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,B=$.port2;$.port1.onmessage=C,j=function(){B.postMessage(null)}}else j=function(){y(C,0)};function U(V){T=V,P||(P=!0,j())}function z(V,L){A=y(function(){V(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,U(S))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var Y=h;h=L;try{return V()}finally{h=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,L){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var Y=h;h=V;try{return L()}finally{h=Y}},t.unstable_scheduleCallback=function(V,L,Y){var K=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?K+Y:K):Y=K,V){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=Y+F,V={id:u++,callback:L,priorityLevel:V,startTime:Y,expirationTime:F,sortIndex:-1},Y>K?(V.sortIndex=Y,e(c,V),n(l)===null&&V===n(c)&&(m?(b(A),A=-1):m=!0,z(E,Y-K))):(V.sortIndex=F,e(l,V),v||p||(v=!0,U(S))),V},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(V){var L=h;return function(){var Y=h;h=L;try{return V.apply(this,arguments)}finally{h=Y}}}})(zB);UB.exports=zB;var YZ=UB.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XZ=_,ei=YZ;function le(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var WB=new Set,vm={};function lu(t,e){Wd(t,e),Wd(t+"Capture",e)}function Wd(t,e){for(vm[t]=e,t=0;t<e.length;t++)WB.add(e[t])}var xs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dE=Object.prototype.hasOwnProperty,QZ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,MR={},$R={};function JZ(t){return dE.call($R,t)?!0:dE.call(MR,t)?!1:QZ.test(t)?$R[t]=!0:(MR[t]=!0,!1)}function ZZ(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function eee(t,e,n,r){if(e===null||typeof e>"u"||ZZ(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function mr(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Bn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Bn[t]=new mr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Bn[e]=new mr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Bn[t]=new mr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Bn[t]=new mr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Bn[t]=new mr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Bn[t]=new mr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Bn[t]=new mr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Bn[t]=new mr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Bn[t]=new mr(t,5,!1,t.toLowerCase(),null,!1,!1)});var aC=/[\-:]([a-z])/g;function lC(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(aC,lC);Bn[e]=new mr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(aC,lC);Bn[e]=new mr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(aC,lC);Bn[e]=new mr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Bn[t]=new mr(t,1,!1,t.toLowerCase(),null,!1,!1)});Bn.xlinkHref=new mr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Bn[t]=new mr(t,1,!1,t.toLowerCase(),null,!0,!0)});function cC(t,e,n,r){var i=Bn.hasOwnProperty(e)?Bn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(eee(e,n,i,r)&&(n=null),r||i===null?JZ(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ms=XZ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rv=Symbol.for("react.element"),ed=Symbol.for("react.portal"),td=Symbol.for("react.fragment"),uC=Symbol.for("react.strict_mode"),fE=Symbol.for("react.profiler"),qB=Symbol.for("react.provider"),GB=Symbol.for("react.context"),dC=Symbol.for("react.forward_ref"),hE=Symbol.for("react.suspense"),pE=Symbol.for("react.suspense_list"),fC=Symbol.for("react.memo"),ha=Symbol.for("react.lazy"),HB=Symbol.for("react.offscreen"),LR=Symbol.iterator;function Hh(t){return t===null||typeof t!="object"?null:(t=LR&&t[LR]||t["@@iterator"],typeof t=="function"?t:null)}var Ft=Object.assign,lS;function _p(t){if(lS===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);lS=e&&e[1]||""}return`
`+lS+t}var cS=!1;function uS(t,e){if(!t||cS)return"";cS=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{cS=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?_p(t):""}function tee(t){switch(t.tag){case 5:return _p(t.type);case 16:return _p("Lazy");case 13:return _p("Suspense");case 19:return _p("SuspenseList");case 0:case 2:case 15:return t=uS(t.type,!1),t;case 11:return t=uS(t.type.render,!1),t;case 1:return t=uS(t.type,!0),t;default:return""}}function mE(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case td:return"Fragment";case ed:return"Portal";case fE:return"Profiler";case uC:return"StrictMode";case hE:return"Suspense";case pE:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case GB:return(t.displayName||"Context")+".Consumer";case qB:return(t._context.displayName||"Context")+".Provider";case dC:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case fC:return e=t.displayName||null,e!==null?e:mE(t.type)||"Memo";case ha:e=t._payload,t=t._init;try{return mE(t(e))}catch{}}return null}function nee(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mE(e);case 8:return e===uC?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ja(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function KB(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ree(t){var e=KB(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function iv(t){t._valueTracker||(t._valueTracker=ree(t))}function YB(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=KB(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function z0(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function gE(t,e){var n=e.checked;return Ft({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function VR(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ja(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function XB(t,e){e=e.checked,e!=null&&cC(t,"checked",e,!1)}function yE(t,e){XB(t,e);var n=Ja(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?vE(t,e.type,n):e.hasOwnProperty("defaultValue")&&vE(t,e.type,Ja(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function FR(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function vE(t,e,n){(e!=="number"||z0(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Sp=Array.isArray;function _d(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ja(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function xE(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(le(91));return Ft({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function BR(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(le(92));if(Sp(n)){if(1<n.length)throw Error(le(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ja(n)}}function QB(t,e){var n=Ja(e.value),r=Ja(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function UR(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function JB(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bE(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?JB(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ov,ZB=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ov=ov||document.createElement("div"),ov.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ov.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function xm(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var $p={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},iee=["Webkit","ms","Moz","O"];Object.keys($p).forEach(function(t){iee.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),$p[e]=$p[t]})});function e5(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||$p.hasOwnProperty(t)&&$p[t]?(""+e).trim():e+"px"}function t5(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=e5(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var oee=Ft({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wE(t,e){if(e){if(oee[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(le(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(le(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(le(61))}if(e.style!=null&&typeof e.style!="object")throw Error(le(62))}}function _E(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var SE=null;function hC(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var TE=null,Sd=null,Td=null;function zR(t){if(t=Qg(t)){if(typeof TE!="function")throw Error(le(280));var e=t.stateNode;e&&(e=Tw(e),TE(t.stateNode,t.type,e))}}function n5(t){Sd?Td?Td.push(t):Td=[t]:Sd=t}function r5(){if(Sd){var t=Sd,e=Td;if(Td=Sd=null,zR(t),e)for(t=0;t<e.length;t++)zR(e[t])}}function i5(t,e){return t(e)}function o5(){}var dS=!1;function s5(t,e,n){if(dS)return t(e,n);dS=!0;try{return i5(t,e,n)}finally{dS=!1,(Sd!==null||Td!==null)&&(o5(),r5())}}function bm(t,e){var n=t.stateNode;if(n===null)return null;var r=Tw(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(le(231,e,typeof n));return n}var EE=!1;if(xs)try{var Kh={};Object.defineProperty(Kh,"passive",{get:function(){EE=!0}}),window.addEventListener("test",Kh,Kh),window.removeEventListener("test",Kh,Kh)}catch{EE=!1}function see(t,e,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Lp=!1,W0=null,q0=!1,AE=null,aee={onError:function(t){Lp=!0,W0=t}};function lee(t,e,n,r,i,o,s,a,l){Lp=!1,W0=null,see.apply(aee,arguments)}function cee(t,e,n,r,i,o,s,a,l){if(lee.apply(this,arguments),Lp){if(Lp){var c=W0;Lp=!1,W0=null}else throw Error(le(198));q0||(q0=!0,AE=c)}}function cu(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function a5(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function WR(t){if(cu(t)!==t)throw Error(le(188))}function uee(t){var e=t.alternate;if(!e){if(e=cu(t),e===null)throw Error(le(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return WR(i),t;if(o===r)return WR(i),e;o=o.sibling}throw Error(le(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(le(189))}}if(n.alternate!==r)throw Error(le(190))}if(n.tag!==3)throw Error(le(188));return n.stateNode.current===n?t:e}function l5(t){return t=uee(t),t!==null?c5(t):null}function c5(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=c5(t);if(e!==null)return e;t=t.sibling}return null}var u5=ei.unstable_scheduleCallback,qR=ei.unstable_cancelCallback,dee=ei.unstable_shouldYield,fee=ei.unstable_requestPaint,Kt=ei.unstable_now,hee=ei.unstable_getCurrentPriorityLevel,pC=ei.unstable_ImmediatePriority,d5=ei.unstable_UserBlockingPriority,G0=ei.unstable_NormalPriority,pee=ei.unstable_LowPriority,f5=ei.unstable_IdlePriority,bw=null,Ao=null;function mee(t){if(Ao&&typeof Ao.onCommitFiberRoot=="function")try{Ao.onCommitFiberRoot(bw,t,void 0,(t.current.flags&128)===128)}catch{}}var Hi=Math.clz32?Math.clz32:vee,gee=Math.log,yee=Math.LN2;function vee(t){return t>>>=0,t===0?32:31-(gee(t)/yee|0)|0}var sv=64,av=4194304;function Tp(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function H0(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Tp(a):(o&=s,o!==0&&(r=Tp(o)))}else s=n&~i,s!==0?r=Tp(s):o!==0&&(r=Tp(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Hi(e),i=1<<n,r|=t[n],e&=~i;return r}function xee(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bee(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Hi(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=xee(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function PE(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function h5(){var t=sv;return sv<<=1,!(sv&4194240)&&(sv=64),t}function fS(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Yg(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Hi(e),t[e]=n}function wee(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Hi(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function mC(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Hi(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ot=0;function p5(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var m5,gC,g5,y5,v5,IE=!1,lv=[],Da=null,Ma=null,$a=null,wm=new Map,_m=new Map,va=[],_ee="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function GR(t,e){switch(t){case"focusin":case"focusout":Da=null;break;case"dragenter":case"dragleave":Ma=null;break;case"mouseover":case"mouseout":$a=null;break;case"pointerover":case"pointerout":wm.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":_m.delete(e.pointerId)}}function Yh(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Qg(e),e!==null&&gC(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function See(t,e,n,r,i){switch(e){case"focusin":return Da=Yh(Da,t,e,n,r,i),!0;case"dragenter":return Ma=Yh(Ma,t,e,n,r,i),!0;case"mouseover":return $a=Yh($a,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return wm.set(o,Yh(wm.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,_m.set(o,Yh(_m.get(o)||null,t,e,n,r,i)),!0}return!1}function x5(t){var e=lc(t.target);if(e!==null){var n=cu(e);if(n!==null){if(e=n.tag,e===13){if(e=a5(n),e!==null){t.blockedOn=e,v5(t.priority,function(){g5(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function a0(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=CE(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);SE=r,n.target.dispatchEvent(r),SE=null}else return e=Qg(n),e!==null&&gC(e),t.blockedOn=n,!1;e.shift()}return!0}function HR(t,e,n){a0(t)&&n.delete(e)}function Tee(){IE=!1,Da!==null&&a0(Da)&&(Da=null),Ma!==null&&a0(Ma)&&(Ma=null),$a!==null&&a0($a)&&($a=null),wm.forEach(HR),_m.forEach(HR)}function Xh(t,e){t.blockedOn===e&&(t.blockedOn=null,IE||(IE=!0,ei.unstable_scheduleCallback(ei.unstable_NormalPriority,Tee)))}function Sm(t){function e(i){return Xh(i,t)}if(0<lv.length){Xh(lv[0],t);for(var n=1;n<lv.length;n++){var r=lv[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Da!==null&&Xh(Da,t),Ma!==null&&Xh(Ma,t),$a!==null&&Xh($a,t),wm.forEach(e),_m.forEach(e),n=0;n<va.length;n++)r=va[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<va.length&&(n=va[0],n.blockedOn===null);)x5(n),n.blockedOn===null&&va.shift()}var Ed=Ms.ReactCurrentBatchConfig,K0=!0;function Eee(t,e,n,r){var i=ot,o=Ed.transition;Ed.transition=null;try{ot=1,yC(t,e,n,r)}finally{ot=i,Ed.transition=o}}function Aee(t,e,n,r){var i=ot,o=Ed.transition;Ed.transition=null;try{ot=4,yC(t,e,n,r)}finally{ot=i,Ed.transition=o}}function yC(t,e,n,r){if(K0){var i=CE(t,e,n,r);if(i===null)_S(t,e,r,Y0,n),GR(t,r);else if(See(i,t,e,n,r))r.stopPropagation();else if(GR(t,r),e&4&&-1<_ee.indexOf(t)){for(;i!==null;){var o=Qg(i);if(o!==null&&m5(o),o=CE(t,e,n,r),o===null&&_S(t,e,r,Y0,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else _S(t,e,r,null,n)}}var Y0=null;function CE(t,e,n,r){if(Y0=null,t=hC(r),t=lc(t),t!==null)if(e=cu(t),e===null)t=null;else if(n=e.tag,n===13){if(t=a5(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Y0=t,null}function b5(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hee()){case pC:return 1;case d5:return 4;case G0:case pee:return 16;case f5:return 536870912;default:return 16}default:return 16}}var Pa=null,vC=null,l0=null;function w5(){if(l0)return l0;var t,e=vC,n=e.length,r,i="value"in Pa?Pa.value:Pa.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return l0=i.slice(t,1<r?1-r:void 0)}function c0(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function cv(){return!0}function KR(){return!1}function oi(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?cv:KR,this.isPropagationStopped=KR,this}return Ft(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=cv)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=cv)},persist:function(){},isPersistent:cv}),e}var Zf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xC=oi(Zf),Xg=Ft({},Zf,{view:0,detail:0}),Pee=oi(Xg),hS,pS,Qh,ww=Ft({},Xg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bC,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qh&&(Qh&&t.type==="mousemove"?(hS=t.screenX-Qh.screenX,pS=t.screenY-Qh.screenY):pS=hS=0,Qh=t),hS)},movementY:function(t){return"movementY"in t?t.movementY:pS}}),YR=oi(ww),Iee=Ft({},ww,{dataTransfer:0}),Cee=oi(Iee),kee=Ft({},Xg,{relatedTarget:0}),mS=oi(kee),Nee=Ft({},Zf,{animationName:0,elapsedTime:0,pseudoElement:0}),Oee=oi(Nee),jee=Ft({},Zf,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ree=oi(jee),Dee=Ft({},Zf,{data:0}),XR=oi(Dee),Mee={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$ee={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lee={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vee(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Lee[t])?!!e[t]:!1}function bC(){return Vee}var Fee=Ft({},Xg,{key:function(t){if(t.key){var e=Mee[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=c0(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$ee[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bC,charCode:function(t){return t.type==="keypress"?c0(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?c0(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Bee=oi(Fee),Uee=Ft({},ww,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),QR=oi(Uee),zee=Ft({},Xg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bC}),Wee=oi(zee),qee=Ft({},Zf,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gee=oi(qee),Hee=Ft({},ww,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Kee=oi(Hee),Yee=[9,13,27,32],wC=xs&&"CompositionEvent"in window,Vp=null;xs&&"documentMode"in document&&(Vp=document.documentMode);var Xee=xs&&"TextEvent"in window&&!Vp,_5=xs&&(!wC||Vp&&8<Vp&&11>=Vp),JR=String.fromCharCode(32),ZR=!1;function S5(t,e){switch(t){case"keyup":return Yee.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function T5(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var nd=!1;function Qee(t,e){switch(t){case"compositionend":return T5(e);case"keypress":return e.which!==32?null:(ZR=!0,JR);case"textInput":return t=e.data,t===JR&&ZR?null:t;default:return null}}function Jee(t,e){if(nd)return t==="compositionend"||!wC&&S5(t,e)?(t=w5(),l0=vC=Pa=null,nd=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return _5&&e.locale!=="ko"?null:e.data;default:return null}}var Zee={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function e2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Zee[t.type]:e==="textarea"}function E5(t,e,n,r){n5(r),e=X0(e,"onChange"),0<e.length&&(n=new xC("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Fp=null,Tm=null;function ete(t){M5(t,0)}function _w(t){var e=od(t);if(YB(e))return t}function tte(t,e){if(t==="change")return e}var A5=!1;if(xs){var gS;if(xs){var yS="oninput"in document;if(!yS){var t2=document.createElement("div");t2.setAttribute("oninput","return;"),yS=typeof t2.oninput=="function"}gS=yS}else gS=!1;A5=gS&&(!document.documentMode||9<document.documentMode)}function n2(){Fp&&(Fp.detachEvent("onpropertychange",P5),Tm=Fp=null)}function P5(t){if(t.propertyName==="value"&&_w(Tm)){var e=[];E5(e,Tm,t,hC(t)),s5(ete,e)}}function nte(t,e,n){t==="focusin"?(n2(),Fp=e,Tm=n,Fp.attachEvent("onpropertychange",P5)):t==="focusout"&&n2()}function rte(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _w(Tm)}function ite(t,e){if(t==="click")return _w(e)}function ote(t,e){if(t==="input"||t==="change")return _w(e)}function ste(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Zi=typeof Object.is=="function"?Object.is:ste;function Em(t,e){if(Zi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!dE.call(e,i)||!Zi(t[i],e[i]))return!1}return!0}function r2(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function i2(t,e){var n=r2(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=r2(n)}}function I5(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?I5(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function C5(){for(var t=window,e=z0();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=z0(t.document)}return e}function _C(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function ate(t){var e=C5(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&I5(n.ownerDocument.documentElement,n)){if(r!==null&&_C(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=i2(n,o);var s=i2(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var lte=xs&&"documentMode"in document&&11>=document.documentMode,rd=null,kE=null,Bp=null,NE=!1;function o2(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;NE||rd==null||rd!==z0(r)||(r=rd,"selectionStart"in r&&_C(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Bp&&Em(Bp,r)||(Bp=r,r=X0(kE,"onSelect"),0<r.length&&(e=new xC("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=rd)))}function uv(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var id={animationend:uv("Animation","AnimationEnd"),animationiteration:uv("Animation","AnimationIteration"),animationstart:uv("Animation","AnimationStart"),transitionend:uv("Transition","TransitionEnd")},vS={},k5={};xs&&(k5=document.createElement("div").style,"AnimationEvent"in window||(delete id.animationend.animation,delete id.animationiteration.animation,delete id.animationstart.animation),"TransitionEvent"in window||delete id.transitionend.transition);function Sw(t){if(vS[t])return vS[t];if(!id[t])return t;var e=id[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in k5)return vS[t]=e[n];return t}var N5=Sw("animationend"),O5=Sw("animationiteration"),j5=Sw("animationstart"),R5=Sw("transitionend"),D5=new Map,s2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pl(t,e){D5.set(t,e),lu(e,[t])}for(var xS=0;xS<s2.length;xS++){var bS=s2[xS],cte=bS.toLowerCase(),ute=bS[0].toUpperCase()+bS.slice(1);pl(cte,"on"+ute)}pl(N5,"onAnimationEnd");pl(O5,"onAnimationIteration");pl(j5,"onAnimationStart");pl("dblclick","onDoubleClick");pl("focusin","onFocus");pl("focusout","onBlur");pl(R5,"onTransitionEnd");Wd("onMouseEnter",["mouseout","mouseover"]);Wd("onMouseLeave",["mouseout","mouseover"]);Wd("onPointerEnter",["pointerout","pointerover"]);Wd("onPointerLeave",["pointerout","pointerover"]);lu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));lu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));lu("onBeforeInput",["compositionend","keypress","textInput","paste"]);lu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));lu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));lu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ep="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dte=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ep));function a2(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,cee(r,e,void 0,t),t.currentTarget=null}function M5(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;a2(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;a2(i,a,c),o=l}}}if(q0)throw t=AE,q0=!1,AE=null,t}function Et(t,e){var n=e[ME];n===void 0&&(n=e[ME]=new Set);var r=t+"__bubble";n.has(r)||($5(e,t,2,!1),n.add(r))}function wS(t,e,n){var r=0;e&&(r|=4),$5(n,t,r,e)}var dv="_reactListening"+Math.random().toString(36).slice(2);function Am(t){if(!t[dv]){t[dv]=!0,WB.forEach(function(n){n!=="selectionchange"&&(dte.has(n)||wS(n,!1,t),wS(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[dv]||(e[dv]=!0,wS("selectionchange",!1,e))}}function $5(t,e,n,r){switch(b5(e)){case 1:var i=Eee;break;case 4:i=Aee;break;default:i=yC}n=i.bind(null,e,n,t),i=void 0,!EE||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function _S(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=lc(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}s5(function(){var c=o,u=hC(n),d=[];e:{var h=D5.get(t);if(h!==void 0){var p=xC,v=t;switch(t){case"keypress":if(c0(n)===0)break e;case"keydown":case"keyup":p=Bee;break;case"focusin":v="focus",p=mS;break;case"focusout":v="blur",p=mS;break;case"beforeblur":case"afterblur":p=mS;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=YR;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Cee;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Wee;break;case N5:case O5:case j5:p=Oee;break;case R5:p=Gee;break;case"scroll":p=Pee;break;case"wheel":p=Kee;break;case"copy":case"cut":case"paste":p=Ree;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=QR}var m=(e&4)!==0,y=!m&&t==="scroll",b=m?h!==null?h+"Capture":null:h;m=[];for(var x=c,w;x!==null;){w=x;var E=w.stateNode;if(w.tag===5&&E!==null&&(w=E,b!==null&&(E=bm(x,b),E!=null&&m.push(Pm(x,E,w)))),y)break;x=x.return}0<m.length&&(h=new p(h,v,null,n,u),d.push({event:h,listeners:m}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==SE&&(v=n.relatedTarget||n.fromElement)&&(lc(v)||v[bs]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(v=n.relatedTarget||n.toElement,p=c,v=v?lc(v):null,v!==null&&(y=cu(v),v!==y||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=c),p!==v)){if(m=YR,E="onMouseLeave",b="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(m=QR,E="onPointerLeave",b="onPointerEnter",x="pointer"),y=p==null?h:od(p),w=v==null?h:od(v),h=new m(E,x+"leave",p,n,u),h.target=y,h.relatedTarget=w,E=null,lc(u)===c&&(m=new m(b,x+"enter",v,n,u),m.target=w,m.relatedTarget=y,E=m),y=E,p&&v)t:{for(m=p,b=v,x=0,w=m;w;w=Mu(w))x++;for(w=0,E=b;E;E=Mu(E))w++;for(;0<x-w;)m=Mu(m),x--;for(;0<w-x;)b=Mu(b),w--;for(;x--;){if(m===b||b!==null&&m===b.alternate)break t;m=Mu(m),b=Mu(b)}m=null}else m=null;p!==null&&l2(d,h,p,m,!1),v!==null&&y!==null&&l2(d,y,v,m,!0)}}e:{if(h=c?od(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var S=tte;else if(e2(h))if(A5)S=ote;else{S=rte;var P=nte}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=ite);if(S&&(S=S(t,c))){E5(d,S,n,u);break e}P&&P(t,h,c),t==="focusout"&&(P=h._wrapperState)&&P.controlled&&h.type==="number"&&vE(h,"number",h.value)}switch(P=c?od(c):window,t){case"focusin":(e2(P)||P.contentEditable==="true")&&(rd=P,kE=c,Bp=null);break;case"focusout":Bp=kE=rd=null;break;case"mousedown":NE=!0;break;case"contextmenu":case"mouseup":case"dragend":NE=!1,o2(d,n,u);break;case"selectionchange":if(lte)break;case"keydown":case"keyup":o2(d,n,u)}var T;if(wC)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else nd?S5(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(_5&&n.locale!=="ko"&&(nd||A!=="onCompositionStart"?A==="onCompositionEnd"&&nd&&(T=w5()):(Pa=u,vC="value"in Pa?Pa.value:Pa.textContent,nd=!0)),P=X0(c,A),0<P.length&&(A=new XR(A,t,null,n,u),d.push({event:A,listeners:P}),T?A.data=T:(T=T5(n),T!==null&&(A.data=T)))),(T=Xee?Qee(t,n):Jee(t,n))&&(c=X0(c,"onBeforeInput"),0<c.length&&(u=new XR("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=T))}M5(d,e)})}function Pm(t,e,n){return{instance:t,listener:e,currentTarget:n}}function X0(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=bm(t,n),o!=null&&r.unshift(Pm(t,o,i)),o=bm(t,e),o!=null&&r.push(Pm(t,o,i))),t=t.return}return r}function Mu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function l2(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=bm(n,o),l!=null&&s.unshift(Pm(n,l,a))):i||(l=bm(n,o),l!=null&&s.push(Pm(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var fte=/\r\n?/g,hte=/\u0000|\uFFFD/g;function c2(t){return(typeof t=="string"?t:""+t).replace(fte,`
`).replace(hte,"")}function fv(t,e,n){if(e=c2(e),c2(t)!==e&&n)throw Error(le(425))}function Q0(){}var OE=null,jE=null;function RE(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var DE=typeof setTimeout=="function"?setTimeout:void 0,pte=typeof clearTimeout=="function"?clearTimeout:void 0,u2=typeof Promise=="function"?Promise:void 0,mte=typeof queueMicrotask=="function"?queueMicrotask:typeof u2<"u"?function(t){return u2.resolve(null).then(t).catch(gte)}:DE;function gte(t){setTimeout(function(){throw t})}function SS(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Sm(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Sm(e)}function La(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function d2(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var eh=Math.random().toString(36).slice(2),xo="__reactFiber$"+eh,Im="__reactProps$"+eh,bs="__reactContainer$"+eh,ME="__reactEvents$"+eh,yte="__reactListeners$"+eh,vte="__reactHandles$"+eh;function lc(t){var e=t[xo];if(e)return e;for(var n=t.parentNode;n;){if(e=n[bs]||n[xo]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=d2(t);t!==null;){if(n=t[xo])return n;t=d2(t)}return e}t=n,n=t.parentNode}return null}function Qg(t){return t=t[xo]||t[bs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function od(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(le(33))}function Tw(t){return t[Im]||null}var $E=[],sd=-1;function ml(t){return{current:t}}function Ct(t){0>sd||(t.current=$E[sd],$E[sd]=null,sd--)}function xt(t,e){sd++,$E[sd]=t.current,t.current=e}var Za={},nr=ml(Za),Ar=ml(!1),Ic=Za;function qd(t,e){var n=t.type.contextTypes;if(!n)return Za;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Pr(t){return t=t.childContextTypes,t!=null}function J0(){Ct(Ar),Ct(nr)}function f2(t,e,n){if(nr.current!==Za)throw Error(le(168));xt(nr,e),xt(Ar,n)}function L5(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(le(108,nee(t)||"Unknown",i));return Ft({},n,r)}function Z0(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Za,Ic=nr.current,xt(nr,t),xt(Ar,Ar.current),!0}function h2(t,e,n){var r=t.stateNode;if(!r)throw Error(le(169));n?(t=L5(t,e,Ic),r.__reactInternalMemoizedMergedChildContext=t,Ct(Ar),Ct(nr),xt(nr,t)):Ct(Ar),xt(Ar,n)}var ts=null,Ew=!1,TS=!1;function V5(t){ts===null?ts=[t]:ts.push(t)}function xte(t){Ew=!0,V5(t)}function gl(){if(!TS&&ts!==null){TS=!0;var t=0,e=ot;try{var n=ts;for(ot=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ts=null,Ew=!1}catch(i){throw ts!==null&&(ts=ts.slice(t+1)),u5(pC,gl),i}finally{ot=e,TS=!1}}return null}var ad=[],ld=0,ex=null,tx=0,mi=[],gi=0,Cc=null,rs=1,is="";function Gl(t,e){ad[ld++]=tx,ad[ld++]=ex,ex=t,tx=e}function F5(t,e,n){mi[gi++]=rs,mi[gi++]=is,mi[gi++]=Cc,Cc=t;var r=rs;t=is;var i=32-Hi(r)-1;r&=~(1<<i),n+=1;var o=32-Hi(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,rs=1<<32-Hi(e)+i|n<<i|r,is=o+t}else rs=1<<o|n<<i|r,is=t}function SC(t){t.return!==null&&(Gl(t,1),F5(t,1,0))}function TC(t){for(;t===ex;)ex=ad[--ld],ad[ld]=null,tx=ad[--ld],ad[ld]=null;for(;t===Cc;)Cc=mi[--gi],mi[gi]=null,is=mi[--gi],mi[gi]=null,rs=mi[--gi],mi[gi]=null}var Gr=null,qr=null,Ot=!1,zi=null;function B5(t,e){var n=xi(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function p2(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Gr=t,qr=La(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Gr=t,qr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Cc!==null?{id:rs,overflow:is}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=xi(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Gr=t,qr=null,!0):!1;default:return!1}}function LE(t){return(t.mode&1)!==0&&(t.flags&128)===0}function VE(t){if(Ot){var e=qr;if(e){var n=e;if(!p2(t,e)){if(LE(t))throw Error(le(418));e=La(n.nextSibling);var r=Gr;e&&p2(t,e)?B5(r,n):(t.flags=t.flags&-4097|2,Ot=!1,Gr=t)}}else{if(LE(t))throw Error(le(418));t.flags=t.flags&-4097|2,Ot=!1,Gr=t}}}function m2(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Gr=t}function hv(t){if(t!==Gr)return!1;if(!Ot)return m2(t),Ot=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!RE(t.type,t.memoizedProps)),e&&(e=qr)){if(LE(t))throw U5(),Error(le(418));for(;e;)B5(t,e),e=La(e.nextSibling)}if(m2(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(le(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){qr=La(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}qr=null}}else qr=Gr?La(t.stateNode.nextSibling):null;return!0}function U5(){for(var t=qr;t;)t=La(t.nextSibling)}function Gd(){qr=Gr=null,Ot=!1}function EC(t){zi===null?zi=[t]:zi.push(t)}var bte=Ms.ReactCurrentBatchConfig;function Jh(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(le(309));var r=n.stateNode}if(!r)throw Error(le(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(le(284));if(!n._owner)throw Error(le(290,t))}return t}function pv(t,e){throw t=Object.prototype.toString.call(e),Error(le(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function g2(t){var e=t._init;return e(t._payload)}function z5(t){function e(b,x){if(t){var w=b.deletions;w===null?(b.deletions=[x],b.flags|=16):w.push(x)}}function n(b,x){if(!t)return null;for(;x!==null;)e(b,x),x=x.sibling;return null}function r(b,x){for(b=new Map;x!==null;)x.key!==null?b.set(x.key,x):b.set(x.index,x),x=x.sibling;return b}function i(b,x){return b=Ua(b,x),b.index=0,b.sibling=null,b}function o(b,x,w){return b.index=w,t?(w=b.alternate,w!==null?(w=w.index,w<x?(b.flags|=2,x):w):(b.flags|=2,x)):(b.flags|=1048576,x)}function s(b){return t&&b.alternate===null&&(b.flags|=2),b}function a(b,x,w,E){return x===null||x.tag!==6?(x=NS(w,b.mode,E),x.return=b,x):(x=i(x,w),x.return=b,x)}function l(b,x,w,E){var S=w.type;return S===td?u(b,x,w.props.children,E,w.key):x!==null&&(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ha&&g2(S)===x.type)?(E=i(x,w.props),E.ref=Jh(b,x,w),E.return=b,E):(E=g0(w.type,w.key,w.props,null,b.mode,E),E.ref=Jh(b,x,w),E.return=b,E)}function c(b,x,w,E){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=OS(w,b.mode,E),x.return=b,x):(x=i(x,w.children||[]),x.return=b,x)}function u(b,x,w,E,S){return x===null||x.tag!==7?(x=bc(w,b.mode,E,S),x.return=b,x):(x=i(x,w),x.return=b,x)}function d(b,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=NS(""+x,b.mode,w),x.return=b,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case rv:return w=g0(x.type,x.key,x.props,null,b.mode,w),w.ref=Jh(b,null,x),w.return=b,w;case ed:return x=OS(x,b.mode,w),x.return=b,x;case ha:var E=x._init;return d(b,E(x._payload),w)}if(Sp(x)||Hh(x))return x=bc(x,b.mode,w,null),x.return=b,x;pv(b,x)}return null}function h(b,x,w,E){var S=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:a(b,x,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case rv:return w.key===S?l(b,x,w,E):null;case ed:return w.key===S?c(b,x,w,E):null;case ha:return S=w._init,h(b,x,S(w._payload),E)}if(Sp(w)||Hh(w))return S!==null?null:u(b,x,w,E,null);pv(b,w)}return null}function p(b,x,w,E,S){if(typeof E=="string"&&E!==""||typeof E=="number")return b=b.get(w)||null,a(x,b,""+E,S);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case rv:return b=b.get(E.key===null?w:E.key)||null,l(x,b,E,S);case ed:return b=b.get(E.key===null?w:E.key)||null,c(x,b,E,S);case ha:var P=E._init;return p(b,x,w,P(E._payload),S)}if(Sp(E)||Hh(E))return b=b.get(w)||null,u(x,b,E,S,null);pv(x,E)}return null}function v(b,x,w,E){for(var S=null,P=null,T=x,A=x=0,k=null;T!==null&&A<w.length;A++){T.index>A?(k=T,T=null):k=T.sibling;var O=h(b,T,w[A],E);if(O===null){T===null&&(T=k);break}t&&T&&O.alternate===null&&e(b,T),x=o(O,x,A),P===null?S=O:P.sibling=O,P=O,T=k}if(A===w.length)return n(b,T),Ot&&Gl(b,A),S;if(T===null){for(;A<w.length;A++)T=d(b,w[A],E),T!==null&&(x=o(T,x,A),P===null?S=T:P.sibling=T,P=T);return Ot&&Gl(b,A),S}for(T=r(b,T);A<w.length;A++)k=p(T,b,A,w[A],E),k!==null&&(t&&k.alternate!==null&&T.delete(k.key===null?A:k.key),x=o(k,x,A),P===null?S=k:P.sibling=k,P=k);return t&&T.forEach(function(N){return e(b,N)}),Ot&&Gl(b,A),S}function m(b,x,w,E){var S=Hh(w);if(typeof S!="function")throw Error(le(150));if(w=S.call(w),w==null)throw Error(le(151));for(var P=S=null,T=x,A=x=0,k=null,O=w.next();T!==null&&!O.done;A++,O=w.next()){T.index>A?(k=T,T=null):k=T.sibling;var N=h(b,T,O.value,E);if(N===null){T===null&&(T=k);break}t&&T&&N.alternate===null&&e(b,T),x=o(N,x,A),P===null?S=N:P.sibling=N,P=N,T=k}if(O.done)return n(b,T),Ot&&Gl(b,A),S;if(T===null){for(;!O.done;A++,O=w.next())O=d(b,O.value,E),O!==null&&(x=o(O,x,A),P===null?S=O:P.sibling=O,P=O);return Ot&&Gl(b,A),S}for(T=r(b,T);!O.done;A++,O=w.next())O=p(T,b,A,O.value,E),O!==null&&(t&&O.alternate!==null&&T.delete(O.key===null?A:O.key),x=o(O,x,A),P===null?S=O:P.sibling=O,P=O);return t&&T.forEach(function(C){return e(b,C)}),Ot&&Gl(b,A),S}function y(b,x,w,E){if(typeof w=="object"&&w!==null&&w.type===td&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case rv:e:{for(var S=w.key,P=x;P!==null;){if(P.key===S){if(S=w.type,S===td){if(P.tag===7){n(b,P.sibling),x=i(P,w.props.children),x.return=b,b=x;break e}}else if(P.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ha&&g2(S)===P.type){n(b,P.sibling),x=i(P,w.props),x.ref=Jh(b,P,w),x.return=b,b=x;break e}n(b,P);break}else e(b,P);P=P.sibling}w.type===td?(x=bc(w.props.children,b.mode,E,w.key),x.return=b,b=x):(E=g0(w.type,w.key,w.props,null,b.mode,E),E.ref=Jh(b,x,w),E.return=b,b=E)}return s(b);case ed:e:{for(P=w.key;x!==null;){if(x.key===P)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){n(b,x.sibling),x=i(x,w.children||[]),x.return=b,b=x;break e}else{n(b,x);break}else e(b,x);x=x.sibling}x=OS(w,b.mode,E),x.return=b,b=x}return s(b);case ha:return P=w._init,y(b,x,P(w._payload),E)}if(Sp(w))return v(b,x,w,E);if(Hh(w))return m(b,x,w,E);pv(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(n(b,x.sibling),x=i(x,w),x.return=b,b=x):(n(b,x),x=NS(w,b.mode,E),x.return=b,b=x),s(b)):n(b,x)}return y}var Hd=z5(!0),W5=z5(!1),nx=ml(null),rx=null,cd=null,AC=null;function PC(){AC=cd=rx=null}function IC(t){var e=nx.current;Ct(nx),t._currentValue=e}function FE(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ad(t,e){rx=t,AC=cd=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(wr=!0),t.firstContext=null)}function Ei(t){var e=t._currentValue;if(AC!==t)if(t={context:t,memoizedValue:e,next:null},cd===null){if(rx===null)throw Error(le(308));cd=t,rx.dependencies={lanes:0,firstContext:t}}else cd=cd.next=t;return e}var cc=null;function CC(t){cc===null?cc=[t]:cc.push(t)}function q5(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,CC(e)):(n.next=i.next,i.next=n),e.interleaved=n,ws(t,r)}function ws(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var pa=!1;function kC(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function G5(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function fs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Va(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ke&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ws(t,n)}return i=r.interleaved,i===null?(e.next=e,CC(r)):(e.next=i.next,i.next=e),r.interleaved=e,ws(t,n)}function u0(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,mC(t,n)}}function y2(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ix(t,e,n,r){var i=t.updateQueue;pa=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,u=c=l=null,a=o;do{var h=a.lane,p=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,m=a;switch(h=e,p=n,m.tag){case 1:if(v=m.payload,typeof v=="function"){d=v.call(p,d,h);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=m.payload,h=typeof v=="function"?v.call(p,d,h):v,h==null)break e;d=Ft({},d,h);break e;case 2:pa=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Nc|=s,t.lanes=s,t.memoizedState=d}}function v2(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(le(191,i));i.call(r)}}}var Jg={},Po=ml(Jg),Cm=ml(Jg),km=ml(Jg);function uc(t){if(t===Jg)throw Error(le(174));return t}function NC(t,e){switch(xt(km,e),xt(Cm,t),xt(Po,Jg),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:bE(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=bE(e,t)}Ct(Po),xt(Po,e)}function Kd(){Ct(Po),Ct(Cm),Ct(km)}function H5(t){uc(km.current);var e=uc(Po.current),n=bE(e,t.type);e!==n&&(xt(Cm,t),xt(Po,n))}function OC(t){Cm.current===t&&(Ct(Po),Ct(Cm))}var $t=ml(0);function ox(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ES=[];function jC(){for(var t=0;t<ES.length;t++)ES[t]._workInProgressVersionPrimary=null;ES.length=0}var d0=Ms.ReactCurrentDispatcher,AS=Ms.ReactCurrentBatchConfig,kc=0,Vt=null,hn=null,An=null,sx=!1,Up=!1,Nm=0,wte=0;function zn(){throw Error(le(321))}function RC(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Zi(t[n],e[n]))return!1;return!0}function DC(t,e,n,r,i,o){if(kc=o,Vt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,d0.current=t===null||t.memoizedState===null?Ete:Ate,t=n(r,i),Up){o=0;do{if(Up=!1,Nm=0,25<=o)throw Error(le(301));o+=1,An=hn=null,e.updateQueue=null,d0.current=Pte,t=n(r,i)}while(Up)}if(d0.current=ax,e=hn!==null&&hn.next!==null,kc=0,An=hn=Vt=null,sx=!1,e)throw Error(le(300));return t}function MC(){var t=Nm!==0;return Nm=0,t}function go(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return An===null?Vt.memoizedState=An=t:An=An.next=t,An}function Ai(){if(hn===null){var t=Vt.alternate;t=t!==null?t.memoizedState:null}else t=hn.next;var e=An===null?Vt.memoizedState:An.next;if(e!==null)An=e,hn=t;else{if(t===null)throw Error(le(310));hn=t,t={memoizedState:hn.memoizedState,baseState:hn.baseState,baseQueue:hn.baseQueue,queue:hn.queue,next:null},An===null?Vt.memoizedState=An=t:An=An.next=t}return An}function Om(t,e){return typeof e=="function"?e(t):e}function PS(t){var e=Ai(),n=e.queue;if(n===null)throw Error(le(311));n.lastRenderedReducer=t;var r=hn,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var u=c.lane;if((kc&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,Vt.lanes|=u,Nc|=u}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,Zi(r,e.memoizedState)||(wr=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Vt.lanes|=o,Nc|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function IS(t){var e=Ai(),n=e.queue;if(n===null)throw Error(le(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Zi(o,e.memoizedState)||(wr=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function K5(){}function Y5(t,e){var n=Vt,r=Ai(),i=e(),o=!Zi(r.memoizedState,i);if(o&&(r.memoizedState=i,wr=!0),r=r.queue,$C(J5.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||An!==null&&An.memoizedState.tag&1){if(n.flags|=2048,jm(9,Q5.bind(null,n,r,i,e),void 0,null),kn===null)throw Error(le(349));kc&30||X5(n,e,i)}return i}function X5(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Vt.updateQueue,e===null?(e={lastEffect:null,stores:null},Vt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Q5(t,e,n,r){e.value=n,e.getSnapshot=r,Z5(e)&&e6(t)}function J5(t,e,n){return n(function(){Z5(e)&&e6(t)})}function Z5(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Zi(t,n)}catch{return!0}}function e6(t){var e=ws(t,1);e!==null&&Ki(e,t,1,-1)}function x2(t){var e=go();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Om,lastRenderedState:t},e.queue=t,t=t.dispatch=Tte.bind(null,Vt,t),[e.memoizedState,t]}function jm(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Vt.updateQueue,e===null?(e={lastEffect:null,stores:null},Vt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function t6(){return Ai().memoizedState}function f0(t,e,n,r){var i=go();Vt.flags|=t,i.memoizedState=jm(1|e,n,void 0,r===void 0?null:r)}function Aw(t,e,n,r){var i=Ai();r=r===void 0?null:r;var o=void 0;if(hn!==null){var s=hn.memoizedState;if(o=s.destroy,r!==null&&RC(r,s.deps)){i.memoizedState=jm(e,n,o,r);return}}Vt.flags|=t,i.memoizedState=jm(1|e,n,o,r)}function b2(t,e){return f0(8390656,8,t,e)}function $C(t,e){return Aw(2048,8,t,e)}function n6(t,e){return Aw(4,2,t,e)}function r6(t,e){return Aw(4,4,t,e)}function i6(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function o6(t,e,n){return n=n!=null?n.concat([t]):null,Aw(4,4,i6.bind(null,e,t),n)}function LC(){}function s6(t,e){var n=Ai();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&RC(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function a6(t,e){var n=Ai();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&RC(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function l6(t,e,n){return kc&21?(Zi(n,e)||(n=h5(),Vt.lanes|=n,Nc|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,wr=!0),t.memoizedState=n)}function _te(t,e){var n=ot;ot=n!==0&&4>n?n:4,t(!0);var r=AS.transition;AS.transition={};try{t(!1),e()}finally{ot=n,AS.transition=r}}function c6(){return Ai().memoizedState}function Ste(t,e,n){var r=Ba(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},u6(t))d6(e,n);else if(n=q5(t,e,n,r),n!==null){var i=ur();Ki(n,t,r,i),f6(n,e,r)}}function Tte(t,e,n){var r=Ba(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(u6(t))d6(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Zi(a,s)){var l=e.interleaved;l===null?(i.next=i,CC(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=q5(t,e,i,r),n!==null&&(i=ur(),Ki(n,t,r,i),f6(n,e,r))}}function u6(t){var e=t.alternate;return t===Vt||e!==null&&e===Vt}function d6(t,e){Up=sx=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function f6(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,mC(t,n)}}var ax={readContext:Ei,useCallback:zn,useContext:zn,useEffect:zn,useImperativeHandle:zn,useInsertionEffect:zn,useLayoutEffect:zn,useMemo:zn,useReducer:zn,useRef:zn,useState:zn,useDebugValue:zn,useDeferredValue:zn,useTransition:zn,useMutableSource:zn,useSyncExternalStore:zn,useId:zn,unstable_isNewReconciler:!1},Ete={readContext:Ei,useCallback:function(t,e){return go().memoizedState=[t,e===void 0?null:e],t},useContext:Ei,useEffect:b2,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,f0(4194308,4,i6.bind(null,e,t),n)},useLayoutEffect:function(t,e){return f0(4194308,4,t,e)},useInsertionEffect:function(t,e){return f0(4,2,t,e)},useMemo:function(t,e){var n=go();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=go();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Ste.bind(null,Vt,t),[r.memoizedState,t]},useRef:function(t){var e=go();return t={current:t},e.memoizedState=t},useState:x2,useDebugValue:LC,useDeferredValue:function(t){return go().memoizedState=t},useTransition:function(){var t=x2(!1),e=t[0];return t=_te.bind(null,t[1]),go().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Vt,i=go();if(Ot){if(n===void 0)throw Error(le(407));n=n()}else{if(n=e(),kn===null)throw Error(le(349));kc&30||X5(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,b2(J5.bind(null,r,o,t),[t]),r.flags|=2048,jm(9,Q5.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=go(),e=kn.identifierPrefix;if(Ot){var n=is,r=rs;n=(r&~(1<<32-Hi(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Nm++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=wte++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Ate={readContext:Ei,useCallback:s6,useContext:Ei,useEffect:$C,useImperativeHandle:o6,useInsertionEffect:n6,useLayoutEffect:r6,useMemo:a6,useReducer:PS,useRef:t6,useState:function(){return PS(Om)},useDebugValue:LC,useDeferredValue:function(t){var e=Ai();return l6(e,hn.memoizedState,t)},useTransition:function(){var t=PS(Om)[0],e=Ai().memoizedState;return[t,e]},useMutableSource:K5,useSyncExternalStore:Y5,useId:c6,unstable_isNewReconciler:!1},Pte={readContext:Ei,useCallback:s6,useContext:Ei,useEffect:$C,useImperativeHandle:o6,useInsertionEffect:n6,useLayoutEffect:r6,useMemo:a6,useReducer:IS,useRef:t6,useState:function(){return IS(Om)},useDebugValue:LC,useDeferredValue:function(t){var e=Ai();return hn===null?e.memoizedState=t:l6(e,hn.memoizedState,t)},useTransition:function(){var t=IS(Om)[0],e=Ai().memoizedState;return[t,e]},useMutableSource:K5,useSyncExternalStore:Y5,useId:c6,unstable_isNewReconciler:!1};function Li(t,e){if(t&&t.defaultProps){e=Ft({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function BE(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ft({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Pw={isMounted:function(t){return(t=t._reactInternals)?cu(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ur(),i=Ba(t),o=fs(r,i);o.payload=e,n!=null&&(o.callback=n),e=Va(t,o,i),e!==null&&(Ki(e,t,i,r),u0(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ur(),i=Ba(t),o=fs(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Va(t,o,i),e!==null&&(Ki(e,t,i,r),u0(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ur(),r=Ba(t),i=fs(n,r);i.tag=2,e!=null&&(i.callback=e),e=Va(t,i,r),e!==null&&(Ki(e,t,r,n),u0(e,t,r))}};function w2(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Em(n,r)||!Em(i,o):!0}function h6(t,e,n){var r=!1,i=Za,o=e.contextType;return typeof o=="object"&&o!==null?o=Ei(o):(i=Pr(e)?Ic:nr.current,r=e.contextTypes,o=(r=r!=null)?qd(t,i):Za),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Pw,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function _2(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Pw.enqueueReplaceState(e,e.state,null)}function UE(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},kC(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Ei(o):(o=Pr(e)?Ic:nr.current,i.context=qd(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(BE(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Pw.enqueueReplaceState(i,i.state,null),ix(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Yd(t,e){try{var n="",r=e;do n+=tee(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function CS(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function zE(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Ite=typeof WeakMap=="function"?WeakMap:Map;function p6(t,e,n){n=fs(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){cx||(cx=!0,ZE=r),zE(t,e)},n}function m6(t,e,n){n=fs(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){zE(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){zE(t,e),typeof r!="function"&&(Fa===null?Fa=new Set([this]):Fa.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function S2(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Ite;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Ute.bind(null,t,e,n),e.then(t,t))}function T2(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function E2(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=fs(-1,1),e.tag=2,Va(n,e,1))),n.lanes|=1),t)}var Cte=Ms.ReactCurrentOwner,wr=!1;function sr(t,e,n,r){e.child=t===null?W5(e,null,n,r):Hd(e,t.child,n,r)}function A2(t,e,n,r,i){n=n.render;var o=e.ref;return Ad(e,i),r=DC(t,e,n,r,o,i),n=MC(),t!==null&&!wr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,_s(t,e,i)):(Ot&&n&&SC(e),e.flags|=1,sr(t,e,r,i),e.child)}function P2(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!GC(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,g6(t,e,o,r,i)):(t=g0(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Em,n(s,r)&&t.ref===e.ref)return _s(t,e,i)}return e.flags|=1,t=Ua(o,r),t.ref=e.ref,t.return=e,e.child=t}function g6(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Em(o,r)&&t.ref===e.ref)if(wr=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(wr=!0);else return e.lanes=t.lanes,_s(t,e,i)}return WE(t,e,n,r,i)}function y6(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},xt(dd,Lr),Lr|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,xt(dd,Lr),Lr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,xt(dd,Lr),Lr|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,xt(dd,Lr),Lr|=r;return sr(t,e,i,n),e.child}function v6(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function WE(t,e,n,r,i){var o=Pr(n)?Ic:nr.current;return o=qd(e,o),Ad(e,i),n=DC(t,e,n,r,o,i),r=MC(),t!==null&&!wr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,_s(t,e,i)):(Ot&&r&&SC(e),e.flags|=1,sr(t,e,n,i),e.child)}function I2(t,e,n,r,i){if(Pr(n)){var o=!0;Z0(e)}else o=!1;if(Ad(e,i),e.stateNode===null)h0(t,e),h6(e,n,r),UE(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ei(c):(c=Pr(n)?Ic:nr.current,c=qd(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&_2(e,s,r,c),pa=!1;var h=e.memoizedState;s.state=h,ix(e,r,s,i),l=e.memoizedState,a!==r||h!==l||Ar.current||pa?(typeof u=="function"&&(BE(e,n,u,r),l=e.memoizedState),(a=pa||w2(e,n,a,r,h,l,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,G5(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Li(e.type,a),s.props=c,d=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ei(l):(l=Pr(n)?Ic:nr.current,l=qd(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||h!==l)&&_2(e,s,r,l),pa=!1,h=e.memoizedState,s.state=h,ix(e,r,s,i);var v=e.memoizedState;a!==d||h!==v||Ar.current||pa?(typeof p=="function"&&(BE(e,n,p,r),v=e.memoizedState),(c=pa||w2(e,n,c,r,h,v,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,v,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,v,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),s.props=r,s.state=v,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return qE(t,e,n,r,o,i)}function qE(t,e,n,r,i,o){v6(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&h2(e,n,!1),_s(t,e,o);r=e.stateNode,Cte.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Hd(e,t.child,null,o),e.child=Hd(e,null,a,o)):sr(t,e,a,o),e.memoizedState=r.state,i&&h2(e,n,!0),e.child}function x6(t){var e=t.stateNode;e.pendingContext?f2(t,e.pendingContext,e.pendingContext!==e.context):e.context&&f2(t,e.context,!1),NC(t,e.containerInfo)}function C2(t,e,n,r,i){return Gd(),EC(i),e.flags|=256,sr(t,e,n,r),e.child}var GE={dehydrated:null,treeContext:null,retryLane:0};function HE(t){return{baseLanes:t,cachePool:null,transitions:null}}function b6(t,e,n){var r=e.pendingProps,i=$t.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),xt($t,i&1),t===null)return VE(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=kw(s,r,0,null),t=bc(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=HE(n),e.memoizedState=GE,t):VC(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return kte(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ua(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Ua(a,o):(o=bc(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?HE(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=GE,r}return o=t.child,t=o.sibling,r=Ua(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function VC(t,e){return e=kw({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function mv(t,e,n,r){return r!==null&&EC(r),Hd(e,t.child,null,n),t=VC(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function kte(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=CS(Error(le(422))),mv(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=kw({mode:"visible",children:r.children},i,0,null),o=bc(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Hd(e,t.child,null,s),e.child.memoizedState=HE(s),e.memoizedState=GE,o);if(!(e.mode&1))return mv(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(le(419)),r=CS(o,r,void 0),mv(t,e,s,r)}if(a=(s&t.childLanes)!==0,wr||a){if(r=kn,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,ws(t,i),Ki(r,t,i,-1))}return qC(),r=CS(Error(le(421))),mv(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=zte.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,qr=La(i.nextSibling),Gr=e,Ot=!0,zi=null,t!==null&&(mi[gi++]=rs,mi[gi++]=is,mi[gi++]=Cc,rs=t.id,is=t.overflow,Cc=e),e=VC(e,r.children),e.flags|=4096,e)}function k2(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),FE(t.return,e,n)}function kS(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function w6(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(sr(t,e,r.children,n),r=$t.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&k2(t,n,e);else if(t.tag===19)k2(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(xt($t,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ox(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),kS(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ox(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}kS(e,!0,n,null,o);break;case"together":kS(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function h0(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function _s(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Nc|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(le(153));if(e.child!==null){for(t=e.child,n=Ua(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ua(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Nte(t,e,n){switch(e.tag){case 3:x6(e),Gd();break;case 5:H5(e);break;case 1:Pr(e.type)&&Z0(e);break;case 4:NC(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;xt(nx,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(xt($t,$t.current&1),e.flags|=128,null):n&e.child.childLanes?b6(t,e,n):(xt($t,$t.current&1),t=_s(t,e,n),t!==null?t.sibling:null);xt($t,$t.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return w6(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),xt($t,$t.current),r)break;return null;case 22:case 23:return e.lanes=0,y6(t,e,n)}return _s(t,e,n)}var _6,KE,S6,T6;_6=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};KE=function(){};S6=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,uc(Po.current);var o=null;switch(n){case"input":i=gE(t,i),r=gE(t,r),o=[];break;case"select":i=Ft({},i,{value:void 0}),r=Ft({},r,{value:void 0}),o=[];break;case"textarea":i=xE(t,i),r=xE(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Q0)}wE(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(vm.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(vm.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Et("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};T6=function(t,e,n,r){n!==r&&(e.flags|=4)};function Zh(t,e){if(!Ot)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Wn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Ote(t,e,n){var r=e.pendingProps;switch(TC(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wn(e),null;case 1:return Pr(e.type)&&J0(),Wn(e),null;case 3:return r=e.stateNode,Kd(),Ct(Ar),Ct(nr),jC(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(hv(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,zi!==null&&(nA(zi),zi=null))),KE(t,e),Wn(e),null;case 5:OC(e);var i=uc(km.current);if(n=e.type,t!==null&&e.stateNode!=null)S6(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(le(166));return Wn(e),null}if(t=uc(Po.current),hv(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[xo]=e,r[Im]=o,t=(e.mode&1)!==0,n){case"dialog":Et("cancel",r),Et("close",r);break;case"iframe":case"object":case"embed":Et("load",r);break;case"video":case"audio":for(i=0;i<Ep.length;i++)Et(Ep[i],r);break;case"source":Et("error",r);break;case"img":case"image":case"link":Et("error",r),Et("load",r);break;case"details":Et("toggle",r);break;case"input":VR(r,o),Et("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Et("invalid",r);break;case"textarea":BR(r,o),Et("invalid",r)}wE(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&fv(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&fv(r.textContent,a,t),i=["children",""+a]):vm.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Et("scroll",r)}switch(n){case"input":iv(r),FR(r,o,!0);break;case"textarea":iv(r),UR(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Q0)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=JB(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[xo]=e,t[Im]=r,_6(t,e,!1,!1),e.stateNode=t;e:{switch(s=_E(n,r),n){case"dialog":Et("cancel",t),Et("close",t),i=r;break;case"iframe":case"object":case"embed":Et("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ep.length;i++)Et(Ep[i],t);i=r;break;case"source":Et("error",t),i=r;break;case"img":case"image":case"link":Et("error",t),Et("load",t),i=r;break;case"details":Et("toggle",t),i=r;break;case"input":VR(t,r),i=gE(t,r),Et("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ft({},r,{value:void 0}),Et("invalid",t);break;case"textarea":BR(t,r),i=xE(t,r),Et("invalid",t);break;default:i=r}wE(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?t5(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ZB(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&xm(t,l):typeof l=="number"&&xm(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(vm.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Et("scroll",t):l!=null&&cC(t,o,l,s))}switch(n){case"input":iv(t),FR(t,r,!1);break;case"textarea":iv(t),UR(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ja(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?_d(t,!!r.multiple,o,!1):r.defaultValue!=null&&_d(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Q0)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Wn(e),null;case 6:if(t&&e.stateNode!=null)T6(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(le(166));if(n=uc(km.current),uc(Po.current),hv(e)){if(r=e.stateNode,n=e.memoizedProps,r[xo]=e,(o=r.nodeValue!==n)&&(t=Gr,t!==null))switch(t.tag){case 3:fv(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&fv(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[xo]=e,e.stateNode=r}return Wn(e),null;case 13:if(Ct($t),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ot&&qr!==null&&e.mode&1&&!(e.flags&128))U5(),Gd(),e.flags|=98560,o=!1;else if(o=hv(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(le(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(le(317));o[xo]=e}else Gd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Wn(e),o=!1}else zi!==null&&(nA(zi),zi=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||$t.current&1?gn===0&&(gn=3):qC())),e.updateQueue!==null&&(e.flags|=4),Wn(e),null);case 4:return Kd(),KE(t,e),t===null&&Am(e.stateNode.containerInfo),Wn(e),null;case 10:return IC(e.type._context),Wn(e),null;case 17:return Pr(e.type)&&J0(),Wn(e),null;case 19:if(Ct($t),o=e.memoizedState,o===null)return Wn(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Zh(o,!1);else{if(gn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=ox(t),s!==null){for(e.flags|=128,Zh(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return xt($t,$t.current&1|2),e.child}t=t.sibling}o.tail!==null&&Kt()>Xd&&(e.flags|=128,r=!0,Zh(o,!1),e.lanes=4194304)}else{if(!r)if(t=ox(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Zh(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Ot)return Wn(e),null}else 2*Kt()-o.renderingStartTime>Xd&&n!==1073741824&&(e.flags|=128,r=!0,Zh(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Kt(),e.sibling=null,n=$t.current,xt($t,r?n&1|2:n&1),e):(Wn(e),null);case 22:case 23:return WC(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Lr&1073741824&&(Wn(e),e.subtreeFlags&6&&(e.flags|=8192)):Wn(e),null;case 24:return null;case 25:return null}throw Error(le(156,e.tag))}function jte(t,e){switch(TC(e),e.tag){case 1:return Pr(e.type)&&J0(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Kd(),Ct(Ar),Ct(nr),jC(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return OC(e),null;case 13:if(Ct($t),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(le(340));Gd()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ct($t),null;case 4:return Kd(),null;case 10:return IC(e.type._context),null;case 22:case 23:return WC(),null;case 24:return null;default:return null}}var gv=!1,Yn=!1,Rte=typeof WeakSet=="function"?WeakSet:Set,ve=null;function ud(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Wt(t,e,r)}else n.current=null}function YE(t,e,n){try{n()}catch(r){Wt(t,e,r)}}var N2=!1;function Dte(t,e){if(OE=K0,t=C5(),_C(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===t)break t;if(h===n&&++c===i&&(a=s),h===o&&++u===r&&(l=s),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(jE={focusedElem:t,selectionRange:n},K0=!1,ve=e;ve!==null;)if(e=ve,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ve=t;else for(;ve!==null;){e=ve;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var m=v.memoizedProps,y=v.memoizedState,b=e.stateNode,x=b.getSnapshotBeforeUpdate(e.elementType===e.type?m:Li(e.type,m),y);b.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(le(163))}}catch(E){Wt(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,ve=t;break}ve=e.return}return v=N2,N2=!1,v}function zp(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&YE(e,n,o)}i=i.next}while(i!==r)}}function Iw(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function XE(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function E6(t){var e=t.alternate;e!==null&&(t.alternate=null,E6(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[xo],delete e[Im],delete e[ME],delete e[yte],delete e[vte])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function A6(t){return t.tag===5||t.tag===3||t.tag===4}function O2(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||A6(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function QE(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Q0));else if(r!==4&&(t=t.child,t!==null))for(QE(t,e,n),t=t.sibling;t!==null;)QE(t,e,n),t=t.sibling}function JE(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(JE(t,e,n),t=t.sibling;t!==null;)JE(t,e,n),t=t.sibling}var $n=null,Vi=!1;function na(t,e,n){for(n=n.child;n!==null;)P6(t,e,n),n=n.sibling}function P6(t,e,n){if(Ao&&typeof Ao.onCommitFiberUnmount=="function")try{Ao.onCommitFiberUnmount(bw,n)}catch{}switch(n.tag){case 5:Yn||ud(n,e);case 6:var r=$n,i=Vi;$n=null,na(t,e,n),$n=r,Vi=i,$n!==null&&(Vi?(t=$n,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):$n.removeChild(n.stateNode));break;case 18:$n!==null&&(Vi?(t=$n,n=n.stateNode,t.nodeType===8?SS(t.parentNode,n):t.nodeType===1&&SS(t,n),Sm(t)):SS($n,n.stateNode));break;case 4:r=$n,i=Vi,$n=n.stateNode.containerInfo,Vi=!0,na(t,e,n),$n=r,Vi=i;break;case 0:case 11:case 14:case 15:if(!Yn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&YE(n,e,s),i=i.next}while(i!==r)}na(t,e,n);break;case 1:if(!Yn&&(ud(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Wt(n,e,a)}na(t,e,n);break;case 21:na(t,e,n);break;case 22:n.mode&1?(Yn=(r=Yn)||n.memoizedState!==null,na(t,e,n),Yn=r):na(t,e,n);break;default:na(t,e,n)}}function j2(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Rte),e.forEach(function(r){var i=Wte.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ri(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:$n=a.stateNode,Vi=!1;break e;case 3:$n=a.stateNode.containerInfo,Vi=!0;break e;case 4:$n=a.stateNode.containerInfo,Vi=!0;break e}a=a.return}if($n===null)throw Error(le(160));P6(o,s,i),$n=null,Vi=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Wt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)I6(e,t),e=e.sibling}function I6(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ri(e,t),mo(t),r&4){try{zp(3,t,t.return),Iw(3,t)}catch(m){Wt(t,t.return,m)}try{zp(5,t,t.return)}catch(m){Wt(t,t.return,m)}}break;case 1:Ri(e,t),mo(t),r&512&&n!==null&&ud(n,n.return);break;case 5:if(Ri(e,t),mo(t),r&512&&n!==null&&ud(n,n.return),t.flags&32){var i=t.stateNode;try{xm(i,"")}catch(m){Wt(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&XB(i,o),_E(a,s);var c=_E(a,o);for(s=0;s<l.length;s+=2){var u=l[s],d=l[s+1];u==="style"?t5(i,d):u==="dangerouslySetInnerHTML"?ZB(i,d):u==="children"?xm(i,d):cC(i,u,d,c)}switch(a){case"input":yE(i,o);break;case"textarea":QB(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?_d(i,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?_d(i,!!o.multiple,o.defaultValue,!0):_d(i,!!o.multiple,o.multiple?[]:"",!1))}i[Im]=o}catch(m){Wt(t,t.return,m)}}break;case 6:if(Ri(e,t),mo(t),r&4){if(t.stateNode===null)throw Error(le(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(m){Wt(t,t.return,m)}}break;case 3:if(Ri(e,t),mo(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Sm(e.containerInfo)}catch(m){Wt(t,t.return,m)}break;case 4:Ri(e,t),mo(t);break;case 13:Ri(e,t),mo(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(UC=Kt())),r&4&&j2(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Yn=(c=Yn)||u,Ri(e,t),Yn=c):Ri(e,t),mo(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(ve=t,u=t.child;u!==null;){for(d=ve=u;ve!==null;){switch(h=ve,p=h.child,h.tag){case 0:case 11:case 14:case 15:zp(4,h,h.return);break;case 1:ud(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(m){Wt(r,n,m)}}break;case 5:ud(h,h.return);break;case 22:if(h.memoizedState!==null){D2(d);continue}}p!==null?(p.return=h,ve=p):D2(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=e5("display",s))}catch(m){Wt(t,t.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){Wt(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ri(e,t),mo(t),r&4&&j2(t);break;case 21:break;default:Ri(e,t),mo(t)}}function mo(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(A6(n)){var r=n;break e}n=n.return}throw Error(le(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(xm(i,""),r.flags&=-33);var o=O2(t);JE(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=O2(t);QE(t,a,s);break;default:throw Error(le(161))}}catch(l){Wt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Mte(t,e,n){ve=t,C6(t)}function C6(t,e,n){for(var r=(t.mode&1)!==0;ve!==null;){var i=ve,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||gv;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Yn;a=gv;var c=Yn;if(gv=s,(Yn=l)&&!c)for(ve=i;ve!==null;)s=ve,l=s.child,s.tag===22&&s.memoizedState!==null?M2(i):l!==null?(l.return=s,ve=l):M2(i);for(;o!==null;)ve=o,C6(o),o=o.sibling;ve=i,gv=a,Yn=c}R2(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ve=o):R2(t)}}function R2(t){for(;ve!==null;){var e=ve;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Yn||Iw(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Yn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Li(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&v2(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}v2(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Sm(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(le(163))}Yn||e.flags&512&&XE(e)}catch(h){Wt(e,e.return,h)}}if(e===t){ve=null;break}if(n=e.sibling,n!==null){n.return=e.return,ve=n;break}ve=e.return}}function D2(t){for(;ve!==null;){var e=ve;if(e===t){ve=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ve=n;break}ve=e.return}}function M2(t){for(;ve!==null;){var e=ve;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Iw(4,e)}catch(l){Wt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Wt(e,i,l)}}var o=e.return;try{XE(e)}catch(l){Wt(e,o,l)}break;case 5:var s=e.return;try{XE(e)}catch(l){Wt(e,s,l)}}}catch(l){Wt(e,e.return,l)}if(e===t){ve=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ve=a;break}ve=e.return}}var $te=Math.ceil,lx=Ms.ReactCurrentDispatcher,FC=Ms.ReactCurrentOwner,_i=Ms.ReactCurrentBatchConfig,Ke=0,kn=null,tn=null,Fn=0,Lr=0,dd=ml(0),gn=0,Rm=null,Nc=0,Cw=0,BC=0,Wp=null,br=null,UC=0,Xd=1/0,Zo=null,cx=!1,ZE=null,Fa=null,yv=!1,Ia=null,ux=0,qp=0,eA=null,p0=-1,m0=0;function ur(){return Ke&6?Kt():p0!==-1?p0:p0=Kt()}function Ba(t){return t.mode&1?Ke&2&&Fn!==0?Fn&-Fn:bte.transition!==null?(m0===0&&(m0=h5()),m0):(t=ot,t!==0||(t=window.event,t=t===void 0?16:b5(t.type)),t):1}function Ki(t,e,n,r){if(50<qp)throw qp=0,eA=null,Error(le(185));Yg(t,n,r),(!(Ke&2)||t!==kn)&&(t===kn&&(!(Ke&2)&&(Cw|=n),gn===4&&xa(t,Fn)),Ir(t,r),n===1&&Ke===0&&!(e.mode&1)&&(Xd=Kt()+500,Ew&&gl()))}function Ir(t,e){var n=t.callbackNode;bee(t,e);var r=H0(t,t===kn?Fn:0);if(r===0)n!==null&&qR(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&qR(n),e===1)t.tag===0?xte($2.bind(null,t)):V5($2.bind(null,t)),mte(function(){!(Ke&6)&&gl()}),n=null;else{switch(p5(r)){case 1:n=pC;break;case 4:n=d5;break;case 16:n=G0;break;case 536870912:n=f5;break;default:n=G0}n=$6(n,k6.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function k6(t,e){if(p0=-1,m0=0,Ke&6)throw Error(le(327));var n=t.callbackNode;if(Pd()&&t.callbackNode!==n)return null;var r=H0(t,t===kn?Fn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=dx(t,r);else{e=r;var i=Ke;Ke|=2;var o=O6();(kn!==t||Fn!==e)&&(Zo=null,Xd=Kt()+500,xc(t,e));do try{Fte();break}catch(a){N6(t,a)}while(1);PC(),lx.current=o,Ke=i,tn!==null?e=0:(kn=null,Fn=0,e=gn)}if(e!==0){if(e===2&&(i=PE(t),i!==0&&(r=i,e=tA(t,i))),e===1)throw n=Rm,xc(t,0),xa(t,r),Ir(t,Kt()),n;if(e===6)xa(t,r);else{if(i=t.current.alternate,!(r&30)&&!Lte(i)&&(e=dx(t,r),e===2&&(o=PE(t),o!==0&&(r=o,e=tA(t,o))),e===1))throw n=Rm,xc(t,0),xa(t,r),Ir(t,Kt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(le(345));case 2:Hl(t,br,Zo);break;case 3:if(xa(t,r),(r&130023424)===r&&(e=UC+500-Kt(),10<e)){if(H0(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ur(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=DE(Hl.bind(null,t,br,Zo),e);break}Hl(t,br,Zo);break;case 4:if(xa(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Hi(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Kt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*$te(r/1960))-r,10<r){t.timeoutHandle=DE(Hl.bind(null,t,br,Zo),r);break}Hl(t,br,Zo);break;case 5:Hl(t,br,Zo);break;default:throw Error(le(329))}}}return Ir(t,Kt()),t.callbackNode===n?k6.bind(null,t):null}function tA(t,e){var n=Wp;return t.current.memoizedState.isDehydrated&&(xc(t,e).flags|=256),t=dx(t,e),t!==2&&(e=br,br=n,e!==null&&nA(e)),t}function nA(t){br===null?br=t:br.push.apply(br,t)}function Lte(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Zi(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function xa(t,e){for(e&=~BC,e&=~Cw,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Hi(e),r=1<<n;t[n]=-1,e&=~r}}function $2(t){if(Ke&6)throw Error(le(327));Pd();var e=H0(t,0);if(!(e&1))return Ir(t,Kt()),null;var n=dx(t,e);if(t.tag!==0&&n===2){var r=PE(t);r!==0&&(e=r,n=tA(t,r))}if(n===1)throw n=Rm,xc(t,0),xa(t,e),Ir(t,Kt()),n;if(n===6)throw Error(le(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Hl(t,br,Zo),Ir(t,Kt()),null}function zC(t,e){var n=Ke;Ke|=1;try{return t(e)}finally{Ke=n,Ke===0&&(Xd=Kt()+500,Ew&&gl())}}function Oc(t){Ia!==null&&Ia.tag===0&&!(Ke&6)&&Pd();var e=Ke;Ke|=1;var n=_i.transition,r=ot;try{if(_i.transition=null,ot=1,t)return t()}finally{ot=r,_i.transition=n,Ke=e,!(Ke&6)&&gl()}}function WC(){Lr=dd.current,Ct(dd)}function xc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,pte(n)),tn!==null)for(n=tn.return;n!==null;){var r=n;switch(TC(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&J0();break;case 3:Kd(),Ct(Ar),Ct(nr),jC();break;case 5:OC(r);break;case 4:Kd();break;case 13:Ct($t);break;case 19:Ct($t);break;case 10:IC(r.type._context);break;case 22:case 23:WC()}n=n.return}if(kn=t,tn=t=Ua(t.current,null),Fn=Lr=e,gn=0,Rm=null,BC=Cw=Nc=0,br=Wp=null,cc!==null){for(e=0;e<cc.length;e++)if(n=cc[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}cc=null}return t}function N6(t,e){do{var n=tn;try{if(PC(),d0.current=ax,sx){for(var r=Vt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}sx=!1}if(kc=0,An=hn=Vt=null,Up=!1,Nm=0,FC.current=null,n===null||n.return===null){gn=1,Rm=e,tn=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Fn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=T2(s);if(p!==null){p.flags&=-257,E2(p,s,a,o,e),p.mode&1&&S2(o,c,e),e=p,l=c;var v=e.updateQueue;if(v===null){var m=new Set;m.add(l),e.updateQueue=m}else v.add(l);break e}else{if(!(e&1)){S2(o,c,e),qC();break e}l=Error(le(426))}}else if(Ot&&a.mode&1){var y=T2(s);if(y!==null){!(y.flags&65536)&&(y.flags|=256),E2(y,s,a,o,e),EC(Yd(l,a));break e}}o=l=Yd(l,a),gn!==4&&(gn=2),Wp===null?Wp=[o]:Wp.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var b=p6(o,l,e);y2(o,b);break e;case 1:a=l;var x=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Fa===null||!Fa.has(w)))){o.flags|=65536,e&=-e,o.lanes|=e;var E=m6(o,a,e);y2(o,E);break e}}o=o.return}while(o!==null)}R6(n)}catch(S){e=S,tn===n&&n!==null&&(tn=n=n.return);continue}break}while(1)}function O6(){var t=lx.current;return lx.current=ax,t===null?ax:t}function qC(){(gn===0||gn===3||gn===2)&&(gn=4),kn===null||!(Nc&268435455)&&!(Cw&268435455)||xa(kn,Fn)}function dx(t,e){var n=Ke;Ke|=2;var r=O6();(kn!==t||Fn!==e)&&(Zo=null,xc(t,e));do try{Vte();break}catch(i){N6(t,i)}while(1);if(PC(),Ke=n,lx.current=r,tn!==null)throw Error(le(261));return kn=null,Fn=0,gn}function Vte(){for(;tn!==null;)j6(tn)}function Fte(){for(;tn!==null&&!dee();)j6(tn)}function j6(t){var e=M6(t.alternate,t,Lr);t.memoizedProps=t.pendingProps,e===null?R6(t):tn=e,FC.current=null}function R6(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=jte(n,e),n!==null){n.flags&=32767,tn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{gn=6,tn=null;return}}else if(n=Ote(n,e,Lr),n!==null){tn=n;return}if(e=e.sibling,e!==null){tn=e;return}tn=e=t}while(e!==null);gn===0&&(gn=5)}function Hl(t,e,n){var r=ot,i=_i.transition;try{_i.transition=null,ot=1,Bte(t,e,n,r)}finally{_i.transition=i,ot=r}return null}function Bte(t,e,n,r){do Pd();while(Ia!==null);if(Ke&6)throw Error(le(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(le(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(wee(t,o),t===kn&&(tn=kn=null,Fn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||yv||(yv=!0,$6(G0,function(){return Pd(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=_i.transition,_i.transition=null;var s=ot;ot=1;var a=Ke;Ke|=4,FC.current=null,Dte(t,n),I6(n,t),ate(jE),K0=!!OE,jE=OE=null,t.current=n,Mte(n),fee(),Ke=a,ot=s,_i.transition=o}else t.current=n;if(yv&&(yv=!1,Ia=t,ux=i),o=t.pendingLanes,o===0&&(Fa=null),mee(n.stateNode),Ir(t,Kt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(cx)throw cx=!1,t=ZE,ZE=null,t;return ux&1&&t.tag!==0&&Pd(),o=t.pendingLanes,o&1?t===eA?qp++:(qp=0,eA=t):qp=0,gl(),null}function Pd(){if(Ia!==null){var t=p5(ux),e=_i.transition,n=ot;try{if(_i.transition=null,ot=16>t?16:t,Ia===null)var r=!1;else{if(t=Ia,Ia=null,ux=0,Ke&6)throw Error(le(331));var i=Ke;for(Ke|=4,ve=t.current;ve!==null;){var o=ve,s=o.child;if(ve.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ve=c;ve!==null;){var u=ve;switch(u.tag){case 0:case 11:case 15:zp(8,u,o)}var d=u.child;if(d!==null)d.return=u,ve=d;else for(;ve!==null;){u=ve;var h=u.sibling,p=u.return;if(E6(u),u===c){ve=null;break}if(h!==null){h.return=p,ve=h;break}ve=p}}}var v=o.alternate;if(v!==null){var m=v.child;if(m!==null){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(m!==null)}}ve=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,ve=s;else e:for(;ve!==null;){if(o=ve,o.flags&2048)switch(o.tag){case 0:case 11:case 15:zp(9,o,o.return)}var b=o.sibling;if(b!==null){b.return=o.return,ve=b;break e}ve=o.return}}var x=t.current;for(ve=x;ve!==null;){s=ve;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,ve=w;else e:for(s=x;ve!==null;){if(a=ve,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Iw(9,a)}}catch(S){Wt(a,a.return,S)}if(a===s){ve=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,ve=E;break e}ve=a.return}}if(Ke=i,gl(),Ao&&typeof Ao.onPostCommitFiberRoot=="function")try{Ao.onPostCommitFiberRoot(bw,t)}catch{}r=!0}return r}finally{ot=n,_i.transition=e}}return!1}function L2(t,e,n){e=Yd(n,e),e=p6(t,e,1),t=Va(t,e,1),e=ur(),t!==null&&(Yg(t,1,e),Ir(t,e))}function Wt(t,e,n){if(t.tag===3)L2(t,t,n);else for(;e!==null;){if(e.tag===3){L2(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Fa===null||!Fa.has(r))){t=Yd(n,t),t=m6(e,t,1),e=Va(e,t,1),t=ur(),e!==null&&(Yg(e,1,t),Ir(e,t));break}}e=e.return}}function Ute(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ur(),t.pingedLanes|=t.suspendedLanes&n,kn===t&&(Fn&n)===n&&(gn===4||gn===3&&(Fn&130023424)===Fn&&500>Kt()-UC?xc(t,0):BC|=n),Ir(t,e)}function D6(t,e){e===0&&(t.mode&1?(e=av,av<<=1,!(av&130023424)&&(av=4194304)):e=1);var n=ur();t=ws(t,e),t!==null&&(Yg(t,e,n),Ir(t,n))}function zte(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),D6(t,n)}function Wte(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(le(314))}r!==null&&r.delete(e),D6(t,n)}var M6;M6=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ar.current)wr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return wr=!1,Nte(t,e,n);wr=!!(t.flags&131072)}else wr=!1,Ot&&e.flags&1048576&&F5(e,tx,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;h0(t,e),t=e.pendingProps;var i=qd(e,nr.current);Ad(e,n),i=DC(null,e,r,t,i,n);var o=MC();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Pr(r)?(o=!0,Z0(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,kC(e),i.updater=Pw,e.stateNode=i,i._reactInternals=e,UE(e,r,t,n),e=qE(null,e,r,!0,o,n)):(e.tag=0,Ot&&o&&SC(e),sr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(h0(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Gte(r),t=Li(r,t),i){case 0:e=WE(null,e,r,t,n);break e;case 1:e=I2(null,e,r,t,n);break e;case 11:e=A2(null,e,r,t,n);break e;case 14:e=P2(null,e,r,Li(r.type,t),n);break e}throw Error(le(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Li(r,i),WE(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Li(r,i),I2(t,e,r,i,n);case 3:e:{if(x6(e),t===null)throw Error(le(387));r=e.pendingProps,o=e.memoizedState,i=o.element,G5(t,e),ix(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Yd(Error(le(423)),e),e=C2(t,e,r,n,i);break e}else if(r!==i){i=Yd(Error(le(424)),e),e=C2(t,e,r,n,i);break e}else for(qr=La(e.stateNode.containerInfo.firstChild),Gr=e,Ot=!0,zi=null,n=W5(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Gd(),r===i){e=_s(t,e,n);break e}sr(t,e,r,n)}e=e.child}return e;case 5:return H5(e),t===null&&VE(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,RE(r,i)?s=null:o!==null&&RE(r,o)&&(e.flags|=32),v6(t,e),sr(t,e,s,n),e.child;case 6:return t===null&&VE(e),null;case 13:return b6(t,e,n);case 4:return NC(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Hd(e,null,r,n):sr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Li(r,i),A2(t,e,r,i,n);case 7:return sr(t,e,e.pendingProps,n),e.child;case 8:return sr(t,e,e.pendingProps.children,n),e.child;case 12:return sr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,xt(nx,r._currentValue),r._currentValue=s,o!==null)if(Zi(o.value,s)){if(o.children===i.children&&!Ar.current){e=_s(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=fs(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),FE(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(le(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),FE(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}sr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ad(e,n),i=Ei(i),r=r(i),e.flags|=1,sr(t,e,r,n),e.child;case 14:return r=e.type,i=Li(r,e.pendingProps),i=Li(r.type,i),P2(t,e,r,i,n);case 15:return g6(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Li(r,i),h0(t,e),e.tag=1,Pr(r)?(t=!0,Z0(e)):t=!1,Ad(e,n),h6(e,r,i),UE(e,r,i,n),qE(null,e,r,!0,t,n);case 19:return w6(t,e,n);case 22:return y6(t,e,n)}throw Error(le(156,e.tag))};function $6(t,e){return u5(t,e)}function qte(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xi(t,e,n,r){return new qte(t,e,n,r)}function GC(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Gte(t){if(typeof t=="function")return GC(t)?1:0;if(t!=null){if(t=t.$$typeof,t===dC)return 11;if(t===fC)return 14}return 2}function Ua(t,e){var n=t.alternate;return n===null?(n=xi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function g0(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")GC(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case td:return bc(n.children,i,o,e);case uC:s=8,i|=8;break;case fE:return t=xi(12,n,e,i|2),t.elementType=fE,t.lanes=o,t;case hE:return t=xi(13,n,e,i),t.elementType=hE,t.lanes=o,t;case pE:return t=xi(19,n,e,i),t.elementType=pE,t.lanes=o,t;case HB:return kw(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case qB:s=10;break e;case GB:s=9;break e;case dC:s=11;break e;case fC:s=14;break e;case ha:s=16,r=null;break e}throw Error(le(130,t==null?t:typeof t,""))}return e=xi(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function bc(t,e,n,r){return t=xi(7,t,r,e),t.lanes=n,t}function kw(t,e,n,r){return t=xi(22,t,r,e),t.elementType=HB,t.lanes=n,t.stateNode={isHidden:!1},t}function NS(t,e,n){return t=xi(6,t,null,e),t.lanes=n,t}function OS(t,e,n){return e=xi(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Hte(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fS(0),this.expirationTimes=fS(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fS(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function HC(t,e,n,r,i,o,s,a,l){return t=new Hte(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=xi(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},kC(o),t}function Kte(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ed,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function L6(t){if(!t)return Za;t=t._reactInternals;e:{if(cu(t)!==t||t.tag!==1)throw Error(le(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Pr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(le(171))}if(t.tag===1){var n=t.type;if(Pr(n))return L5(t,n,e)}return e}function V6(t,e,n,r,i,o,s,a,l){return t=HC(n,r,!0,t,i,o,s,a,l),t.context=L6(null),n=t.current,r=ur(),i=Ba(n),o=fs(r,i),o.callback=e??null,Va(n,o,i),t.current.lanes=i,Yg(t,i,r),Ir(t,r),t}function Nw(t,e,n,r){var i=e.current,o=ur(),s=Ba(i);return n=L6(n),e.context===null?e.context=n:e.pendingContext=n,e=fs(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Va(i,e,s),t!==null&&(Ki(t,i,s,o),u0(t,i,s)),s}function fx(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function V2(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function KC(t,e){V2(t,e),(t=t.alternate)&&V2(t,e)}function Yte(){return null}var F6=typeof reportError=="function"?reportError:function(t){console.error(t)};function YC(t){this._internalRoot=t}Ow.prototype.render=YC.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(le(409));Nw(t,e,null,null)};Ow.prototype.unmount=YC.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Oc(function(){Nw(null,t,null,null)}),e[bs]=null}};function Ow(t){this._internalRoot=t}Ow.prototype.unstable_scheduleHydration=function(t){if(t){var e=y5();t={blockedOn:null,target:t,priority:e};for(var n=0;n<va.length&&e!==0&&e<va[n].priority;n++);va.splice(n,0,t),n===0&&x5(t)}};function XC(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function jw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function F2(){}function Xte(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=fx(s);o.call(c)}}var s=V6(e,r,t,0,null,!1,!1,"",F2);return t._reactRootContainer=s,t[bs]=s.current,Am(t.nodeType===8?t.parentNode:t),Oc(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=fx(l);a.call(c)}}var l=HC(t,0,!1,null,null,!1,!1,"",F2);return t._reactRootContainer=l,t[bs]=l.current,Am(t.nodeType===8?t.parentNode:t),Oc(function(){Nw(e,l,n,r)}),l}function Rw(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=fx(s);a.call(l)}}Nw(e,s,t,i)}else s=Xte(n,e,t,i,r);return fx(s)}m5=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Tp(e.pendingLanes);n!==0&&(mC(e,n|1),Ir(e,Kt()),!(Ke&6)&&(Xd=Kt()+500,gl()))}break;case 13:Oc(function(){var r=ws(t,1);if(r!==null){var i=ur();Ki(r,t,1,i)}}),KC(t,1)}};gC=function(t){if(t.tag===13){var e=ws(t,134217728);if(e!==null){var n=ur();Ki(e,t,134217728,n)}KC(t,134217728)}};g5=function(t){if(t.tag===13){var e=Ba(t),n=ws(t,e);if(n!==null){var r=ur();Ki(n,t,e,r)}KC(t,e)}};y5=function(){return ot};v5=function(t,e){var n=ot;try{return ot=t,e()}finally{ot=n}};TE=function(t,e,n){switch(e){case"input":if(yE(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Tw(r);if(!i)throw Error(le(90));YB(r),yE(r,i)}}}break;case"textarea":QB(t,n);break;case"select":e=n.value,e!=null&&_d(t,!!n.multiple,e,!1)}};i5=zC;o5=Oc;var Qte={usingClientEntryPoint:!1,Events:[Qg,od,Tw,n5,r5,zC]},ep={findFiberByHostInstance:lc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Jte={bundleType:ep.bundleType,version:ep.version,rendererPackageName:ep.rendererPackageName,rendererConfig:ep.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ms.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=l5(t),t===null?null:t.stateNode},findFiberByHostInstance:ep.findFiberByHostInstance||Yte,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vv.isDisabled&&vv.supportsFiber)try{bw=vv.inject(Jte),Ao=vv}catch{}}ii.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qte;ii.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!XC(e))throw Error(le(200));return Kte(t,e,null,n)};ii.createRoot=function(t,e){if(!XC(t))throw Error(le(299));var n=!1,r="",i=F6;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=HC(t,1,!1,null,null,n,!1,r,i),t[bs]=e.current,Am(t.nodeType===8?t.parentNode:t),new YC(e)};ii.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(le(188)):(t=Object.keys(t).join(","),Error(le(268,t)));return t=l5(e),t=t===null?null:t.stateNode,t};ii.flushSync=function(t){return Oc(t)};ii.hydrate=function(t,e,n){if(!jw(e))throw Error(le(200));return Rw(null,t,e,!0,n)};ii.hydrateRoot=function(t,e,n){if(!XC(t))throw Error(le(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=F6;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=V6(e,null,t,1,n??null,i,!1,o,s),t[bs]=e.current,Am(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Ow(e)};ii.render=function(t,e,n){if(!jw(e))throw Error(le(200));return Rw(null,t,e,!1,n)};ii.unmountComponentAtNode=function(t){if(!jw(t))throw Error(le(40));return t._reactRootContainer?(Oc(function(){Rw(null,null,t,!1,function(){t._reactRootContainer=null,t[bs]=null})}),!0):!1};ii.unstable_batchedUpdates=zC;ii.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!jw(n))throw Error(le(200));if(t==null||t._reactInternals===void 0)throw Error(le(38));return Rw(t,e,n,!1,r)};ii.version="18.3.1-next-f1338f8080-20240426";function B6(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(B6)}catch(t){console.error(t)}}B6(),BB.exports=ii;var bi=BB.exports;const Zte=Ze(bi);var B2=bi;uE.createRoot=B2.createRoot,uE.hydrateRoot=B2.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dm(){return Dm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dm.apply(this,arguments)}var Ca;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ca||(Ca={}));const U2="popstate";function ene(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return rA("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:z6(i)}return nne(e,n,null,t)}function vn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function U6(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function tne(){return Math.random().toString(36).substr(2,8)}function z2(t,e){return{usr:t.state,key:t.key,idx:e}}function rA(t,e,n,r){return n===void 0&&(n=null),Dm({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?th(e):e,{state:n,key:e&&e.key||r||tne()})}function z6(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function th(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function nne(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Ca.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(Dm({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function d(){a=Ca.Pop;let y=u(),b=y==null?null:y-c;c=y,l&&l({action:a,location:m.location,delta:b})}function h(y,b){a=Ca.Push;let x=rA(m.location,y,b);n&&n(x,y),c=u()+1;let w=z2(x,c),E=m.createHref(x);try{s.pushState(w,"",E)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(E)}o&&l&&l({action:a,location:m.location,delta:1})}function p(y,b){a=Ca.Replace;let x=rA(m.location,y,b);n&&n(x,y),c=u();let w=z2(x,c),E=m.createHref(x);s.replaceState(w,"",E),o&&l&&l({action:a,location:m.location,delta:0})}function v(y){let b=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof y=="string"?y:z6(y);return x=x.replace(/ $/,"%20"),vn(b,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,b)}let m={get action(){return a},get location(){return t(i,s)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(U2,d),l=y,()=>{i.removeEventListener(U2,d),l=null}},createHref(y){return e(i,y)},createURL:v,encodeLocation(y){let b=v(y);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:p,go(y){return s.go(y)}};return m}var W2;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(W2||(W2={}));function rne(t,e,n){return n===void 0&&(n="/"),ine(t,e,n,!1)}function ine(t,e,n,r){let i=typeof e=="string"?th(e):e,o=G6(i.pathname||"/",n);if(o==null)return null;let s=W6(t);one(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let c=gne(o);a=pne(s[l],c,r)}return a}function W6(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(vn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=wc([r,l.relativePath]),u=n.concat(l);o.children&&o.children.length>0&&(vn(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),W6(o.children,e,u,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:fne(c,o.index),routesMeta:u})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of q6(o.path))i(o,s,l)}),e}function q6(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=q6(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function one(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:hne(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const sne=/^:[\w-]+$/,ane=3,lne=2,cne=1,une=10,dne=-2,q2=t=>t==="*";function fne(t,e){let n=t.split("/"),r=n.length;return n.some(q2)&&(r+=dne),e&&(r+=lne),n.filter(i=>!q2(i)).reduce((i,o)=>i+(sne.test(o)?ane:o===""?cne:une),r)}function hne(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function pne(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=o==="/"?e:e.slice(o.length)||"/",d=G2({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=G2({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(i,d.params),s.push({params:i,pathname:wc([o,d.pathname]),pathnameBase:_ne(wc([o,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(o=wc([o,d.pathnameBase]))}return s}function G2(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=mne(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let m=a[d]||"";s=o.slice(0,o.length-m.length).replace(/(.)\/+$/,"$1")}const v=a[d];return p&&!v?c[h]=void 0:c[h]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:t}}function mne(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),U6(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function gne(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return U6(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function G6(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function yne(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?th(t):t;return{pathname:n?n.startsWith("/")?n:vne(n,e):e,search:Sne(r),hash:Tne(i)}}function vne(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function jS(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function xne(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function bne(t,e){let n=xne(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function wne(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=th(t):(i=Dm({},t),vn(!i.pathname||!i.pathname.includes("?"),jS("?","pathname","search",i)),vn(!i.pathname||!i.pathname.includes("#"),jS("#","pathname","hash",i)),vn(!i.search||!i.search.includes("#"),jS("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let d=e.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=yne(i,a),c=s&&s!=="/"&&s.endsWith("/"),u=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const wc=t=>t.join("/").replace(/\/\/+/g,"/"),_ne=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Sne=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Tne=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Ene(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const H6=["post","put","patch","delete"];new Set(H6);const Ane=["get",...H6];new Set(Ane);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mm(){return Mm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mm.apply(this,arguments)}const QC=_.createContext(null),Pne=_.createContext(null),Dw=_.createContext(null),Mw=_.createContext(null),nh=_.createContext({outlet:null,matches:[],isDataRoute:!1}),K6=_.createContext(null);function $w(){return _.useContext(Mw)!=null}function Y6(){return $w()||vn(!1),_.useContext(Mw).location}function X6(t){_.useContext(Dw).static||_.useLayoutEffect(t)}function Ine(){let{isDataRoute:t}=_.useContext(nh);return t?Bne():Cne()}function Cne(){$w()||vn(!1);let t=_.useContext(QC),{basename:e,future:n,navigator:r}=_.useContext(Dw),{matches:i}=_.useContext(nh),{pathname:o}=Y6(),s=JSON.stringify(bne(i,n.v7_relativeSplatPath)),a=_.useRef(!1);return X6(()=>{a.current=!0}),_.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=wne(c,JSON.parse(s),o,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:wc([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,s,o,t])}function kne(t,e){return Nne(t,e)}function Nne(t,e,n,r){$w()||vn(!1);let{navigator:i}=_.useContext(Dw),{matches:o}=_.useContext(nh),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=Y6(),u;if(e){var d;let y=typeof e=="string"?th(e):e;l==="/"||(d=y.pathname)!=null&&d.startsWith(l)||vn(!1),u=y}else u=c;let h=u.pathname||"/",p=h;if(l!=="/"){let y=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let v=rne(t,{pathname:p}),m=Mne(v&&v.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:wc([l,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:wc([l,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),o,n,r);return e&&m?_.createElement(Mw.Provider,{value:{location:Mm({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ca.Pop}},m):m}function One(){let t=Fne(),e=Ene(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),n?_.createElement("pre",{style:i},n):null,o)}const jne=_.createElement(One,null);class Rne extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?_.createElement(nh.Provider,{value:this.props.routeContext},_.createElement(K6.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Dne(t){let{routeContext:e,match:n,children:r}=t,i=_.useContext(QC);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),_.createElement(nh.Provider,{value:e},r)}function Mne(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=s.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||vn(!1),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<s.length;u++){let d=s[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:p}=n,v=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||v){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,d,h)=>{let p,v=!1,m=null,y=null;n&&(p=a&&d.route.id?a[d.route.id]:void 0,m=d.route.errorElement||jne,l&&(c<0&&h===0?(Une("route-fallback",!1),v=!0,y=null):c===h&&(v=!0,y=d.route.hydrateFallbackElement||null)));let b=e.concat(s.slice(0,h+1)),x=()=>{let w;return p?w=m:v?w=y:d.route.Component?w=_.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=u,_.createElement(Dne,{match:d,routeContext:{outlet:u,matches:b,isDataRoute:n!=null},children:w})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?_.createElement(Rne,{location:n.location,revalidation:n.revalidation,component:m,error:p,children:x(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):x()},null)}var Q6=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Q6||{}),hx=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(hx||{});function $ne(t){let e=_.useContext(QC);return e||vn(!1),e}function Lne(t){let e=_.useContext(Pne);return e||vn(!1),e}function Vne(t){let e=_.useContext(nh);return e||vn(!1),e}function J6(t){let e=Vne(),n=e.matches[e.matches.length-1];return n.route.id||vn(!1),n.route.id}function Fne(){var t;let e=_.useContext(K6),n=Lne(hx.UseRouteError),r=J6(hx.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Bne(){let{router:t}=$ne(Q6.UseNavigateStable),e=J6(hx.UseNavigateStable),n=_.useRef(!1);return X6(()=>{n.current=!0}),_.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Mm({fromRouteId:e},o)))},[t,e])}const H2={};function Une(t,e,n){!e&&!H2[t]&&(H2[t]=!0)}function zne(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function iA(t){vn(!1)}function Wne(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ca.Pop,navigator:o,static:s=!1,future:a}=t;$w()&&vn(!1);let l=e.replace(/^\/*/,"/"),c=_.useMemo(()=>({basename:l,navigator:o,static:s,future:Mm({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=th(r));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:v="default"}=r,m=_.useMemo(()=>{let y=G6(u,l);return y==null?null:{location:{pathname:y,search:d,hash:h,state:p,key:v},navigationType:i}},[l,u,d,h,p,v,i]);return m==null?null:_.createElement(Dw.Provider,{value:c},_.createElement(Mw.Provider,{children:n,value:m}))}function qne(t){let{children:e,location:n}=t;return kne(oA(e),n)}new Promise(()=>{});function oA(t,e){e===void 0&&(e=[]);let n=[];return _.Children.forEach(t,(r,i)=>{if(!_.isValidElement(r))return;let o=[...e,i];if(r.type===_.Fragment){n.push.apply(n,oA(r.props.children,o));return}r.type!==iA&&vn(!1),!r.props.index||!r.props.children||vn(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=oA(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Gne="6";try{window.__reactRouterVersion=Gne}catch{}const Hne="startTransition",K2=sC[Hne];function Kne(t){let{basename:e,children:n,future:r,window:i}=t,o=_.useRef();o.current==null&&(o.current=ene({window:i,v5Compat:!0}));let s=o.current,[a,l]=_.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},u=_.useCallback(d=>{c&&K2?K2(()=>l(d)):l(d)},[l,c]);return _.useLayoutEffect(()=>s.listen(u),[s,u]),_.useEffect(()=>zne(r),[r]),_.createElement(Wne,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}var Y2;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Y2||(Y2={}));var X2;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(X2||(X2={}));function ye(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function Q2(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Lw(...t){return e=>{let n=!1;const r=t.map(i=>{const o=Q2(i,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():Q2(t[i],null)}}}}function Qe(...t){return _.useCallback(Lw(...t),t)}function Yne(t,e){const n=_.createContext(e),r=o=>{const{children:s,...a}=o,l=_.useMemo(()=>a,Object.values(a));return f.jsx(n.Provider,{value:l,children:s})};r.displayName=t+"Provider";function i(o){const s=_.useContext(n);if(s)return s;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,i]}function so(t,e=[]){let n=[];function r(o,s){const a=_.createContext(s),l=n.length;n=[...n,s];const c=d=>{var b;const{scope:h,children:p,...v}=d,m=((b=h==null?void 0:h[t])==null?void 0:b[l])||a,y=_.useMemo(()=>v,Object.values(v));return f.jsx(m.Provider,{value:y,children:p})};c.displayName=o+"Provider";function u(d,h){var m;const p=((m=h==null?void 0:h[t])==null?void 0:m[l])||a,v=_.useContext(p);if(v)return v;if(s!==void 0)return s;throw new Error(`\`${d}\` must be used within \`${o}\``)}return[c,u]}const i=()=>{const o=n.map(s=>_.createContext(s));return function(a){const l=(a==null?void 0:a[t])||o;return _.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,Xne(i,...e)]}function Xne(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(o)[`__scope${c}`];return{...a,...d}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}function jc(t){const e=Jne(t),n=_.forwardRef((r,i)=>{const{children:o,...s}=r,a=_.Children.toArray(o),l=a.find(ere);if(l){const c=l.props.children,u=a.map(d=>d===l?_.Children.count(c)>1?_.Children.only(null):_.isValidElement(c)?c.props.children:null:d);return f.jsx(e,{...s,ref:i,children:_.isValidElement(c)?_.cloneElement(c,void 0,u):null})}return f.jsx(e,{...s,ref:i,children:o})});return n.displayName=`${t}.Slot`,n}var Qne=jc("Slot");function Jne(t){const e=_.forwardRef((n,r)=>{const{children:i,...o}=n;if(_.isValidElement(i)){const s=nre(i),a=tre(o,i.props);return i.type!==_.Fragment&&(a.ref=r?Lw(r,s):s),_.cloneElement(i,a)}return _.Children.count(i)>1?_.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Zne=Symbol("radix.slottable");function ere(t){return _.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Zne}function tre(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...a)=>{const l=o(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function nre(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Vw(t){const e=t+"CollectionProvider",[n,r]=so(e),[i,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),s=m=>{const{scope:y,children:b}=m,x=M.useRef(null),w=M.useRef(new Map).current;return f.jsx(i,{scope:y,itemMap:w,collectionRef:x,children:b})};s.displayName=e;const a=t+"CollectionSlot",l=jc(a),c=M.forwardRef((m,y)=>{const{scope:b,children:x}=m,w=o(a,b),E=Qe(y,w.collectionRef);return f.jsx(l,{ref:E,children:x})});c.displayName=a;const u=t+"CollectionItemSlot",d="data-radix-collection-item",h=jc(u),p=M.forwardRef((m,y)=>{const{scope:b,children:x,...w}=m,E=M.useRef(null),S=Qe(y,E),P=o(u,b);return M.useEffect(()=>(P.itemMap.set(E,{ref:E,...w}),()=>void P.itemMap.delete(E))),f.jsx(h,{[d]:"",ref:S,children:x})});p.displayName=u;function v(m){const y=o(t+"CollectionConsumer",m);return M.useCallback(()=>{const x=y.collectionRef.current;if(!x)return[];const w=Array.from(x.querySelectorAll(`[${d}]`));return Array.from(y.itemMap.values()).sort((P,T)=>w.indexOf(P.ref.current)-w.indexOf(T.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:s,Slot:c,ItemSlot:p},v,r]}var rre=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ne=rre.reduce((t,e)=>{const n=jc(`Primitive.${e}`),r=_.forwardRef((i,o)=>{const{asChild:s,...a}=i,l=s?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(l,{...a,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function JC(t,e){t&&bi.flushSync(()=>t.dispatchEvent(e))}function fr(t){const e=_.useRef(t);return _.useEffect(()=>{e.current=t}),_.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function ire(t,e=globalThis==null?void 0:globalThis.document){const n=fr(t);_.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var ore="DismissableLayer",sA="dismissableLayer.update",sre="dismissableLayer.pointerDownOutside",are="dismissableLayer.focusOutside",J2,Z6=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Zg=_.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:s,onDismiss:a,...l}=t,c=_.useContext(Z6),[u,d]=_.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=_.useState({}),v=Qe(e,T=>d(T)),m=Array.from(c.layers),[y]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),b=m.indexOf(y),x=u?m.indexOf(u):-1,w=c.layersWithOutsidePointerEventsDisabled.size>0,E=x>=b,S=cre(T=>{const A=T.target,k=[...c.branches].some(O=>O.contains(A));!E||k||(i==null||i(T),s==null||s(T),T.defaultPrevented||a==null||a())},h),P=ure(T=>{const A=T.target;[...c.branches].some(O=>O.contains(A))||(o==null||o(T),s==null||s(T),T.defaultPrevented||a==null||a())},h);return ire(T=>{x===c.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&a&&(T.preventDefault(),a()))},h),_.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(J2=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),Z2(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=J2)}},[u,h,n,c]),_.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),Z2())},[u,c]),_.useEffect(()=>{const T=()=>p({});return document.addEventListener(sA,T),()=>document.removeEventListener(sA,T)},[]),f.jsx(Ne.div,{...l,ref:v,style:{pointerEvents:w?E?"auto":"none":void 0,...t.style},onFocusCapture:ye(t.onFocusCapture,P.onFocusCapture),onBlurCapture:ye(t.onBlurCapture,P.onBlurCapture),onPointerDownCapture:ye(t.onPointerDownCapture,S.onPointerDownCapture)})});Zg.displayName=ore;var lre="DismissableLayerBranch",eU=_.forwardRef((t,e)=>{const n=_.useContext(Z6),r=_.useRef(null),i=Qe(e,r);return _.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),f.jsx(Ne.div,{...t,ref:i})});eU.displayName=lre;function cre(t,e=globalThis==null?void 0:globalThis.document){const n=fr(t),r=_.useRef(!1),i=_.useRef(()=>{});return _.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let l=function(){tU(sre,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function ure(t,e=globalThis==null?void 0:globalThis.document){const n=fr(t),r=_.useRef(!1);return _.useEffect(()=>{const i=o=>{o.target&&!r.current&&tU(are,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Z2(){const t=new CustomEvent(sA);document.dispatchEvent(t)}function tU(t,e,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?JC(i,o):i.dispatchEvent(o)}var dre=Zg,fre=eU,sn=globalThis!=null&&globalThis.document?_.useLayoutEffect:()=>{},hre="Portal",ey=_.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,o]=_.useState(!1);sn(()=>o(!0),[]);const s=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return s?Zte.createPortal(f.jsx(Ne.div,{...r,ref:e}),s):null});ey.displayName=hre;function pre(t,e){return _.useReducer((n,r)=>e[n][r]??n,t)}var $s=t=>{const{present:e,children:n}=t,r=mre(e),i=typeof n=="function"?n({present:r.isPresent}):_.Children.only(n),o=Qe(r.ref,gre(i));return typeof n=="function"||r.isPresent?_.cloneElement(i,{ref:o}):null};$s.displayName="Presence";function mre(t){const[e,n]=_.useState(),r=_.useRef(null),i=_.useRef(t),o=_.useRef("none"),s=t?"mounted":"unmounted",[a,l]=pre(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const c=xv(r.current);o.current=a==="mounted"?c:"none"},[a]),sn(()=>{const c=r.current,u=i.current;if(u!==t){const h=o.current,p=xv(c);t?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&h!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),sn(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,d=p=>{const m=xv(r.current).includes(CSS.escape(p.animationName));if(p.target===e&&m&&(l("ANIMATION_END"),!i.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},h=p=>{p.target===e&&(o.current=xv(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:_.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function xv(t){return(t==null?void 0:t.animationName)||"none"}function gre(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var yre=sC[" useInsertionEffect ".trim().toString()]||sn;function Rc({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,o,s]=vre({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:i;{const u=_.useRef(t!==void 0);_.useEffect(()=>{const d=u.current;d!==a&&console.warn(`${r} is changing from ${d?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,r])}const c=_.useCallback(u=>{var d;if(a){const h=xre(u)?u(t):u;h!==t&&((d=s.current)==null||d.call(s,h))}else o(u)},[a,t,o,s]);return[l,c]}function vre({defaultProp:t,onChange:e}){const[n,r]=_.useState(t),i=_.useRef(n),o=_.useRef(e);return yre(()=>{o.current=e},[e]),_.useEffect(()=>{var s;i.current!==n&&((s=o.current)==null||s.call(o,n),i.current=n)},[n,i]),[n,r,o]}function xre(t){return typeof t=="function"}var nU=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),bre="VisuallyHidden",ZC=_.forwardRef((t,e)=>f.jsx(Ne.span,{...t,ref:e,style:{...nU,...t.style}}));ZC.displayName=bre;var ek="ToastProvider",[tk,wre,_re]=Vw("Toast"),[rU,cqe]=so("Toast",[_re]),[Sre,Fw]=rU(ek),iU=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:o=50,children:s}=t,[a,l]=_.useState(null),[c,u]=_.useState(0),d=_.useRef(!1),h=_.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${ek}\`. Expected non-empty \`string\`.`),f.jsx(tk.Provider,{scope:e,children:f.jsx(Sre,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:o,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:_.useCallback(()=>u(p=>p+1),[]),onToastRemove:_.useCallback(()=>u(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:h,children:s})})};iU.displayName=ek;var oU="ToastViewport",Tre=["F8"],aA="toast.viewportPause",lA="toast.viewportResume",sU=_.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=Tre,label:i="Notifications ({hotkey})",...o}=t,s=Fw(oU,n),a=wre(n),l=_.useRef(null),c=_.useRef(null),u=_.useRef(null),d=_.useRef(null),h=Qe(e,d,s.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=s.toastCount>0;_.useEffect(()=>{const y=b=>{var w;r.length!==0&&r.every(E=>b[E]||b.code===E)&&((w=d.current)==null||w.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[r]),_.useEffect(()=>{const y=l.current,b=d.current;if(v&&y&&b){const x=()=>{if(!s.isClosePausedRef.current){const P=new CustomEvent(aA);b.dispatchEvent(P),s.isClosePausedRef.current=!0}},w=()=>{if(s.isClosePausedRef.current){const P=new CustomEvent(lA);b.dispatchEvent(P),s.isClosePausedRef.current=!1}},E=P=>{!y.contains(P.relatedTarget)&&w()},S=()=>{y.contains(document.activeElement)||w()};return y.addEventListener("focusin",x),y.addEventListener("focusout",E),y.addEventListener("pointermove",x),y.addEventListener("pointerleave",S),window.addEventListener("blur",x),window.addEventListener("focus",w),()=>{y.removeEventListener("focusin",x),y.removeEventListener("focusout",E),y.removeEventListener("pointermove",x),y.removeEventListener("pointerleave",S),window.removeEventListener("blur",x),window.removeEventListener("focus",w)}}},[v,s.isClosePausedRef]);const m=_.useCallback(({tabbingDirection:y})=>{const x=a().map(w=>{const E=w.ref.current,S=[E,...$re(E)];return y==="forwards"?S:S.reverse()});return(y==="forwards"?x.reverse():x).flat()},[a]);return _.useEffect(()=>{const y=d.current;if(y){const b=x=>{var S,P,T;const w=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!w){const A=document.activeElement,k=x.shiftKey;if(x.target===y&&k){(S=c.current)==null||S.focus();return}const C=m({tabbingDirection:k?"backwards":"forwards"}),j=C.findIndex($=>$===A);RS(C.slice(j+1))?x.preventDefault():k?(P=c.current)==null||P.focus():(T=u.current)==null||T.focus()}};return y.addEventListener("keydown",b),()=>y.removeEventListener("keydown",b)}},[a,m]),f.jsxs(fre,{ref:l,role:"region","aria-label":i.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&f.jsx(cA,{ref:c,onFocusFromOutsideViewport:()=>{const y=m({tabbingDirection:"forwards"});RS(y)}}),f.jsx(tk.Slot,{scope:n,children:f.jsx(Ne.ol,{tabIndex:-1,...o,ref:h})}),v&&f.jsx(cA,{ref:u,onFocusFromOutsideViewport:()=>{const y=m({tabbingDirection:"backwards"});RS(y)}})]})});sU.displayName=oU;var aU="ToastFocusProxy",cA=_.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,o=Fw(aU,n);return f.jsx(ZC,{tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:s=>{var c;const a=s.relatedTarget;!((c=o.viewport)!=null&&c.contains(a))&&r()}})});cA.displayName=aU;var ty="Toast",Ere="toast.swipeStart",Are="toast.swipeMove",Pre="toast.swipeCancel",Ire="toast.swipeEnd",lU=_.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:o,...s}=t,[a,l]=Rc({prop:r,defaultProp:i??!0,onChange:o,caller:ty});return f.jsx($s,{present:n||a,children:f.jsx(Nre,{open:a,...s,ref:e,onClose:()=>l(!1),onPause:fr(t.onPause),onResume:fr(t.onResume),onSwipeStart:ye(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ye(t.onSwipeMove,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:ye(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ye(t.onSwipeEnd,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});lU.displayName=ty;var[Cre,kre]=rU(ty,{onClose(){}}),Nre=_.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:o,onClose:s,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:d,onSwipeCancel:h,onSwipeEnd:p,...v}=t,m=Fw(ty,n),[y,b]=_.useState(null),x=Qe(e,$=>b($)),w=_.useRef(null),E=_.useRef(null),S=i||m.duration,P=_.useRef(0),T=_.useRef(S),A=_.useRef(0),{onToastAdd:k,onToastRemove:O}=m,N=fr(()=>{var B;(y==null?void 0:y.contains(document.activeElement))&&((B=m.viewport)==null||B.focus()),s()}),C=_.useCallback($=>{!$||$===1/0||(window.clearTimeout(A.current),P.current=new Date().getTime(),A.current=window.setTimeout(N,$))},[N]);_.useEffect(()=>{const $=m.viewport;if($){const B=()=>{C(T.current),c==null||c()},U=()=>{const z=new Date().getTime()-P.current;T.current=T.current-z,window.clearTimeout(A.current),l==null||l()};return $.addEventListener(aA,U),$.addEventListener(lA,B),()=>{$.removeEventListener(aA,U),$.removeEventListener(lA,B)}}},[m.viewport,S,l,c,C]),_.useEffect(()=>{o&&!m.isClosePausedRef.current&&C(S)},[o,S,m.isClosePausedRef,C]),_.useEffect(()=>(k(),()=>O()),[k,O]);const j=_.useMemo(()=>y?mU(y):null,[y]);return m.viewport?f.jsxs(f.Fragment,{children:[j&&f.jsx(Ore,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:j}),f.jsx(Cre,{scope:n,onClose:N,children:bi.createPortal(f.jsx(tk.ItemSlot,{scope:n,children:f.jsx(dre,{asChild:!0,onEscapeKeyDown:ye(a,()=>{m.isFocusedToastEscapeKeyDownRef.current||N(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:f.jsx(Ne.li,{tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":m.swipeDirection,...v,ref:x,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ye(t.onKeyDown,$=>{$.key==="Escape"&&(a==null||a($.nativeEvent),$.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,N()))}),onPointerDown:ye(t.onPointerDown,$=>{$.button===0&&(w.current={x:$.clientX,y:$.clientY})}),onPointerMove:ye(t.onPointerMove,$=>{if(!w.current)return;const B=$.clientX-w.current.x,U=$.clientY-w.current.y,z=!!E.current,V=["left","right"].includes(m.swipeDirection),L=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,Y=V?L(0,B):0,K=V?0:L(0,U),F=$.pointerType==="touch"?10:2,te={x:Y,y:K},ie={originalEvent:$,delta:te};z?(E.current=te,bv(Are,d,ie,{discrete:!1})):eD(te,m.swipeDirection,F)?(E.current=te,bv(Ere,u,ie,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(B)>F||Math.abs(U)>F)&&(w.current=null)}),onPointerUp:ye(t.onPointerUp,$=>{const B=E.current,U=$.target;if(U.hasPointerCapture($.pointerId)&&U.releasePointerCapture($.pointerId),E.current=null,w.current=null,B){const z=$.currentTarget,V={originalEvent:$,delta:B};eD(B,m.swipeDirection,m.swipeThreshold)?bv(Ire,p,V,{discrete:!0}):bv(Pre,h,V,{discrete:!0}),z.addEventListener("click",L=>L.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),Ore=t=>{const{__scopeToast:e,children:n,...r}=t,i=Fw(ty,e),[o,s]=_.useState(!1),[a,l]=_.useState(!1);return Dre(()=>s(!0)),_.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:f.jsx(ey,{asChild:!0,children:f.jsx(ZC,{...r,children:o&&f.jsxs(f.Fragment,{children:[i.label," ",n]})})})},jre="ToastTitle",cU=_.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return f.jsx(Ne.div,{...r,ref:e})});cU.displayName=jre;var Rre="ToastDescription",uU=_.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return f.jsx(Ne.div,{...r,ref:e})});uU.displayName=Rre;var dU="ToastAction",fU=_.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?f.jsx(pU,{altText:n,asChild:!0,children:f.jsx(nk,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${dU}\`. Expected non-empty \`string\`.`),null)});fU.displayName=dU;var hU="ToastClose",nk=_.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=kre(hU,n);return f.jsx(pU,{asChild:!0,children:f.jsx(Ne.button,{type:"button",...r,ref:e,onClick:ye(t.onClick,i.onClose)})})});nk.displayName=hU;var pU=_.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return f.jsx(Ne.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function mU(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),Mre(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!i)if(o){const s=r.dataset.radixToastAnnounceAlt;s&&e.push(s)}else e.push(...mU(r))}}),e}function bv(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?JC(i,o):i.dispatchEvent(o)}var eD=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),o=r>i;return e==="left"||e==="right"?o&&r>n:!o&&i>n};function Dre(t=()=>{}){const e=fr(t);sn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function Mre(t){return t.nodeType===t.ELEMENT_NODE}function $re(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function RS(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var Lre=iU,gU=sU,yU=lU,vU=cU,xU=uU,bU=fU,wU=nk;function _U(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=_U(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function je(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=_U(t))&&(r&&(r+=" "),r+=e);return r}const tD=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,nD=je,Bw=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return nD(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=e,s=Object.keys(i).map(c=>{const u=n==null?void 0:n[c],d=o==null?void 0:o[c];if(u===null)return null;const h=tD(u)||tD(d);return i[c][h]}),a=n&&Object.entries(n).reduce((c,u)=>{let[d,h]=u;return h===void 0||(c[d]=h),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:d,className:h,...p}=u;return Object.entries(p).every(v=>{let[m,y]=v;return Array.isArray(y)?y.includes({...o,...a}[m]):{...o,...a}[m]===y})?[...c,d,h]:c},[]);return nD(t,s,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Vre={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fre=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),me=(t,e)=>{const n=_.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:a="",children:l,...c},u)=>_.createElement("svg",{ref:u,...Vre,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:["lucide",`lucide-${Fre(t)}`,a].join(" "),...c},[...e.map(([d,h])=>_.createElement(d,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uu=me("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SU=me("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=me("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=me("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bre=me("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=me("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=me("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=me("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cr=me("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=me("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const el=me("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ure=me("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ik=me("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yi=me("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ok=me("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=me("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TU=me("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=me("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EU=me("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lk=me("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=me("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zre=me("Command",[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wre=me("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qre=me("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AU=me("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PU=me("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=me("FileJson",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uA=me("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gre=me("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hre=me("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=me("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kre=me("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yre=me("ListOrdered",[["line",{x1:"10",x2:"21",y1:"6",y2:"6",key:"76qw6h"}],["line",{x1:"10",x2:"21",y1:"12",y2:"12",key:"16nom4"}],["line",{x1:"10",x2:"21",y1:"18",y2:"18",key:"u3jurt"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xre=me("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=me("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=me("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qre=me("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uk=me("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jre=me("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IU=me("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dA=me("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qi=me("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CU=me("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zre=me("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kU=me("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NU=me("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eie=me("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OU=me("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uw=me("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=me("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=me("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tie=me("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=me("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qd=me("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=me("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dk=me("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=me("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=me("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jU=me("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=me("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RU=me("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DU=me("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jd=me("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Id=me("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cd=me("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nie=me("Unlink",[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hA=me("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=me("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=me("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=me("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=me("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rie=me("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iie=me("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),hk="-",oie=t=>{const e=aie(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:s=>{const a=s.split(hk);return a[0]===""&&a.length!==1&&a.shift(),MU(a,e)||sie(s)},getConflictingClassGroupIds:(s,a)=>{const l=n[s]||[];return a&&r[s]?[...l,...r[s]]:l}}},MU=(t,e)=>{var s;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?MU(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const o=t.join(hk);return(s=e.validators.find(({validator:a})=>a(o)))==null?void 0:s.classGroupId},lD=/^\[(.+)\]$/,sie=t=>{if(lD.test(t)){const e=lD.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},aie=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return cie(Object.entries(t.classGroups),n).forEach(([o,s])=>{pA(s,r,o,e)}),r},pA=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const o=i===""?e:cD(e,i);o.classGroupId=n;return}if(typeof i=="function"){if(lie(i)){pA(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,s])=>{pA(s,cD(e,o),n,r)})})},cD=(t,e)=>{let n=t;return e.split(hk).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},lie=t=>t.isThemeGetter,cie=(t,e)=>e?t.map(([n,r])=>{const i=r.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([s,a])=>[e+s,a])):o);return[n,i]}):t,uie=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(o,s)=>{n.set(o,s),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let s=n.get(o);if(s!==void 0)return s;if((s=r.get(o))!==void 0)return i(o,s),s},set(o,s){n.has(o)?n.set(o,s):i(o,s)}}},$U="!",die=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],o=e.length,s=a=>{const l=[];let c=0,u=0,d;for(let y=0;y<a.length;y++){let b=a[y];if(c===0){if(b===i&&(r||a.slice(y,y+o)===e)){l.push(a.slice(u,y)),u=y+o;continue}if(b==="/"){d=y;continue}}b==="["?c++:b==="]"&&c--}const h=l.length===0?a:a.substring(u),p=h.startsWith($U),v=p?h.substring(1):h,m=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:v,maybePostfixModifierPosition:m}};return n?a=>n({className:a,parseClassName:s}):s},fie=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},hie=t=>({cache:uie(t.cacheSize),parseClassName:die(t),...oie(t)}),pie=/\s+/,mie=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,o=[],s=t.trim().split(pie);let a="";for(let l=s.length-1;l>=0;l-=1){const c=s[l],{modifiers:u,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:p}=n(c);let v=!!p,m=r(v?h.substring(0,p):h);if(!m){if(!v){a=c+(a.length>0?" "+a:a);continue}if(m=r(h),!m){a=c+(a.length>0?" "+a:a);continue}v=!1}const y=fie(u).join(":"),b=d?y+$U:y,x=b+m;if(o.includes(x))continue;o.push(x);const w=i(m,v);for(let E=0;E<w.length;++E){const S=w[E];o.push(b+S)}a=c+(a.length>0?" "+a:a)}return a};function gie(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=LU(e))&&(r&&(r+=" "),r+=n);return r}const LU=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=LU(t[r]))&&(n&&(n+=" "),n+=e);return n};function yie(t,...e){let n,r,i,o=s;function s(l){const c=e.reduce((u,d)=>d(u),t());return n=hie(c),r=n.cache.get,i=n.cache.set,o=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=mie(l,n);return i(l,u),u}return function(){return o(gie.apply(null,arguments))}}const Tt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},VU=/^\[(?:([a-z-]+):)?(.+)\]$/i,vie=/^\d+\/\d+$/,xie=new Set(["px","full","screen"]),bie=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,wie=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,_ie=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Sie=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Tie=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Qo=t=>kd(t)||xie.has(t)||vie.test(t),ra=t=>rh(t,"length",Oie),kd=t=>!!t&&!Number.isNaN(Number(t)),MS=t=>rh(t,"number",kd),tp=t=>!!t&&Number.isInteger(Number(t)),Eie=t=>t.endsWith("%")&&kd(t.slice(0,-1)),De=t=>VU.test(t),ia=t=>bie.test(t),Aie=new Set(["length","size","percentage"]),Pie=t=>rh(t,Aie,FU),Iie=t=>rh(t,"position",FU),Cie=new Set(["image","url"]),kie=t=>rh(t,Cie,Rie),Nie=t=>rh(t,"",jie),np=()=>!0,rh=(t,e,n)=>{const r=VU.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},Oie=t=>wie.test(t)&&!_ie.test(t),FU=()=>!1,jie=t=>Sie.test(t),Rie=t=>Tie.test(t),Die=()=>{const t=Tt("colors"),e=Tt("spacing"),n=Tt("blur"),r=Tt("brightness"),i=Tt("borderColor"),o=Tt("borderRadius"),s=Tt("borderSpacing"),a=Tt("borderWidth"),l=Tt("contrast"),c=Tt("grayscale"),u=Tt("hueRotate"),d=Tt("invert"),h=Tt("gap"),p=Tt("gradientColorStops"),v=Tt("gradientColorStopPositions"),m=Tt("inset"),y=Tt("margin"),b=Tt("opacity"),x=Tt("padding"),w=Tt("saturate"),E=Tt("scale"),S=Tt("sepia"),P=Tt("skew"),T=Tt("space"),A=Tt("translate"),k=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",De,e],C=()=>[De,e],j=()=>["",Qo,ra],$=()=>["auto",kd,De],B=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",De],Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],K=()=>[kd,De];return{cacheSize:500,separator:":",theme:{colors:[np],spacing:[Qo,ra],blur:["none","",ia,De],brightness:K(),borderColor:[t],borderRadius:["none","","full",ia,De],borderSpacing:C(),borderWidth:j(),contrast:K(),grayscale:L(),hueRotate:K(),invert:L(),gap:C(),gradientColorStops:[t],gradientColorStopPositions:[Eie,ra],inset:N(),margin:N(),opacity:K(),padding:C(),saturate:K(),scale:K(),sepia:L(),skew:K(),space:C(),translate:C()},classGroups:{aspect:[{aspect:["auto","square","video",De]}],container:["container"],columns:[{columns:[ia]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...B(),De]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",tp,De]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",De]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",tp,De]}],"grid-cols":[{"grid-cols":[np]}],"col-start-end":[{col:["auto",{span:["full",tp,De]},De]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[np]}],"row-start-end":[{row:["auto",{span:[tp,De]},De]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",De]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",De]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...V()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...V(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...V(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",De,e]}],"min-w":[{"min-w":[De,e,"min","max","fit"]}],"max-w":[{"max-w":[De,e,"none","full","min","max","fit","prose",{screen:[ia]},ia]}],h:[{h:[De,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[De,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[De,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[De,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ia,ra]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",MS]}],"font-family":[{font:[np]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",De]}],"line-clamp":[{"line-clamp":["none",kd,MS]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Qo,De]}],"list-image":[{"list-image":["none",De]}],"list-style-type":[{list:["none","disc","decimal",De]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Qo,ra]}],"underline-offset":[{"underline-offset":["auto",Qo,De]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",De]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",De]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...B(),Iie]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Pie]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},kie]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:U()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[Qo,De]}],"outline-w":[{outline:[Qo,ra]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:j()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Qo,ra]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ia,Nie]}],"shadow-color":[{shadow:[np]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":z()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ia,De]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[w]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",De]}],duration:[{duration:K()}],ease:[{ease:["linear","in","out","in-out",De]}],delay:[{delay:K()}],animate:[{animate:["none","spin","ping","pulse","bounce",De]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[tp,De]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",De]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",De]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",De]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Qo,ra,MS]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Mie=yie(Die);function _e(...t){return Mie(je(t))}function y0(t){const e=Math.floor(t/3600),n=Math.floor(t%3600/60),r=t%60;return e>0?`${e}h ${n}m`:n>0?`${n}m ${r}s`:`${r}s`}function $ie(t){const n=Math.floor((new Date().getTime()-t.getTime())/1e3);if(n<60)return"just now";const r=Math.floor(n/60);if(r<60)return`${r}m ago`;const i=Math.floor(r/60);if(i<24)return`${i}h ago`;const o=Math.floor(i/24);return o<7?`${o}d ago`:t.toLocaleDateString()}function BU(t){switch(t){case"urgent":return"text-red-600 bg-red-50 border-red-200";case"high":return"text-orange-600 bg-orange-50 border-orange-200";case"medium":return"text-blue-600 bg-blue-50 border-blue-200";case"low":return"text-gray-600 bg-gray-50 border-gray-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}}const Lie=Lre,UU=_.forwardRef(({className:t,...e},n)=>f.jsx(gU,{ref:n,className:_e("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));UU.displayName=gU.displayName;const Vie=Bw("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),zU=_.forwardRef(({className:t,variant:e,...n},r)=>f.jsx(yU,{ref:r,className:_e(Vie({variant:e}),t),...n}));zU.displayName=yU.displayName;const Fie=_.forwardRef(({className:t,...e},n)=>f.jsx(bU,{ref:n,className:_e("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));Fie.displayName=bU.displayName;const WU=_.forwardRef(({className:t,...e},n)=>f.jsx(wU,{ref:n,className:_e("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:f.jsx(Ss,{className:"h-4 w-4"})}));WU.displayName=wU.displayName;const qU=_.forwardRef(({className:t,...e},n)=>f.jsx(vU,{ref:n,className:_e("text-sm font-semibold",t),...e}));qU.displayName=vU.displayName;const GU=_.forwardRef(({className:t,...e},n)=>f.jsx(xU,{ref:n,className:_e("text-sm opacity-90",t),...e}));GU.displayName=xU.displayName;const Bie=3,Uie=5e3;let $S=0;function zie(){return $S=($S+1)%Number.MAX_SAFE_INTEGER,$S.toString()}const LS=new Map,uD=t=>{if(LS.has(t))return;const e=setTimeout(()=>{LS.delete(t),Gp({type:"REMOVE_TOAST",toastId:t})},Uie);LS.set(t,e)},Wie=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Bie)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?uD(n):t.toasts.forEach(r=>{uD(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},v0=[];let x0={toasts:[]};function Gp(t){x0=Wie(x0,t),v0.forEach(e=>{e(x0)})}function qie({...t}){const e=zie(),n=i=>Gp({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Gp({type:"DISMISS_TOAST",toastId:e});return Gp({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function HU(){const[t,e]=_.useState(x0);return _.useEffect(()=>(v0.push(e),()=>{const n=v0.indexOf(e);n>-1&&v0.splice(n,1)}),[t]),{...t,toast:qie,dismiss:n=>Gp({type:"DISMISS_TOAST",toastId:n})}}function Gie(){const{toasts:t}=HU();return f.jsxs(Lie,{children:[t.map(function({id:e,title:n,description:r,action:i,...o}){return f.jsxs(zU,{...o,children:[f.jsxs("div",{className:"grid gap-1",children:[n&&f.jsx(qU,{children:n}),r&&f.jsx(GU,{children:r})]}),i,f.jsx(WU,{})]},e)}),f.jsx(UU,{})]})}const dD=t=>{let e;const n=new Set,r=(u,d)=>{const h=typeof u=="function"?u(e):u;if(!Object.is(h,e)){const p=e;e=d??(typeof h!="object"||h===null)?h:Object.assign({},e,h),n.forEach(v=>v(e,p))}},i=()=>e,l={setState:r,getState:i,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u)),destroy:()=>{n.clear()}},c=e=t(r,i,l);return l},Hie=t=>t?dD(t):dD;var KU={exports:{}},YU={},XU={exports:{}},QU={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zd=_;function Kie(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Yie=typeof Object.is=="function"?Object.is:Kie,Xie=Zd.useState,Qie=Zd.useEffect,Jie=Zd.useLayoutEffect,Zie=Zd.useDebugValue;function eoe(t,e){var n=e(),r=Xie({inst:{value:n,getSnapshot:e}}),i=r[0].inst,o=r[1];return Jie(function(){i.value=n,i.getSnapshot=e,VS(i)&&o({inst:i})},[t,n,e]),Qie(function(){return VS(i)&&o({inst:i}),t(function(){VS(i)&&o({inst:i})})},[t]),Zie(n),n}function VS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Yie(t,n)}catch{return!0}}function toe(t,e){return e()}var noe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?toe:eoe;QU.useSyncExternalStore=Zd.useSyncExternalStore!==void 0?Zd.useSyncExternalStore:noe;XU.exports=QU;var JU=XU.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zw=_,roe=JU;function ioe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ooe=typeof Object.is=="function"?Object.is:ioe,soe=roe.useSyncExternalStore,aoe=zw.useRef,loe=zw.useEffect,coe=zw.useMemo,uoe=zw.useDebugValue;YU.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var o=aoe(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=coe(function(){function l(p){if(!c){if(c=!0,u=p,p=r(p),i!==void 0&&s.hasValue){var v=s.value;if(i(v,p))return d=v}return d=p}if(v=d,ooe(u,p))return v;var m=r(p);return i!==void 0&&i(v,m)?(u=p,v):(u=p,d=m)}var c=!1,u,d,h=n===void 0?null:n;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,n,r,i]);var a=soe(t,o[0],o[1]);return loe(function(){s.hasValue=!0,s.value=a},[a]),uoe(a),a};KU.exports=YU;var doe=KU.exports;const foe=Ze(doe),{useDebugValue:hoe}=M,{useSyncExternalStoreWithSelector:poe}=foe;const moe=t=>t;function goe(t,e=moe,n){const r=poe(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return hoe(r),r}const fD=t=>{const e=typeof t=="function"?Hie(t):t,n=(r,i)=>goe(e,r,i);return Object.assign(n,e),n},yoe=t=>t?fD(t):fD,mA=new Map,wv=t=>{const e=mA.get(t);return e?Object.fromEntries(Object.entries(e.stores).map(([n,r])=>[n,r.getState()])):{}},voe=(t,e,n)=>{if(t===void 0)return{type:"untracked",connection:e.connect(n)};const r=mA.get(n.name);if(r)return{type:"tracked",store:t,...r};const i={connection:e.connect(n),stores:{}};return mA.set(n.name,i),{type:"tracked",store:t,...i}},xoe=(t,e={})=>(n,r,i)=>{const{enabled:o,anonymousActionType:s,store:a,...l}=e;let c;try{c=(o??!1)&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!c)return t(n,r,i);const{connection:u,...d}=voe(a,c,l);let h=!0;i.setState=(m,y,b)=>{const x=n(m,y);if(!h)return x;const w=b===void 0?{type:s||"anonymous"}:typeof b=="string"?{type:b}:b;return a===void 0?(u==null||u.send(w,r()),x):(u==null||u.send({...w,type:`${a}/${w.type}`},{...wv(l.name),[a]:i.getState()}),x)};const p=(...m)=>{const y=h;h=!1,n(...m),h=y},v=t(i.setState,r,i);if(d.type==="untracked"?u==null||u.init(v):(d.stores[d.store]=i,u==null||u.init(Object.fromEntries(Object.entries(d.stores).map(([m,y])=>[m,m===d.store?v:y.getState()])))),i.dispatchFromDevtools&&typeof i.dispatch=="function"){let m=!1;const y=i.dispatch;i.dispatch=(...b)=>{y(...b)}}return u.subscribe(m=>{var y;switch(m.type){case"ACTION":if(typeof m.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return FS(m.payload,b=>{if(b.type==="__setState"){if(a===void 0){p(b.state);return}Object.keys(b.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const x=b.state[a];if(x==null)return;JSON.stringify(i.getState())!==JSON.stringify(x)&&p(x);return}i.dispatchFromDevtools&&typeof i.dispatch=="function"&&i.dispatch(b)});case"DISPATCH":switch(m.payload.type){case"RESET":return p(v),a===void 0?u==null?void 0:u.init(i.getState()):u==null?void 0:u.init(wv(l.name));case"COMMIT":if(a===void 0){u==null||u.init(i.getState());return}return u==null?void 0:u.init(wv(l.name));case"ROLLBACK":return FS(m.state,b=>{if(a===void 0){p(b),u==null||u.init(i.getState());return}p(b[a]),u==null||u.init(wv(l.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return FS(m.state,b=>{if(a===void 0){p(b);return}JSON.stringify(i.getState())!==JSON.stringify(b[a])&&p(b[a])});case"IMPORT_STATE":{const{nextLiftedState:b}=m.payload,x=(y=b.computedStates.slice(-1)[0])==null?void 0:y.state;if(!x)return;p(a===void 0?x:x[a]),u==null||u.send(null,b);return}case"PAUSE_RECORDING":return h=!h}return}}),v},boe=xoe,FS=(t,e)=>{let n;try{n=JSON.parse(t)}catch(r){console.error("[zustand devtools middleware] Could not parse the received json",r)}n!==void 0&&e(n)};function woe(t,e){let n;try{n=t()}catch{return}return{getItem:i=>{var o;const s=l=>l===null?null:JSON.parse(l,e==null?void 0:e.reviver),a=(o=n.getItem(i))!=null?o:null;return a instanceof Promise?a.then(s):s(a)},setItem:(i,o)=>n.setItem(i,JSON.stringify(o,e==null?void 0:e.replacer)),removeItem:i=>n.removeItem(i)}}const Fm=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return Fm(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Fm(r)(n)}}}},_oe=(t,e)=>(n,r,i)=>{let o={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:y=>y,version:0,merge:(y,b)=>({...b,...y}),...e},s=!1;const a=new Set,l=new Set;let c;try{c=o.getStorage()}catch{}if(!c)return t((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...y)},r,i);const u=Fm(o.serialize),d=()=>{const y=o.partialize({...r()});let b;const x=u({state:y,version:o.version}).then(w=>c.setItem(o.name,w)).catch(w=>{b=w});if(b)throw b;return x},h=i.setState;i.setState=(y,b)=>{h(y,b),d()};const p=t((...y)=>{n(...y),d()},r,i);let v;const m=()=>{var y;if(!c)return;s=!1,a.forEach(x=>x(r()));const b=((y=o.onRehydrateStorage)==null?void 0:y.call(o,r()))||void 0;return Fm(c.getItem.bind(c))(o.name).then(x=>{if(x)return o.deserialize(x)}).then(x=>{if(x)if(typeof x.version=="number"&&x.version!==o.version){if(o.migrate)return o.migrate(x.state,x.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return x.state}).then(x=>{var w;return v=o.merge(x,(w=r())!=null?w:p),n(v,!0),d()}).then(()=>{b==null||b(v,void 0),s=!0,l.forEach(x=>x(v))}).catch(x=>{b==null||b(void 0,x)})};return i.persist={setOptions:y=>{o={...o,...y},y.getStorage&&(c=y.getStorage())},clearStorage:()=>{c==null||c.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>m(),hasHydrated:()=>s,onHydrate:y=>(a.add(y),()=>{a.delete(y)}),onFinishHydration:y=>(l.add(y),()=>{l.delete(y)})},m(),v||p},Soe=(t,e)=>(n,r,i)=>{let o={storage:woe(()=>localStorage),partialize:m=>m,version:0,merge:(m,y)=>({...y,...m}),...e},s=!1;const a=new Set,l=new Set;let c=o.storage;if(!c)return t((...m)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...m)},r,i);const u=()=>{const m=o.partialize({...r()});return c.setItem(o.name,{state:m,version:o.version})},d=i.setState;i.setState=(m,y)=>{d(m,y),u()};const h=t((...m)=>{n(...m),u()},r,i);i.getInitialState=()=>h;let p;const v=()=>{var m,y;if(!c)return;s=!1,a.forEach(x=>{var w;return x((w=r())!=null?w:h)});const b=((y=o.onRehydrateStorage)==null?void 0:y.call(o,(m=r())!=null?m:h))||void 0;return Fm(c.getItem.bind(c))(o.name).then(x=>{if(x)if(typeof x.version=="number"&&x.version!==o.version){if(o.migrate)return[!0,o.migrate(x.state,x.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,x.state];return[!1,void 0]}).then(x=>{var w;const[E,S]=x;if(p=o.merge(S,(w=r())!=null?w:h),n(p,!0),E)return u()}).then(()=>{b==null||b(p,void 0),p=r(),s=!0,l.forEach(x=>x(p))}).catch(x=>{b==null||b(void 0,x)})};return i.persist={setOptions:m=>{o={...o,...m},m.storage&&(c=m.storage)},clearStorage:()=>{c==null||c.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>v(),hasHydrated:()=>s,onHydrate:m=>(a.add(m),()=>{a.delete(m)}),onFinishHydration:m=>(l.add(m),()=>{l.delete(m)})},o.skipHydration||v(),p||h},Toe=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?_oe(t,e):Soe(t,e),Eoe=Toe,Bt=yoe()(boe(Eoe((t,e)=>({projects:[],tasks:[],notes:[],feedback:[],currentSession:null,activeProject:null,commandPaletteOpen:!1,sidebarCollapsed:!1,currentView:"kanban",initializeApp:()=>{const n=e();n.projects.length===0?t({projects:[{id:"default",name:"Personal",description:"Your personal workspace",color:"#3b82f6",icon:"",createdAt:new Date,updatedAt:new Date,isArchived:!1}],activeProject:"default"}):n.activeProject||t({activeProject:n.projects[0].id})},createProject:n=>{const r={...n,id:crypto.randomUUID(),createdAt:new Date,updatedAt:new Date};t(i=>({projects:[...i.projects,r],activeProject:r.id}))},updateProject:(n,r)=>{t(i=>({projects:i.projects.map(o=>o.id===n?{...o,...r,updatedAt:new Date}:o)}))},deleteProject:n=>{t(r=>({projects:r.projects.filter(i=>i.id!==n),tasks:r.tasks.filter(i=>i.projectId!==n),notes:r.notes.filter(i=>i.projectId!==n),activeProject:r.activeProject===n?null:r.activeProject}))},setActiveProject:n=>{t({activeProject:n})},createTask:n=>{const r={...n,id:crypto.randomUUID(),createdAt:new Date,updatedAt:new Date,subtasks:[]};t(i=>({tasks:[...i.tasks,r]}))},updateTask:(n,r)=>{t(i=>({tasks:i.tasks.map(o=>o.id===n?{...o,...r,updatedAt:new Date}:o)}))},deleteTask:n=>{t(r=>({tasks:r.tasks.filter(i=>i.id!==n)}))},decomposeTask:async n=>{const i=e().tasks.find(a=>a.id===n);if(!i)return;const s=(await Aoe(i.title)).map(a=>({id:crypto.randomUUID(),title:a,status:"todo",priority:"medium",projectId:i.projectId,tags:[...i.tags,"ai-generated"],createdAt:new Date,updatedAt:new Date,subtasks:[],isAiGenerated:!0}));t(a=>({tasks:[...a.tasks.map(l=>l.id===n?{...l,subtasks:s,updatedAt:new Date}:l),...s]}))},startFlowSession:(n,r)=>{const i={id:crypto.randomUUID(),taskId:n,startTime:new Date,focusTime:0,distractionTime:0,allowedSites:r,distractions:[],isActive:!0};t({currentSession:i}),window.postMessage&&window.postMessage({type:"FLOW_SESSION_START",payload:{taskId:n,allowedSites:r}},"*")},endFlowSession:()=>{const n=e();if(n.currentSession){const r={...n.currentSession,endTime:new Date,isActive:!1};t({currentSession:null}),window.postMessage&&window.postMessage({type:"FLOW_SESSION_END",payload:{sessionId:r.id}},"*")}},logDistraction:(n,r)=>{t(i=>{if(!i.currentSession)return i;const o={site:n,timestamp:new Date,duration:r};return{currentSession:{...i.currentSession,distractions:[...i.currentSession.distractions,o],distractionTime:i.currentSession.distractionTime+r}}})},createNote:n=>{const r={...n,id:crypto.randomUUID(),createdAt:new Date,updatedAt:new Date};t(i=>({notes:[...i.notes,r]}))},updateNote:(n,r)=>{t(i=>({notes:i.notes.map(o=>o.id===n?{...o,...r,updatedAt:new Date}:o)}))},deleteNote:n=>{t(r=>({notes:r.notes.filter(i=>i.id!==n)}))},toggleCommandPalette:()=>{t(n=>({commandPaletteOpen:!n.commandPaletteOpen}))},toggleSidebar:()=>{t(n=>({sidebarCollapsed:!n.sidebarCollapsed}))},setCurrentView:n=>{t({currentView:n})},resetProject:n=>{t(r=>({tasks:r.tasks.filter(i=>i.projectId!==n),notes:r.notes.filter(i=>i.projectId!==n)}))},exportProjectData:n=>{const r=e(),i=r.projects.find(h=>h.id===n),o=r.tasks.filter(h=>h.projectId===n),s=r.notes.filter(h=>h.projectId===n),a={project:i,tasks:o,notes:s,exportedAt:new Date().toISOString(),version:"1.0.0"},l=JSON.stringify(a,null,2),c=new Blob([l],{type:"application/json"}),u=URL.createObjectURL(c),d=document.createElement("a");d.href=u,d.download=`flowstate-${(i==null?void 0:i.name)||"project"}-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(u)},createFeedback:n=>{const r={...n,id:crypto.randomUUID(),createdAt:new Date,updatedAt:new Date,status:"pending",responseCount:0};t(i=>({feedback:[...i.feedback,r]}))},updateFeedback:(n,r)=>{t(i=>({feedback:i.feedback.map(o=>o.id===n?{...o,...r}:o)}))},deleteFeedback:n=>{t(r=>({feedback:r.feedback.filter(i=>i.id!==n)}))},loadFeedbackFromFirebase:n=>{t({feedback:n})}}),{name:"flowstate-storage",partialize:t=>({projects:t.projects,tasks:t.tasks,notes:t.notes,feedback:t.feedback,activeProject:t.activeProject,sidebarCollapsed:t.sidebarCollapsed,currentView:t.currentView}),onRehydrateStorage:()=>t=>{t&&(t.projects=t.projects.map(e=>({...e,createdAt:new Date(e.createdAt),updatedAt:new Date(e.updatedAt)})),t.tasks=t.tasks.map(e=>({...e,createdAt:new Date(e.createdAt),updatedAt:new Date(e.updatedAt),dueDate:e.dueDate?new Date(e.dueDate):void 0,subtasks:e.subtasks.map(n=>({...n,createdAt:new Date(n.createdAt),updatedAt:new Date(n.updatedAt),dueDate:n.dueDate?new Date(n.dueDate):void 0}))})),t.notes=t.notes.map(e=>({...e,createdAt:new Date(e.createdAt),updatedAt:new Date(e.updatedAt)})),t.feedback=t.feedback.map(e=>({...e,createdAt:new Date(e.createdAt),updatedAt:new Date(e.updatedAt),resolvedAt:e.resolvedAt?new Date(e.resolvedAt):void 0,responseCount:e.responseCount||0})))}}),{name:"FlowState Store"}));async function Aoe(t){return await new Promise(n=>setTimeout(n,1500)),{"Build the hackathon landing page":["Design wireframe in Figma","Set up React project structure","Create Hero section component","Implement Features showcase","Add testimonials section","Build call-to-action component","Optimize for mobile responsiveness","Add animations and micro-interactions"],"Win this hackathon":["Research competition and judges","Finalize project concept and features","Set up development environment","Create project architecture","Implement core functionality","Design user interface","Prepare demo presentation","Practice pitch delivery"],"Learn React":["Understand JSX syntax","Learn about components and props","Master state management with hooks","Practice with useEffect and lifecycle","Build a simple todo app","Learn about routing with React Router","Understand context API","Practice with real project"]}[t]||["Break down the main objective","Research requirements and constraints","Create implementation plan","Set up necessary tools and environment","Execute core functionality","Test and validate results","Refine and optimize","Document and finalize"]}function Poe(){const{commandPaletteOpen:t,toggleCommandPalette:e,createTask:n,createProject:r,createNote:i,activeProject:o,tasks:s,startFlowSession:a,endFlowSession:l,currentSession:c,setCurrentView:u}=Bt(),[d,h]=_.useState("");_.useEffect(()=>{const E=S=>{S.key==="k"&&(S.metaKey||S.ctrlKey)&&(S.preventDefault(),e()),S.key==="Escape"&&t&&(S.preventDefault(),e())};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[e,t]),_.useEffect(()=>{t||h("")},[t]);const p=()=>{try{if(!o)return;const E=d.startsWith("task ")?d.slice(5):d;n({title:E||"New Task",status:"todo",priority:"medium",projectId:o,tags:[]}),h(""),e()}catch(E){console.error("Error creating task:",E)}},v=()=>{const E=d.startsWith("project ")?d.slice(8):d;r({name:E||"New Project",color:"#3b82f6",icon:"",isArchived:!1}),h(""),e()},m=()=>{const E=d.startsWith("note ")?d.slice(5):d;i({title:E||"New Note",content:"",projectId:o||void 0,tags:[]}),h(""),e()},y=E=>{u(E),e()},b=E=>{a(E,["github.com","stackoverflow.com","developer.mozilla.org","react.dev","localhost","127.0.0.1"]),e()},x=()=>{l(),e()};if(!t)return null;const w=s.filter(E=>{var S;return E.title.toLowerCase().includes(d.toLowerCase())||((S=E.description)==null?void 0:S.toLowerCase().includes(d.toLowerCase()))||E.tags.some(P=>P.toLowerCase().includes(d.toLowerCase()))});return f.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4",onClick:e,children:f.jsx("div",{className:"w-full max-w-2xl",onClick:E=>E.stopPropagation(),children:f.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl border shadow-2xl overflow-hidden",children:[f.jsxs("div",{className:"flex items-center border-b px-4",children:[f.jsx(Qd,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),f.jsx("input",{type:"text",placeholder:"Type a command or search...",value:d,onChange:E=>h(E.target.value),className:"flex h-12 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground",autoFocus:!0}),f.jsxs("kbd",{className:"pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground",children:[f.jsx("span",{className:"text-xs",children:""}),"K"]})]}),f.jsxs("div",{className:"max-h-96 overflow-y-auto p-2",children:[f.jsxs("div",{className:"space-y-1 mb-4",children:[f.jsx("div",{className:"px-2 py-1.5 text-xs font-medium text-muted-foreground",children:"Quick Actions"}),f.jsxs("button",{onClick:p,className:"w-full flex items-center px-3 py-2 text-sm rounded-lg hover:bg-accent transition-colors text-left",children:[f.jsx(hr,{className:"h-4 w-4 mr-3"}),f.jsx("span",{children:"Create Task"}),d&&!d.startsWith("task ")&&f.jsxs("span",{className:"ml-2 text-xs text-muted-foreground",children:['"',d,'"']}),f.jsx("kbd",{className:"ml-auto text-xs bg-muted px-1.5 py-0.5 rounded",children:"T"})]}),f.jsxs("button",{onClick:v,className:"w-full flex items-center px-3 py-2 text-sm rounded-lg hover:bg-accent transition-colors text-left",children:[f.jsx(Gre,{className:"h-4 w-4 mr-3"}),f.jsx("span",{children:"Create Project"}),d&&!d.startsWith("project ")&&f.jsxs("span",{className:"ml-2 text-xs text-muted-foreground",children:['"',d,'"']}),f.jsx("kbd",{className:"ml-auto text-xs bg-muted px-1.5 py-0.5 rounded",children:"P"})]}),f.jsxs("button",{onClick:m,className:"w-full flex items-center px-3 py-2 text-sm rounded-lg hover:bg-accent transition-colors text-left",children:[f.jsx(uA,{className:"h-4 w-4 mr-3"}),f.jsx("span",{children:"Create Note"}),d&&!d.startsWith("note ")&&f.jsxs("span",{className:"ml-2 text-xs text-muted-foreground",children:['"',d,'"']}),f.jsx("kbd",{className:"ml-auto text-xs bg-muted px-1.5 py-0.5 rounded",children:"N"})]})]}),f.jsxs("div",{className:"space-y-1 mb-4",children:[f.jsx("div",{className:"px-2 py-1.5 text-xs font-medium text-muted-foreground",children:"Flow Session"}),c?f.jsxs("button",{onClick:x,className:"w-full flex items-center px-3 py-2 text-sm rounded-lg hover:bg-accent transition-colors text-left",children:[f.jsx(jU,{className:"h-4 w-4 mr-3 text-red-500"}),f.jsx("span",{children:"End Flow Session"}),f.jsx("span",{className:"ml-2 text-xs text-green-600",children:"Active"})]}):s.filter(E=>E.status!=="completed").slice(0,3).map(E=>f.jsxs("button",{onClick:()=>b(E.id),className:"w-full flex items-center px-3 py-2 text-sm rounded-lg hover:bg-accent transition-colors text-left",children:[f.jsx(Uw,{className:"h-4 w-4 mr-3 text-green-500"}),f.jsxs("span",{children:["Start Flow: ",E.title]})]},E.id))]}),f.jsxs("div",{className:"space-y-1 mb-4",children:[f.jsx("div",{className:"px-2 py-1.5 text-xs font-medium text-muted-foreground",children:"Views"}),f.jsxs("button",{onClick:()=>y("kanban"),className:"w-full flex items-center px-3 py-2 text-sm rounded-lg hover:bg-accent transition-colors text-left",children:[f.jsx(Jd,{className:"h-4 w-4 mr-3"}),f.jsx("span",{children:"Kanban Board"})]}),f.jsxs("button",{onClick:()=>y("list"),className:"w-full flex items-center px-3 py-2 text-sm rounded-lg hover:bg-accent transition-colors text-left",children:[f.jsx(uA,{className:"h-4 w-4 mr-3"}),f.jsx("span",{children:"List View"})]}),f.jsxs("button",{onClick:()=>y("graph"),className:"w-full flex items-center px-3 py-2 text-sm rounded-lg hover:bg-accent transition-colors text-left",children:[f.jsx(Cr,{className:"h-4 w-4 mr-3"}),f.jsx("span",{children:"Task Graph"})]}),f.jsxs("button",{onClick:()=>y("calendar"),className:"w-full flex items-center px-3 py-2 text-sm rounded-lg hover:bg-accent transition-colors text-left",children:[f.jsx(el,{className:"h-4 w-4 mr-3"}),f.jsx("span",{children:"Calendar View"})]}),f.jsxs("button",{onClick:()=>y("analytics"),className:"w-full flex items-center px-3 py-2 text-sm rounded-lg hover:bg-accent transition-colors text-left",children:[f.jsx(rk,{className:"h-4 w-4 mr-3"}),f.jsx("span",{children:"Analytics Dashboard"})]})]}),d&&w.length>0&&f.jsxs("div",{className:"space-y-1",children:[f.jsx("div",{className:"px-2 py-1.5 text-xs font-medium text-muted-foreground",children:"Tasks"}),w.slice(0,5).map(E=>f.jsxs("button",{onClick:()=>{u("kanban"),e()},className:"w-full flex items-center justify-between px-3 py-2 text-sm rounded-lg hover:bg-accent transition-colors text-left",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx(DU,{className:"h-4 w-4 mr-3"}),f.jsx("span",{children:E.title})]}),f.jsx("span",{className:_e("text-xs px-2 py-1 rounded-full",E.status==="completed"&&"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300",E.status==="in-progress"&&"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300",E.status==="todo"&&"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300"),children:E.status})]},E.id))]}),d&&w.length===0&&f.jsxs("div",{className:"py-6 text-center text-sm text-muted-foreground",children:['No results found for "',d,'"']}),!d&&f.jsx("div",{className:"py-6 text-center text-sm text-muted-foreground",children:"Start typing to search..."})]})]})})})}const ZU=_.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Ww=_.createContext({}),qw=_.createContext(null),Gw=typeof document<"u",pk=Gw?_.useLayoutEffect:_.useEffect,ez=_.createContext({strict:!1}),mk=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Ioe="framerAppearId",tz="data-"+mk(Ioe);function Coe(t,e,n,r){const{visualElement:i}=_.useContext(Ww),o=_.useContext(ez),s=_.useContext(qw),a=_.useContext(ZU).reducedMotion,l=_.useRef();r=r||o.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:i,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;_.useInsertionEffect(()=>{c&&c.update(n,s)});const u=_.useRef(!!(n[tz]&&!window.HandoffComplete));return pk(()=>{c&&(c.render(),u.current&&c.animationState&&c.animationState.animateChanges())}),_.useEffect(()=>{c&&(c.updateFeatures(),!u.current&&c.animationState&&c.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))}),c}function fd(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function koe(t,e,n){return _.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):fd(n)&&(n.current=r))},[e])}function Bm(t){return typeof t=="string"||Array.isArray(t)}function Hw(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const gk=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],yk=["initial",...gk];function Kw(t){return Hw(t.animate)||yk.some(e=>Bm(t[e]))}function nz(t){return!!(Kw(t)||t.variants)}function Noe(t,e){if(Kw(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Bm(n)?n:void 0,animate:Bm(r)?r:void 0}}return t.inherit!==!1?e:{}}function Ooe(t){const{initial:e,animate:n}=Noe(t,_.useContext(Ww));return _.useMemo(()=>({initial:e,animate:n}),[hD(e),hD(n)])}function hD(t){return Array.isArray(t)?t.join(" "):t}const pD={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Um={};for(const t in pD)Um[t]={isEnabled:e=>pD[t].some(n=>!!e[n])};function joe(t){for(const e in t)Um[e]={...Um[e],...t[e]}}const vk=_.createContext({}),rz=_.createContext({}),Roe=Symbol.for("motionComponentSymbol");function Doe({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&joe(t);function o(a,l){let c;const u={..._.useContext(ZU),...a,layoutId:Moe(a)},{isStatic:d}=u,h=Ooe(a),p=r(a,d);if(!d&&Gw){h.visualElement=Coe(i,p,u,e);const v=_.useContext(rz),m=_.useContext(ez).strict;h.visualElement&&(c=h.visualElement.loadFeatures(u,m,t,v))}return _.createElement(Ww.Provider,{value:h},c&&h.visualElement?_.createElement(c,{visualElement:h.visualElement,...u}):null,n(i,a,koe(p,h.visualElement,l),p,d,h.visualElement))}const s=_.forwardRef(o);return s[Roe]=i,s}function Moe({layoutId:t}){const e=_.useContext(vk).id;return e&&t!==void 0?e+"-"+t:t}function $oe(t){function e(r,i={}){return Doe(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const Loe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function xk(t){return typeof t!="string"||t.includes("-")?!1:!!(Loe.indexOf(t)>-1||/[A-Z]/.test(t))}const xx={};function Voe(t){Object.assign(xx,t)}const ny=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],du=new Set(ny);function iz(t,{layout:e,layoutId:n}){return du.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!xx[t]||t==="opacity")}const kr=t=>!!(t&&t.getVelocity),Foe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Boe=ny.length;function Uoe(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let o="";for(let s=0;s<Boe;s++){const a=ny[s];if(t[a]!==void 0){const l=Foe[a]||a;o+=`${l}(${t[a]}) `}}return e&&!t.z&&(o+="translateZ(0)"),o=o.trim(),i?o=i(t,r?"":o):n&&r&&(o="none"),o}const oz=t=>e=>typeof e=="string"&&e.startsWith(t),sz=oz("--"),gA=oz("var(--"),zoe=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,Woe=(t,e)=>e&&typeof t=="number"?e.transform(t):t,tl=(t,e,n)=>Math.min(Math.max(n,t),e),fu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Hp={...fu,transform:t=>tl(0,1,t)},_v={...fu,default:1},Kp=t=>Math.round(t*1e5)/1e5,Yw=/(-)?([\d]*\.?[\d])+/g,az=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,qoe=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function ry(t){return typeof t=="string"}const iy=t=>({test:e=>ry(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ca=iy("deg"),Io=iy("%"),Ie=iy("px"),Goe=iy("vh"),Hoe=iy("vw"),mD={...Io,parse:t=>Io.parse(t)/100,transform:t=>Io.transform(t*100)},gD={...fu,transform:Math.round},lz={borderWidth:Ie,borderTopWidth:Ie,borderRightWidth:Ie,borderBottomWidth:Ie,borderLeftWidth:Ie,borderRadius:Ie,radius:Ie,borderTopLeftRadius:Ie,borderTopRightRadius:Ie,borderBottomRightRadius:Ie,borderBottomLeftRadius:Ie,width:Ie,maxWidth:Ie,height:Ie,maxHeight:Ie,size:Ie,top:Ie,right:Ie,bottom:Ie,left:Ie,padding:Ie,paddingTop:Ie,paddingRight:Ie,paddingBottom:Ie,paddingLeft:Ie,margin:Ie,marginTop:Ie,marginRight:Ie,marginBottom:Ie,marginLeft:Ie,rotate:ca,rotateX:ca,rotateY:ca,rotateZ:ca,scale:_v,scaleX:_v,scaleY:_v,scaleZ:_v,skew:ca,skewX:ca,skewY:ca,distance:Ie,translateX:Ie,translateY:Ie,translateZ:Ie,x:Ie,y:Ie,z:Ie,perspective:Ie,transformPerspective:Ie,opacity:Hp,originX:mD,originY:mD,originZ:Ie,zIndex:gD,fillOpacity:Hp,strokeOpacity:Hp,numOctaves:gD};function bk(t,e,n,r){const{style:i,vars:o,transform:s,transformOrigin:a}=t;let l=!1,c=!1,u=!0;for(const d in e){const h=e[d];if(sz(d)){o[d]=h;continue}const p=lz[d],v=Woe(h,p);if(du.has(d)){if(l=!0,s[d]=v,!u)continue;h!==(p.default||0)&&(u=!1)}else d.startsWith("origin")?(c=!0,a[d]=v):i[d]=v}if(e.transform||(l||r?i.transform=Uoe(t.transform,n,u,r):i.transform&&(i.transform="none")),c){const{originX:d="50%",originY:h="50%",originZ:p=0}=a;i.transformOrigin=`${d} ${h} ${p}`}}const wk=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function cz(t,e,n){for(const r in e)!kr(e[r])&&!iz(r,n)&&(t[r]=e[r])}function Koe({transformTemplate:t},e,n){return _.useMemo(()=>{const r=wk();return bk(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function Yoe(t,e,n){const r=t.style||{},i={};return cz(i,r,t),Object.assign(i,Koe(t,e,n)),t.transformValues?t.transformValues(i):i}function Xoe(t,e,n){const r={},i=Yoe(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const Qoe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function bx(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Qoe.has(t)}let uz=t=>!bx(t);function Joe(t){t&&(uz=e=>e.startsWith("on")?!bx(e):t(e))}try{Joe(require("@emotion/is-prop-valid").default)}catch{}function Zoe(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(uz(i)||n===!0&&bx(i)||!e&&!bx(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function yD(t,e,n){return typeof t=="string"?t:Ie.transform(e+n*t)}function ese(t,e,n){const r=yD(e,t.x,t.width),i=yD(n,t.y,t.height);return`${r} ${i}`}const tse={offset:"stroke-dashoffset",array:"stroke-dasharray"},nse={offset:"strokeDashoffset",array:"strokeDasharray"};function rse(t,e,n=1,r=0,i=!0){t.pathLength=1;const o=i?tse:nse;t[o.offset]=Ie.transform(-r);const s=Ie.transform(e),a=Ie.transform(n);t[o.array]=`${s} ${a}`}function _k(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:o,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...c},u,d,h){if(bk(t,c,u,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:v,dimensions:m}=t;p.transform&&(m&&(v.transform=p.transform),delete p.transform),m&&(i!==void 0||o!==void 0||v.transform)&&(v.transformOrigin=ese(m,i!==void 0?i:.5,o!==void 0?o:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),s!==void 0&&rse(p,s,a,l,!1)}const dz=()=>({...wk(),attrs:{}}),Sk=t=>typeof t=="string"&&t.toLowerCase()==="svg";function ise(t,e,n,r){const i=_.useMemo(()=>{const o=dz();return _k(o,e,{enableHardwareAcceleration:!1},Sk(r),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};cz(o,t.style,t),i.style={...o,...i.style}}return i}function ose(t=!1){return(n,r,i,{latestValues:o},s)=>{const l=(xk(n)?ise:Xoe)(r,o,s,n),u={...Zoe(r,typeof n=="string",t),...l,ref:i},{children:d}=r,h=_.useMemo(()=>kr(d)?d.get():d,[d]);return _.createElement(n,{...u,children:h})}}function fz(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}const hz=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function pz(t,e,n,r){fz(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(hz.has(i)?i:mk(i),e.attrs[i])}function Tk(t,e){const{style:n}=t,r={};for(const i in n)(kr(n[i])||e.style&&kr(e.style[i])||iz(i,t))&&(r[i]=n[i]);return r}function mz(t,e){const n=Tk(t,e);for(const r in t)if(kr(t[r])||kr(e[r])){const i=ny.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function Ek(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function gz(t){const e=_.useRef(null);return e.current===null&&(e.current=t()),e.current}const wx=t=>Array.isArray(t),sse=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),ase=t=>wx(t)?t[t.length-1]||0:t;function b0(t){const e=kr(t)?t.get():t;return sse(e)?e.toValue():e}function lse({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,o){const s={latestValues:cse(r,i,o,t),renderState:e()};return n&&(s.mount=a=>n(r,a,s)),s}const yz=t=>(e,n)=>{const r=_.useContext(Ww),i=_.useContext(qw),o=()=>lse(t,e,r,i);return n?o():gz(o)};function cse(t,e,n,r){const i={},o=r(t,{});for(const h in o)i[h]=b0(o[h]);let{initial:s,animate:a}=t;const l=Kw(t),c=nz(t);e&&c&&!l&&t.inherit!==!1&&(s===void 0&&(s=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||s===!1;const d=u?a:s;return d&&typeof d!="boolean"&&!Hw(d)&&(Array.isArray(d)?d:[d]).forEach(p=>{const v=Ek(t,p);if(!v)return;const{transitionEnd:m,transition:y,...b}=v;for(const x in b){let w=b[x];if(Array.isArray(w)){const E=u?w.length-1:0;w=w[E]}w!==null&&(i[x]=w)}for(const x in m)i[x]=m[x]}),i}const Gt=t=>t;class vD{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function use(t){let e=new vD,n=new vD,r=0,i=!1,o=!1;const s=new WeakSet,a={schedule:(l,c=!1,u=!1)=>{const d=u&&i,h=d?e:n;return c&&s.add(l),h.add(l)&&d&&i&&(r=e.order.length),l},cancel:l=>{n.remove(l),s.delete(l)},process:l=>{if(i){o=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let c=0;c<r;c++){const u=e.order[c];u(l),s.has(u)&&(a.schedule(u),t())}i=!1,o&&(o=!1,a.process(l))}};return a}const Sv=["prepare","read","update","preRender","render","postRender"],dse=40;function fse(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=Sv.reduce((d,h)=>(d[h]=use(()=>n=!0),d),{}),s=d=>o[d].process(i),a=()=>{const d=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(d-i.timestamp,dse),1),i.timestamp=d,i.isProcessing=!0,Sv.forEach(s),i.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,i.isProcessing||t(a)};return{schedule:Sv.reduce((d,h)=>{const p=o[h];return d[h]=(v,m=!1,y=!1)=>(n||l(),p.schedule(v,m,y)),d},{}),cancel:d=>Sv.forEach(h=>o[h].cancel(d)),state:i,steps:o}}const{schedule:bt,cancel:Es,state:Gn,steps:BS}=fse(typeof requestAnimationFrame<"u"?requestAnimationFrame:Gt,!0),hse={useVisualState:yz({scrapeMotionValuesFromProps:mz,createRenderState:dz,onMount:(t,e,{renderState:n,latestValues:r})=>{bt.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),bt.render(()=>{_k(n,r,{enableHardwareAcceleration:!1},Sk(e.tagName),t.transformTemplate),pz(e,n)})}})},pse={useVisualState:yz({scrapeMotionValuesFromProps:Tk,createRenderState:wk})};function mse(t,{forwardMotionProps:e=!1},n,r){return{...xk(t)?hse:pse,preloadedFeatures:n,useRender:ose(e),createVisualElement:r,Component:t}}function os(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const vz=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Xw(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const gse=t=>e=>vz(e)&&t(e,Xw(e));function hs(t,e,n,r){return os(t,e,gse(n),r)}const yse=(t,e)=>n=>e(t(n)),za=(...t)=>t.reduce(yse);function xz(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const xD=xz("dragHorizontal"),bD=xz("dragVertical");function bz(t){let e=!1;if(t==="y")e=bD();else if(t==="x")e=xD();else{const n=xD(),r=bD();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function wz(){const t=bz(!0);return t?(t(),!1):!0}class yl{constructor(e){this.isMounted=!1,this.node=e}update(){}}function wD(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(o,s)=>{if(o.pointerType==="touch"||wz())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&bt.update(()=>a[r](o,s))};return hs(t.current,n,i,{passive:!t.getProps()[r]})}class vse extends yl{mount(){this.unmount=za(wD(this.node,!0),wD(this.node,!1))}unmount(){}}class xse extends yl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=za(os(this.node.current,"focus",()=>this.onFocus()),os(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const _z=(t,e)=>e?t===e?!0:_z(t,e.parentElement):!1;function US(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Xw(n))}class bse extends yl{constructor(){super(...arguments),this.removeStartListeners=Gt,this.removeEndListeners=Gt,this.removeAccessibleListeners=Gt,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),o=hs(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u,globalTapTarget:d}=this.node.getProps();bt.update(()=>{!d&&!_z(this.node.current,a.target)?u&&u(a,l):c&&c(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),s=hs(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=za(o,s),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=o=>{if(o.key!=="Enter"||this.isPressing)return;const s=a=>{a.key!=="Enter"||!this.checkPressEnd()||US("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&bt.update(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=os(this.node.current,"keyup",s),US("down",(a,l)=>{this.startPress(a,l)})},n=os(this.node.current,"keydown",e),r=()=>{this.isPressing&&US("cancel",(o,s)=>this.cancelPress(o,s))},i=os(this.node.current,"blur",r);this.removeAccessibleListeners=za(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&bt.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!wz()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&bt.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=hs(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=os(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=za(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const yA=new WeakMap,zS=new WeakMap,wse=t=>{const e=yA.get(t.target);e&&e(t)},_se=t=>{t.forEach(wse)};function Sse({root:t,...e}){const n=t||document;zS.has(n)||zS.set(n,{});const r=zS.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(_se,{root:t,...e})),r[i]}function Tse(t,e,n){const r=Sse(e);return yA.set(t,n),r.observe(t),()=>{yA.delete(t),r.unobserve(t)}}const Ese={some:0,all:1};class Ase extends yl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=e,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Ese[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,o&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),h=c?u:d;h&&h(l)};return Tse(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Pse(e,n))&&this.startObserver()}unmount(){}}function Pse({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Ise={inView:{Feature:Ase},tap:{Feature:bse},focus:{Feature:xse},hover:{Feature:vse}};function Sz(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Cse(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function kse(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function Qw(t,e,n){const r=t.getProps();return Ek(r,e,n!==void 0?n:r.custom,Cse(t),kse(t))}let Nse=Gt,Ak=Gt;const Wa=t=>t*1e3,ps=t=>t/1e3,Ose={current:!1},Tz=t=>Array.isArray(t)&&typeof t[0]=="number";function Ez(t){return!!(!t||typeof t=="string"&&Az[t]||Tz(t)||Array.isArray(t)&&t.every(Ez))}const Ap=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Az={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ap([0,.65,.55,1]),circOut:Ap([.55,0,1,.45]),backIn:Ap([.31,.01,.66,-.59]),backOut:Ap([.33,1.53,.69,.99])};function Pz(t){if(t)return Tz(t)?Ap(t):Array.isArray(t)?t.map(Pz):Az[t]}function jse(t,e,n,{delay:r=0,duration:i,repeat:o=0,repeatType:s="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=Pz(a);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:o+1,direction:s==="reverse"?"alternate":"normal"})}function Rse(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const Iz=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Dse=1e-7,Mse=12;function $se(t,e,n,r,i){let o,s,a=0;do s=e+(n-e)/2,o=Iz(s,r,i)-t,o>0?n=s:e=s;while(Math.abs(o)>Dse&&++a<Mse);return s}function oy(t,e,n,r){if(t===e&&n===r)return Gt;const i=o=>$se(o,0,1,t,n);return o=>o===0||o===1?o:Iz(i(o),e,r)}const Lse=oy(.42,0,1,1),Vse=oy(0,0,.58,1),Cz=oy(.42,0,.58,1),Fse=t=>Array.isArray(t)&&typeof t[0]!="number",kz=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Nz=t=>e=>1-t(1-e),Pk=t=>1-Math.sin(Math.acos(t)),Oz=Nz(Pk),Bse=kz(Pk),jz=oy(.33,1.53,.69,.99),Ik=Nz(jz),Use=kz(Ik),zse=t=>(t*=2)<1?.5*Ik(t):.5*(2-Math.pow(2,-10*(t-1))),Wse={linear:Gt,easeIn:Lse,easeInOut:Cz,easeOut:Vse,circIn:Pk,circInOut:Bse,circOut:Oz,backIn:Ik,backInOut:Use,backOut:jz,anticipate:zse},_D=t=>{if(Array.isArray(t)){Ak(t.length===4);const[e,n,r,i]=t;return oy(e,n,r,i)}else if(typeof t=="string")return Wse[t];return t},Ck=(t,e)=>n=>!!(ry(n)&&qoe.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),Rz=(t,e,n)=>r=>{if(!ry(r))return r;const[i,o,s,a]=r.match(Yw);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},qse=t=>tl(0,255,t),WS={...fu,transform:t=>Math.round(qse(t))},dc={test:Ck("rgb","red"),parse:Rz("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+WS.transform(t)+", "+WS.transform(e)+", "+WS.transform(n)+", "+Kp(Hp.transform(r))+")"};function Gse(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const vA={test:Ck("#"),parse:Gse,transform:dc.transform},hd={test:Ck("hsl","hue"),parse:Rz("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Io.transform(Kp(e))+", "+Io.transform(Kp(n))+", "+Kp(Hp.transform(r))+")"},or={test:t=>dc.test(t)||vA.test(t)||hd.test(t),parse:t=>dc.test(t)?dc.parse(t):hd.test(t)?hd.parse(t):vA.parse(t),transform:t=>ry(t)?t:t.hasOwnProperty("red")?dc.transform(t):hd.transform(t)},Lt=(t,e,n)=>-n*t+n*e+t;function qS(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Hse({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,o=0,s=0;if(!e)i=o=s=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=qS(l,a,t+1/3),o=qS(l,a,t),s=qS(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(s*255),alpha:r}}const GS=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},Kse=[vA,dc,hd],Yse=t=>Kse.find(e=>e.test(t));function SD(t){const e=Yse(t);let n=e.parse(t);return e===hd&&(n=Hse(n)),n}const Dz=(t,e)=>{const n=SD(t),r=SD(e),i={...n};return o=>(i.red=GS(n.red,r.red,o),i.green=GS(n.green,r.green,o),i.blue=GS(n.blue,r.blue,o),i.alpha=Lt(n.alpha,r.alpha,o),dc.transform(i))};function Xse(t){var e,n;return isNaN(t)&&ry(t)&&(((e=t.match(Yw))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(az))===null||n===void 0?void 0:n.length)||0)>0}const Mz={regex:zoe,countKey:"Vars",token:"${v}",parse:Gt},$z={regex:az,countKey:"Colors",token:"${c}",parse:or.parse},Lz={regex:Yw,countKey:"Numbers",token:"${n}",parse:fu.parse};function HS(t,{regex:e,countKey:n,token:r,parse:i}){const o=t.tokenised.match(e);o&&(t["num"+n]=o.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...o.map(i)))}function _x(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&HS(n,Mz),HS(n,$z),HS(n,Lz),n}function Vz(t){return _x(t).values}function Fz(t){const{values:e,numColors:n,numVars:r,tokenised:i}=_x(t),o=e.length;return s=>{let a=i;for(let l=0;l<o;l++)l<r?a=a.replace(Mz.token,s[l]):l<r+n?a=a.replace($z.token,or.transform(s[l])):a=a.replace(Lz.token,Kp(s[l]));return a}}const Qse=t=>typeof t=="number"?0:t;function Jse(t){const e=Vz(t);return Fz(t)(e.map(Qse))}const nl={test:Xse,parse:Vz,createTransformer:Fz,getAnimatableNone:Jse},Bz=(t,e)=>n=>`${n>0?e:t}`;function Uz(t,e){return typeof t=="number"?n=>Lt(t,e,n):or.test(t)?Dz(t,e):t.startsWith("var(")?Bz(t,e):Wz(t,e)}const zz=(t,e)=>{const n=[...t],r=n.length,i=t.map((o,s)=>Uz(o,e[s]));return o=>{for(let s=0;s<r;s++)n[s]=i[s](o);return n}},Zse=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=Uz(t[i],e[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}},Wz=(t,e)=>{const n=nl.createTransformer(e),r=_x(t),i=_x(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?za(zz(r.values,i.values),n):Bz(t,e)},zm=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},TD=(t,e)=>n=>Lt(t,e,n);function eae(t){return typeof t=="number"?TD:typeof t=="string"?or.test(t)?Dz:Wz:Array.isArray(t)?zz:typeof t=="object"?Zse:TD}function tae(t,e,n){const r=[],i=n||eae(t[0]),o=t.length-1;for(let s=0;s<o;s++){let a=i(t[s],t[s+1]);if(e){const l=Array.isArray(e)?e[s]||Gt:e;a=za(l,a)}r.push(a)}return r}function qz(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const o=t.length;if(Ak(o===e.length),o===1)return()=>e[0];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const s=tae(e,r,i),a=s.length,l=c=>{let u=0;if(a>1)for(;u<t.length-2&&!(c<t[u+1]);u++);const d=zm(t[u],t[u+1],c);return s[u](d)};return n?c=>l(tl(t[0],t[o-1],c)):l}function nae(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=zm(0,e,r);t.push(Lt(n,1,i))}}function rae(t){const e=[0];return nae(e,t.length-1),e}function iae(t,e){return t.map(n=>n*e)}function oae(t,e){return t.map(()=>e||Cz).splice(0,t.length-1)}function Sx({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=Fse(r)?r.map(_D):_D(r),o={done:!1,value:e[0]},s=iae(n&&n.length===e.length?n:rae(e),t),a=qz(s,e,{ease:Array.isArray(i)?i:oae(e,i)});return{calculatedDuration:t,next:l=>(o.value=a(l),o.done=l>=t,o)}}function Gz(t,e){return e?t*(1e3/e):0}const sae=5;function Hz(t,e,n){const r=Math.max(e-sae,0);return Gz(n-t(r),e-r)}const KS=.001,aae=.01,ED=10,lae=.05,cae=1;function uae({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,o;Nse(t<=Wa(ED));let s=1-e;s=tl(lae,cae,s),t=tl(aae,ED,ps(t)),s<1?(i=c=>{const u=c*s,d=u*t,h=u-n,p=xA(c,s),v=Math.exp(-d);return KS-h/p*v},o=c=>{const d=c*s*t,h=d*n+n,p=Math.pow(s,2)*Math.pow(c,2)*t,v=Math.exp(-d),m=xA(Math.pow(c,2),s);return(-i(c)+KS>0?-1:1)*((h-p)*v)/m}):(i=c=>{const u=Math.exp(-c*t),d=(c-n)*t+1;return-KS+u*d},o=c=>{const u=Math.exp(-c*t),d=(n-c)*(t*t);return u*d});const a=5/t,l=fae(i,o,a);if(t=Wa(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:s*2*Math.sqrt(r*c),duration:t}}}const dae=12;function fae(t,e,n){let r=n;for(let i=1;i<dae;i++)r=r-t(r)/e(r);return r}function xA(t,e){return t*Math.sqrt(1-e*e)}const hae=["duration","bounce"],pae=["stiffness","damping","mass"];function AD(t,e){return e.some(n=>t[n]!==void 0)}function mae(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!AD(t,pae)&&AD(t,hae)){const n=uae(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function Kz({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],o=t[t.length-1],s={done:!1,value:i},{stiffness:a,damping:l,mass:c,duration:u,velocity:d,isResolvedFromDuration:h}=mae({...r,velocity:-ps(r.velocity||0)}),p=d||0,v=l/(2*Math.sqrt(a*c)),m=o-i,y=ps(Math.sqrt(a/c)),b=Math.abs(m)<5;n||(n=b?.01:2),e||(e=b?.005:.5);let x;if(v<1){const w=xA(y,v);x=E=>{const S=Math.exp(-v*y*E);return o-S*((p+v*y*m)/w*Math.sin(w*E)+m*Math.cos(w*E))}}else if(v===1)x=w=>o-Math.exp(-y*w)*(m+(p+y*m)*w);else{const w=y*Math.sqrt(v*v-1);x=E=>{const S=Math.exp(-v*y*E),P=Math.min(w*E,300);return o-S*((p+v*y*m)*Math.sinh(P)+w*m*Math.cosh(P))/w}}return{calculatedDuration:h&&u||null,next:w=>{const E=x(w);if(h)s.done=w>=u;else{let S=p;w!==0&&(v<1?S=Hz(x,w,E):S=0);const P=Math.abs(S)<=n,T=Math.abs(o-E)<=e;s.done=P&&T}return s.value=s.done?o:E,s}}}function PD({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:s,min:a,max:l,restDelta:c=.5,restSpeed:u}){const d=t[0],h={done:!1,value:d},p=A=>a!==void 0&&A<a||l!==void 0&&A>l,v=A=>a===void 0?l:l===void 0||Math.abs(a-A)<Math.abs(l-A)?a:l;let m=n*e;const y=d+m,b=s===void 0?y:s(y);b!==y&&(m=b-d);const x=A=>-m*Math.exp(-A/r),w=A=>b+x(A),E=A=>{const k=x(A),O=w(A);h.done=Math.abs(k)<=c,h.value=h.done?b:O};let S,P;const T=A=>{p(h.value)&&(S=A,P=Kz({keyframes:[h.value,v(h.value)],velocity:Hz(w,A,h.value),damping:i,stiffness:o,restDelta:c,restSpeed:u}))};return T(0),{calculatedDuration:null,next:A=>{let k=!1;return!P&&S===void 0&&(k=!0,E(A),T(A)),S!==void 0&&A>S?P.next(A-S):(!k&&E(A),h)}}}const gae=t=>{const e=({timestamp:n})=>t(n);return{start:()=>bt.update(e,!0),stop:()=>Es(e),now:()=>Gn.isProcessing?Gn.timestamp:performance.now()}},ID=2e4;function CD(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<ID;)e+=n,r=t.next(e);return e>=ID?1/0:e}const yae={decay:PD,inertia:PD,tween:Sx,keyframes:Sx,spring:Kz};function Tx({autoplay:t=!0,delay:e=0,driver:n=gae,keyframes:r,type:i="keyframes",repeat:o=0,repeatDelay:s=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:u,onUpdate:d,...h}){let p=1,v=!1,m,y;const b=()=>{y=new Promise(K=>{m=K})};b();let x;const w=yae[i]||Sx;let E;w!==Sx&&typeof r[0]!="number"&&(E=qz([0,100],r,{clamp:!1}),r=[0,100]);const S=w({...h,keyframes:r});let P;a==="mirror"&&(P=w({...h,keyframes:[...r].reverse(),velocity:-(h.velocity||0)}));let T="idle",A=null,k=null,O=null;S.calculatedDuration===null&&o&&(S.calculatedDuration=CD(S));const{calculatedDuration:N}=S;let C=1/0,j=1/0;N!==null&&(C=N+s,j=C*(o+1)-s);let $=0;const B=K=>{if(k===null)return;p>0&&(k=Math.min(k,K)),p<0&&(k=Math.min(K-j/p,k)),A!==null?$=A:$=Math.round(K-k)*p;const F=$-e*(p>=0?1:-1),te=p>=0?F<0:F>j;$=Math.max(F,0),T==="finished"&&A===null&&($=j);let ie=$,pe=S;if(o){const Q=Math.min($,j)/C;let Z=Math.floor(Q),se=Q%1;!se&&Q>=1&&(se=1),se===1&&Z--,Z=Math.min(Z,o+1),!!(Z%2)&&(a==="reverse"?(se=1-se,s&&(se-=s/C)):a==="mirror"&&(pe=P)),ie=tl(0,1,se)*C}const ue=te?{done:!1,value:r[0]}:pe.next(ie);E&&(ue.value=E(ue.value));let{done:oe}=ue;!te&&N!==null&&(oe=p>=0?$>=j:$<=0);const ce=A===null&&(T==="finished"||T==="running"&&oe);return d&&d(ue.value),ce&&V(),ue},U=()=>{x&&x.stop(),x=void 0},z=()=>{T="idle",U(),m(),b(),k=O=null},V=()=>{T="finished",u&&u(),U(),m()},L=()=>{if(v)return;x||(x=n(B));const K=x.now();l&&l(),A!==null?k=K-A:(!k||T==="finished")&&(k=K),T==="finished"&&b(),O=k,A=null,T="running",x.start()};t&&L();const Y={then(K,F){return y.then(K,F)},get time(){return ps($)},set time(K){K=Wa(K),$=K,A!==null||!x||p===0?A=K:k=x.now()-K/p},get duration(){const K=S.calculatedDuration===null?CD(S):S.calculatedDuration;return ps(K)},get speed(){return p},set speed(K){K===p||!x||(p=K,Y.time=ps($))},get state(){return T},play:L,pause:()=>{T="paused",A=$},stop:()=>{v=!0,T!=="idle"&&(T="idle",c&&c(),z())},cancel:()=>{O!==null&&B(O),z()},complete:()=>{T="finished"},sample:K=>(k=0,B(K))};return Y}function vae(t){let e;return()=>(e===void 0&&(e=t()),e)}const xae=vae(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),bae=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Tv=10,wae=2e4,_ae=(t,e)=>e.type==="spring"||t==="backgroundColor"||!Ez(e.ease);function Sae(t,e,{onUpdate:n,onComplete:r,...i}){if(!(xae()&&bae.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let s=!1,a,l,c=!1;const u=()=>{l=new Promise(w=>{a=w})};u();let{keyframes:d,duration:h=300,ease:p,times:v}=i;if(_ae(e,i)){const w=Tx({...i,repeat:0,delay:0});let E={done:!1,value:d[0]};const S=[];let P=0;for(;!E.done&&P<wae;)E=w.sample(P),S.push(E.value),P+=Tv;v=void 0,d=S,h=P-Tv,p="linear"}const m=jse(t.owner.current,e,d,{...i,duration:h,ease:p,times:v}),y=()=>{c=!1,m.cancel()},b=()=>{c=!0,bt.update(y),a(),u()};return m.onfinish=()=>{c||(t.set(Rse(d,i)),r&&r(),b())},{then(w,E){return l.then(w,E)},attachTimeline(w){return m.timeline=w,m.onfinish=null,Gt},get time(){return ps(m.currentTime||0)},set time(w){m.currentTime=Wa(w)},get speed(){return m.playbackRate},set speed(w){m.playbackRate=w},get duration(){return ps(h)},play:()=>{s||(m.play(),Es(y))},pause:()=>m.pause(),stop:()=>{if(s=!0,m.playState==="idle")return;const{currentTime:w}=m;if(w){const E=Tx({...i,autoplay:!1});t.setWithVelocity(E.sample(w-Tv).value,E.sample(w).value,Tv)}b()},complete:()=>{c||m.finish()},cancel:b}}function Tae({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Gt,pause:Gt,stop:Gt,then:o=>(o(),Promise.resolve()),cancel:Gt,complete:Gt});return e?Tx({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const Eae={type:"spring",stiffness:500,damping:25,restSpeed:10},Aae=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Pae={type:"keyframes",duration:.8},Iae={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Cae=(t,{keyframes:e})=>e.length>2?Pae:du.has(t)?t.startsWith("scale")?Aae(e[1]):Eae:Iae,bA=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(nl.test(e)||e==="0")&&!e.startsWith("url(")),kae=new Set(["brightness","contrast","saturate","opacity"]);function Nae(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Yw)||[];if(!r)return t;const i=n.replace(r,"");let o=kae.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+i+")"}const Oae=/([a-z-]*)\(.*?\)/g,wA={...nl,getAnimatableNone:t=>{const e=t.match(Oae);return e?e.map(Nae).join(" "):t}},jae={...lz,color:or,backgroundColor:or,outlineColor:or,fill:or,stroke:or,borderColor:or,borderTopColor:or,borderRightColor:or,borderBottomColor:or,borderLeftColor:or,filter:wA,WebkitFilter:wA},kk=t=>jae[t];function Yz(t,e){let n=kk(t);return n!==wA&&(n=nl),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Xz=t=>/^0[^.\s]+$/.test(t);function Rae(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||Xz(t)}function Dae(t,e,n,r){const i=bA(e,n);let o;Array.isArray(n)?o=[...n]:o=[null,n];const s=r.from!==void 0?r.from:t.get();let a;const l=[];for(let c=0;c<o.length;c++)o[c]===null&&(o[c]=c===0?s:o[c-1]),Rae(o[c])&&l.push(c),typeof o[c]=="string"&&o[c]!=="none"&&o[c]!=="0"&&(a=o[c]);if(i&&l.length&&a)for(let c=0;c<l.length;c++){const u=l[c];o[u]=Yz(e,a)}return o}function Mae({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:s,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function Nk(t,e){return t[e]||t.default||t}const $ae={skipAnimations:!1},Ok=(t,e,n,r={})=>i=>{const o=Nk(r,t)||{},s=o.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Wa(s);const l=Dae(e,t,n,o),c=l[0],u=l[l.length-1],d=bA(t,c),h=bA(t,u);let p={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...o,delay:-a,onUpdate:v=>{e.set(v),o.onUpdate&&o.onUpdate(v)},onComplete:()=>{i(),o.onComplete&&o.onComplete()}};if(Mae(o)||(p={...p,...Cae(t,p)}),p.duration&&(p.duration=Wa(p.duration)),p.repeatDelay&&(p.repeatDelay=Wa(p.repeatDelay)),!d||!h||Ose.current||o.type===!1||$ae.skipAnimations)return Tae(p);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const v=Sae(e,t,p);if(v)return v}return Tx(p)};function Ex(t){return!!(kr(t)&&t.add)}const Qz=t=>/^\-?\d*\.?\d+$/.test(t);function jk(t,e){t.indexOf(e)===-1&&t.push(e)}function Rk(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Dk{constructor(){this.subscriptions=[]}add(e){return jk(this.subscriptions,e),()=>Rk(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let o=0;o<i;o++){const s=this.subscriptions[o];s&&s(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Lae=t=>!isNaN(parseFloat(t));class Vae{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:o,timestamp:s}=Gn;this.lastUpdated!==s&&(this.timeDelta=o,this.lastUpdated=s,bt.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>bt.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=Lae(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Dk);const r=this.events[e].add(n);return e==="change"?()=>{r(),bt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Gz(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ef(t,e){return new Vae(t,e)}const Jz=t=>e=>e.test(t),Fae={test:t=>t==="auto",parse:t=>t},Zz=[fu,Ie,Io,ca,Hoe,Goe,Fae],rp=t=>Zz.find(Jz(t)),Bae=[...Zz,or,nl],Uae=t=>Bae.find(Jz(t));function zae(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ef(n))}function Wae(t,e){const n=Qw(t,e);let{transitionEnd:r={},transition:i={},...o}=n?t.makeTargetAnimatable(n,!1):{};o={...o,...r};for(const s in o){const a=ase(o[s]);zae(t,s,a)}}function qae(t,e,n){var r,i;const o=Object.keys(e).filter(a=>!t.hasValue(a)),s=o.length;if(s)for(let a=0;a<s;a++){const l=o[a],c=e[l];let u=null;Array.isArray(c)&&(u=c[0]),u===null&&(u=(i=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&i!==void 0?i:e[l]),u!=null&&(typeof u=="string"&&(Qz(u)||Xz(u))?u=parseFloat(u):!Uae(u)&&nl.test(c)&&(u=Yz(l,c)),t.addValue(l,ef(u,{owner:t})),n[l]===void 0&&(n[l]=u),u!==null&&t.setBaseTarget(l,u))}}function Gae(t,e){return e?(e[t]||e.default||e).from:void 0}function Hae(t,e,n){const r={};for(const i in t){const o=Gae(i,e);if(o!==void 0)r[i]=o;else{const s=n.getValue(i);s&&(r[i]=s.get())}}return r}function Kae({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function Yae(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function e9(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:s,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(o=r);const c=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const d in a){const h=t.getValue(d),p=a[d];if(!h||p===void 0||u&&Kae(u,d))continue;const v={delay:n,elapsed:0,...Nk(o||{},d)};if(window.HandoffAppearAnimations){const b=t.getProps()[tz];if(b){const x=window.HandoffAppearAnimations(b,d,h,bt);x!==null&&(v.elapsed=x,v.isHandoff=!0)}}let m=!v.isHandoff&&!Yae(h,p);if(v.type==="spring"&&(h.getVelocity()||v.velocity)&&(m=!1),h.animation&&(m=!1),m)continue;h.start(Ok(d,h,p,t.shouldReduceMotion&&du.has(d)?{type:!1}:v));const y=h.animation;Ex(l)&&(l.add(d),y.then(()=>l.remove(d))),c.push(y)}return s&&Promise.all(c).then(()=>{s&&Wae(t,s)}),c}function _A(t,e,n={}){const r=Qw(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(e9(t,r,n)):()=>Promise.resolve(),s=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:u,staggerDirection:d}=i;return Xae(t,e,c+l,u,d,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,c]=a==="beforeChildren"?[o,s]:[s,o];return l().then(()=>c())}else return Promise.all([o(),s(n.delay)])}function Xae(t,e,n=0,r=0,i=1,o){const s=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(Qae).forEach((c,u)=>{c.notify("AnimationStart",e),s.push(_A(c,e,{...o,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(s)}function Qae(t,e){return t.sortNodePosition(e)}function Jae(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(o=>_A(t,o,n));r=Promise.all(i)}else if(typeof e=="string")r=_A(t,e,n);else{const i=typeof e=="function"?Qw(t,e,n.custom):e;r=Promise.all(e9(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const Zae=[...gk].reverse(),ele=gk.length;function tle(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Jae(t,n,r)))}function nle(t){let e=tle(t);const n=ile();let r=!0;const i=(l,c)=>{const u=Qw(t,c);if(u){const{transition:d,transitionEnd:h,...p}=u;l={...l,...p,...h}}return l};function o(l){e=l(t)}function s(l,c){const u=t.getProps(),d=t.getVariantContext(!0)||{},h=[],p=new Set;let v={},m=1/0;for(let b=0;b<ele;b++){const x=Zae[b],w=n[x],E=u[x]!==void 0?u[x]:d[x],S=Bm(E),P=x===c?w.isActive:null;P===!1&&(m=b);let T=E===d[x]&&E!==u[x]&&S;if(T&&r&&t.manuallyAnimateOnMount&&(T=!1),w.protectedKeys={...v},!w.isActive&&P===null||!E&&!w.prevProp||Hw(E)||typeof E=="boolean")continue;let k=rle(w.prevProp,E)||x===c&&w.isActive&&!T&&S||b>m&&S,O=!1;const N=Array.isArray(E)?E:[E];let C=N.reduce(i,{});P===!1&&(C={});const{prevResolvedValues:j={}}=w,$={...j,...C},B=U=>{k=!0,p.has(U)&&(O=!0,p.delete(U)),w.needsAnimating[U]=!0};for(const U in $){const z=C[U],V=j[U];if(v.hasOwnProperty(U))continue;let L=!1;wx(z)&&wx(V)?L=!Sz(z,V):L=z!==V,L?z!==void 0?B(U):p.add(U):z!==void 0&&p.has(U)?B(U):w.protectedKeys[U]=!0}w.prevProp=E,w.prevResolvedValues=C,w.isActive&&(v={...v,...C}),r&&t.blockInitialAnimation&&(k=!1),k&&(!T||O)&&h.push(...N.map(U=>({animation:U,options:{type:x,...l}})))}if(p.size){const b={};p.forEach(x=>{const w=t.getBaseTarget(x);w!==void 0&&(b[x]=w)}),h.push({animation:b})}let y=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(y=!1),r=!1,y?e(h):Promise.resolve()}function a(l,c,u){var d;if(n[l].isActive===c)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(p=>{var v;return(v=p.animationState)===null||v===void 0?void 0:v.setActive(l,c)}),n[l].isActive=c;const h=s(u,l);for(const p in n)n[p].protectedKeys={};return h}return{animateChanges:s,setActive:a,setAnimateFunction:o,getState:()=>n}}function rle(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Sz(e,t):!1}function Bl(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ile(){return{animate:Bl(!0),whileInView:Bl(),whileHover:Bl(),whileTap:Bl(),whileDrag:Bl(),whileFocus:Bl(),exit:Bl()}}class ole extends yl{constructor(e){super(e),e.animationState||(e.animationState=nle(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Hw(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let sle=0;class ale extends yl{constructor(){super(...arguments),this.id=sle++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const o=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&o.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const lle={animation:{Feature:ole},exit:{Feature:ale}},kD=(t,e)=>Math.abs(t-e);function cle(t,e){const n=kD(t.x,e.x),r=kD(t.y,e.y);return Math.sqrt(n**2+r**2)}class t9{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=XS(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=cle(d.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:v}=d,{timestamp:m}=Gn;this.history.push({...v,timestamp:m});const{onStart:y,onMove:b}=this.handlers;h||(y&&y(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,d)},this.handlePointerMove=(d,h)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=YS(h,this.transformPagePoint),bt.update(this.updatePoint,!0)},this.handlePointerUp=(d,h)=>{this.end();const{onEnd:p,onSessionEnd:v,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=XS(d.type==="pointercancel"?this.lastMoveEventInfo:YS(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(d,y),v&&v(d,y)},!vz(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=Xw(e),a=YS(s,this.transformPagePoint),{point:l}=a,{timestamp:c}=Gn;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,XS(a,this.history)),this.removeListeners=za(hs(this.contextWindow,"pointermove",this.handlePointerMove),hs(this.contextWindow,"pointerup",this.handlePointerUp),hs(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Es(this.updatePoint)}}function YS(t,e){return e?{point:e(t.point)}:t}function ND(t,e){return{x:t.x-e.x,y:t.y-e.y}}function XS({point:t},e){return{point:t,delta:ND(t,n9(e)),offset:ND(t,ule(e)),velocity:dle(e,.1)}}function ule(t){return t[0]}function n9(t){return t[t.length-1]}function dle(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=n9(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Wa(e)));)n--;if(!r)return{x:0,y:0};const o=ps(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const s={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function ti(t){return t.max-t.min}function SA(t,e=0,n=.01){return Math.abs(t-e)<=n}function OD(t,e,n,r=.5){t.origin=r,t.originPoint=Lt(e.min,e.max,t.origin),t.scale=ti(n)/ti(e),(SA(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Lt(n.min,n.max,t.origin)-t.originPoint,(SA(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Yp(t,e,n,r){OD(t.x,e.x,n.x,r?r.originX:void 0),OD(t.y,e.y,n.y,r?r.originY:void 0)}function jD(t,e,n){t.min=n.min+e.min,t.max=t.min+ti(e)}function fle(t,e,n){jD(t.x,e.x,n.x),jD(t.y,e.y,n.y)}function RD(t,e,n){t.min=e.min-n.min,t.max=t.min+ti(e)}function Xp(t,e,n){RD(t.x,e.x,n.x),RD(t.y,e.y,n.y)}function hle(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Lt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Lt(n,t,r.max):Math.min(t,n)),t}function DD(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function ple(t,{top:e,left:n,bottom:r,right:i}){return{x:DD(t.x,n,i),y:DD(t.y,e,r)}}function MD(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function mle(t,e){return{x:MD(t.x,e.x),y:MD(t.y,e.y)}}function gle(t,e){let n=.5;const r=ti(t),i=ti(e);return i>r?n=zm(e.min,e.max-r,t.min):r>i&&(n=zm(t.min,t.max-i,e.min)),tl(0,1,n)}function yle(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const TA=.35;function vle(t=TA){return t===!1?t=0:t===!0&&(t=TA),{x:$D(t,"left","right"),y:$D(t,"top","bottom")}}function $D(t,e,n){return{min:LD(t,e),max:LD(t,n)}}function LD(t,e){return typeof t=="number"?t:t[e]||0}const VD=()=>({translate:0,scale:1,origin:0,originPoint:0}),pd=()=>({x:VD(),y:VD()}),FD=()=>({min:0,max:0}),Zt=()=>({x:FD(),y:FD()});function hi(t){return[t("x"),t("y")]}function r9({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function xle({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function ble(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function QS(t){return t===void 0||t===1}function EA({scale:t,scaleX:e,scaleY:n}){return!QS(t)||!QS(e)||!QS(n)}function Kl(t){return EA(t)||i9(t)||t.z||t.rotate||t.rotateX||t.rotateY}function i9(t){return BD(t.x)||BD(t.y)}function BD(t){return t&&t!=="0%"}function Ax(t,e,n){const r=t-n,i=e*r;return n+i}function UD(t,e,n,r,i){return i!==void 0&&(t=Ax(t,i,r)),Ax(t,n,r)+e}function AA(t,e=0,n=1,r,i){t.min=UD(t.min,e,n,r,i),t.max=UD(t.max,e,n,r,i)}function o9(t,{x:e,y:n}){AA(t.x,e.translate,e.scale,e.originPoint),AA(t.y,n.translate,n.scale,n.originPoint)}function wle(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let o,s;for(let a=0;a<i;a++){o=n[a],s=o.projectionDelta;const l=o.instance;l&&l.style&&l.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&md(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,o9(t,s)),r&&Kl(o.latestValues)&&md(t,o.latestValues))}e.x=zD(e.x),e.y=zD(e.y)}function zD(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function ma(t,e){t.min=t.min+e,t.max=t.max+e}function WD(t,e,[n,r,i]){const o=e[i]!==void 0?e[i]:.5,s=Lt(t.min,t.max,o);AA(t,e[n],e[r],s,e.scale)}const _le=["x","scaleX","originX"],Sle=["y","scaleY","originY"];function md(t,e){WD(t.x,e,_le),WD(t.y,e,Sle)}function s9(t,e){return r9(ble(t.getBoundingClientRect(),e))}function Tle(t,e,n){const r=s9(t,n),{scroll:i}=e;return i&&(ma(r.x,i.offset.x),ma(r.y,i.offset.y)),r}const a9=({current:t})=>t?t.ownerDocument.defaultView:null,Ele=new WeakMap;class Ale{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Zt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Xw(u,"page").point)},o=(u,d)=>{const{drag:h,dragPropagation:p,onDragStart:v}=this.getProps();if(h&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=bz(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),hi(y=>{let b=this.getAxisMotionValue(y).get()||0;if(Io.test(b)){const{projection:x}=this.visualElement;if(x&&x.layout){const w=x.layout.layoutBox[y];w&&(b=ti(w)*(parseFloat(b)/100))}}this.originPoint[y]=b}),v&&bt.update(()=>v(u,d),!1,!0);const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},s=(u,d)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:v,onDrag:m}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:y}=d;if(p&&this.currentDirection===null){this.currentDirection=Ple(y),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",d.point,y),this.updateAxis("y",d.point,y),this.visualElement.render(),m&&m(u,d)},a=(u,d)=>this.stop(u,d),l=()=>hi(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new t9(e,{onSessionStart:i,onStart:o,onMove:s,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:a9(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&bt.update(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Ev(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let s=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(s=hle(s,this.constraints[e],this.elastic[e])),o.set(s)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;n&&fd(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=ple(i.layoutBox,n):this.constraints=!1,this.elastic=vle(r),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&hi(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=yle(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!fd(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=Tle(r,i.root,this.visualElement.getTransformPagePoint());let s=mle(i.layout.layoutBox,o);if(n){const a=n(xle(s));this.hasMutatedConstraints=!!a,a&&(s=r9(a))}return s}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=hi(u=>{if(!Ev(u,n,this.currentDirection))return;let d=l&&l[u]||{};s&&(d={min:0,max:0});const h=i?200:1e6,p=i?40:1e7,v={type:"inertia",velocity:r?e[u]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...o,...d};return this.startAxisValueAnimation(u,v)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(Ok(e,r,0,n))}stopAnimation(){hi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){hi(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){hi(n=>{const{drag:r}=this.getProps();if(!Ev(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:a}=i.layout.layoutBox[n];o.set(e[n]-Lt(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!fd(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};hi(s=>{const a=this.getAxisMotionValue(s);if(a){const l=a.get();i[s]=gle({min:l,max:l},this.constraints[s])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),hi(s=>{if(!Ev(s,e,null))return;const a=this.getAxisMotionValue(s),{min:l,max:c}=this.constraints[s];a.set(Lt(l,c,i[s]))})}addListeners(){if(!this.visualElement.current)return;Ele.set(this.visualElement,this);const e=this.visualElement.current,n=hs(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();fd(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const s=os(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(hi(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{s(),n(),o(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:s=TA,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:s,dragMomentum:a}}}function Ev(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Ple(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Ile extends yl{constructor(e){super(e),this.removeGroupControls=Gt,this.removeListeners=Gt,this.controls=new Ale(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Gt}unmount(){this.removeGroupControls(),this.removeListeners()}}const qD=t=>(e,n)=>{t&&bt.update(()=>t(e,n))};class Cle extends yl{constructor(){super(...arguments),this.removePointerDownListener=Gt}onPointerDown(e){this.session=new t9(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:a9(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:qD(e),onStart:qD(n),onMove:r,onEnd:(o,s)=>{delete this.session,i&&bt.update(()=>i(o,s))}}}mount(){this.removePointerDownListener=hs(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function kle(){const t=_.useContext(qw);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=_.useId();return _.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const w0={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function GD(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ip={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ie.test(t))t=parseFloat(t);else return t;const n=GD(t,e.target.x),r=GD(t,e.target.y);return`${n}% ${r}%`}},Nle={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=nl.parse(t);if(i.length>5)return r;const o=nl.createTransformer(t),s=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+s]/=a,i[1+s]/=l;const c=Lt(a,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=c),typeof i[3+s]=="number"&&(i[3+s]/=c),o(i)}};class Ole extends M.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=e;Voe(jle),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),w0.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,s=r.projection;return s&&(s.isPresent=o,i||e.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?s.promote():s.relegate()||bt.postRender(()=>{const a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function l9(t){const[e,n]=kle(),r=_.useContext(vk);return M.createElement(Ole,{...t,layoutGroup:r,switchLayoutGroup:_.useContext(rz),isPresent:e,safeToRemove:n})}const jle={borderRadius:{...ip,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ip,borderTopRightRadius:ip,borderBottomLeftRadius:ip,borderBottomRightRadius:ip,boxShadow:Nle},c9=["TopLeft","TopRight","BottomLeft","BottomRight"],Rle=c9.length,HD=t=>typeof t=="string"?parseFloat(t):t,KD=t=>typeof t=="number"||Ie.test(t);function Dle(t,e,n,r,i,o){i?(t.opacity=Lt(0,n.opacity!==void 0?n.opacity:1,Mle(r)),t.opacityExit=Lt(e.opacity!==void 0?e.opacity:1,0,$le(r))):o&&(t.opacity=Lt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<Rle;s++){const a=`border${c9[s]}Radius`;let l=YD(e,a),c=YD(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||KD(l)===KD(c)?(t[a]=Math.max(Lt(HD(l),HD(c),r),0),(Io.test(c)||Io.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Lt(e.rotate||0,n.rotate||0,r))}function YD(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Mle=u9(0,.5,Oz),$le=u9(.5,.95,Gt);function u9(t,e,n){return r=>r<t?0:r>e?1:n(zm(t,e,r))}function XD(t,e){t.min=e.min,t.max=e.max}function ci(t,e){XD(t.x,e.x),XD(t.y,e.y)}function QD(t,e,n,r,i){return t-=e,t=Ax(t,1/n,r),i!==void 0&&(t=Ax(t,1/i,r)),t}function Lle(t,e=0,n=1,r=.5,i,o=t,s=t){if(Io.test(e)&&(e=parseFloat(e),e=Lt(s.min,s.max,e/100)-s.min),typeof e!="number")return;let a=Lt(o.min,o.max,r);t===o&&(a-=e),t.min=QD(t.min,e,n,a,i),t.max=QD(t.max,e,n,a,i)}function JD(t,e,[n,r,i],o,s){Lle(t,e[n],e[r],e[i],e.scale,o,s)}const Vle=["x","scaleX","originX"],Fle=["y","scaleY","originY"];function ZD(t,e,n,r){JD(t.x,e,Vle,n?n.x:void 0,r?r.x:void 0),JD(t.y,e,Fle,n?n.y:void 0,r?r.y:void 0)}function eM(t){return t.translate===0&&t.scale===1}function d9(t){return eM(t.x)&&eM(t.y)}function Ble(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function f9(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function tM(t){return ti(t.x)/ti(t.y)}class Ule{constructor(){this.members=[]}add(e){jk(this.members,e),e.scheduleRender()}remove(e){if(Rk(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function nM(t,e,n){let r="";const i=t.x.translate/e.x,o=t.y.translate/e.y;if((i||o)&&(r=`translate3d(${i}px, ${o}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:c,rotateY:u}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),u&&(r+=`rotateY(${u}deg) `)}const s=t.x.scale*e.x,a=t.y.scale*e.y;return(s!==1||a!==1)&&(r+=`scale(${s}, ${a})`),r||"none"}const zle=(t,e)=>t.depth-e.depth;class Wle{constructor(){this.children=[],this.isDirty=!1}add(e){jk(this.children,e),this.isDirty=!0}remove(e){Rk(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(zle),this.isDirty=!1,this.children.forEach(e)}}function qle(t,e){const n=performance.now(),r=({timestamp:i})=>{const o=i-n;o>=e&&(Es(r),t(o-e))};return bt.read(r,!0),()=>Es(r)}function Gle(t){window.MotionDebug&&window.MotionDebug.record(t)}function Hle(t){return t instanceof SVGElement&&t.tagName!=="svg"}function Kle(t,e,n){const r=kr(t)?t:ef(t);return r.start(Ok("",r,e,n)),r.animation}const rM=["","X","Y","Z"],Yle={visibility:"hidden"},iM=1e3;let Xle=0;const Yl={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function h9({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},a=e==null?void 0:e()){this.id=Xle++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Yl.totalNodes=Yl.resolvedTargetDeltas=Yl.recalculatedProjection=0,this.nodes.forEach(Zle),this.nodes.forEach(ice),this.nodes.forEach(oce),this.nodes.forEach(ece),Gle(Yl)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Wle)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new Dk),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const l=this.eventHandlers.get(s);l&&l.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Hle(s),this.instance=s;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let d;const h=()=>this.root.updateBlockedByResize=!1;t(s,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=qle(h,250),w0.hasAnimatedSinceResize&&(w0.hasAnimatedSinceResize=!1,this.nodes.forEach(sM))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeTargetChanged:p,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||u.getDefaultTransition()||uce,{onLayoutAnimationStart:y,onLayoutAnimationComplete:b}=u.getProps(),x=!this.targetLayout||!f9(this.targetLayout,v)||p,w=!h&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||h&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,w);const E={...Nk(m,"layout"),onPlay:y,onComplete:b};(u.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E)}else h||sM(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Es(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(sce),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(oM);return}this.isUpdating||this.nodes.forEach(nce),this.isUpdating=!1,this.nodes.forEach(rce),this.nodes.forEach(Qle),this.nodes.forEach(Jle),this.clearAllSnapshots();const a=performance.now();Gn.delta=tl(0,1e3/60,a-Gn.timestamp),Gn.timestamp=a,Gn.isProcessing=!0,BS.update.process(Gn),BS.preRender.process(Gn),BS.render.process(Gn),Gn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(tce),this.sharedNodes.forEach(ace)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,bt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){bt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Zt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!d9(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;s&&(a||Kl(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return s&&(l=this.removeTransform(l)),dce(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return Zt();const a=s.measureViewportBox(),{scroll:l}=this.root;return l&&(ma(a.x,l.offset.x),ma(a.y,l.offset.y)),a}removeElementScroll(s){const a=Zt();ci(a,s);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:u,options:d}=c;if(c!==this.root&&u&&d.layoutScroll){if(u.isRoot){ci(a,s);const{scroll:h}=this.root;h&&(ma(a.x,-h.offset.x),ma(a.y,-h.offset.y))}ma(a.x,u.offset.x),ma(a.y,u.offset.y)}}return a}applyTransform(s,a=!1){const l=Zt();ci(l,s);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&md(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Kl(u.latestValues)&&md(l,u.latestValues)}return Kl(this.latestValues)&&md(l,this.latestValues),l}removeTransform(s){const a=Zt();ci(a,s);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Kl(c.latestValues))continue;EA(c.latestValues)&&c.updateSnapshot();const u=Zt(),d=c.measurePageBox();ci(u,d),ZD(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Kl(this.latestValues)&&ZD(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Gn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(s||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=Gn.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Zt(),this.relativeTargetOrigin=Zt(),Xp(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),ci(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Zt(),this.targetWithTransforms=Zt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),fle(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ci(this.target,this.layout.layoutBox),o9(this.target,this.targetDelta)):ci(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Zt(),this.relativeTargetOrigin=Zt(),Xp(this.relativeTargetOrigin,this.target,p.target),ci(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Yl.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||EA(this.parent.latestValues)||i9(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Gn.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;ci(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;wle(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:v}=a;if(!v){this.projectionTransform&&(this.projectionDelta=pd(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=pd(),this.projectionDeltaWithTransform=pd());const m=this.projectionTransform;Yp(this.projectionDelta,this.layoutCorrected,v,this.latestValues),this.projectionTransform=nM(this.projectionDelta,this.treeScale),(this.projectionTransform!==m||this.treeScale.x!==h||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),Yl.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=pd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=Zt(),p=l?l.source:void 0,v=this.layout?this.layout.source:void 0,m=p!==v,y=this.getStack(),b=!y||y.members.length<=1,x=!!(m&&!b&&this.options.crossfade===!0&&!this.path.some(cce));this.animationProgress=0;let w;this.mixTargetDelta=E=>{const S=E/1e3;aM(d.x,s.x,S),aM(d.y,s.y,S),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Xp(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),lce(this.relativeTarget,this.relativeTargetOrigin,h,S),w&&Ble(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Zt()),ci(w,this.relativeTarget)),m&&(this.animationValues=u,Dle(u,c,this.latestValues,S,x,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Es(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=bt.update(()=>{w0.hasAnimatedSinceResize=!0,this.currentAnimation=Kle(0,iM,{...s,onUpdate:a=>{this.mixTargetDelta(a),s.onUpdate&&s.onUpdate(a)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(iM),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=s;if(!(!a||!l||!c)){if(this!==s&&this.layout&&c&&p9(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Zt();const d=ti(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+d;const h=ti(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+h}ci(a,l),md(a,u),Yp(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new Ule),this.sharedNodes.get(s).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:a}=this.options;return a?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:a}=this.options;return a?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const{latestValues:l}=s;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let u=0;u<rM.length;u++){const d="rotate"+rM[u];l[d]&&(c[d]=l[d],s.setStaticValue(d,0))}s.render();for(const u in c)s.setStaticValue(u,c[u]);s.scheduleRender()}getProjectionStyles(s){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Yle;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=b0(s==null?void 0:s.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=b0(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!Kl(this.latestValues)&&(m.transform=u?u({},""):"none",this.hasProjected=!1),m}const h=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=nM(this.projectionDeltaWithTransform,this.treeScale,h),u&&(c.transform=u(h,c.transform));const{x:p,y:v}=this.projectionDelta;c.transformOrigin=`${p.origin*100}% ${v.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const m in xx){if(h[m]===void 0)continue;const{correct:y,applyTo:b}=xx[m],x=c.transform==="none"?h[m]:y(h[m],d);if(b){const w=b.length;for(let E=0;E<w;E++)c[b[E]]=x}else c[m]=x}return this.options.layoutId&&(c.pointerEvents=d===this?b0(s==null?void 0:s.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var a;return(a=s.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(oM),this.root.sharedNodes.clear()}}}function Qle(t){t.updateLayout()}function Jle(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:o}=t.options,s=n.source!==t.layout.source;o==="size"?hi(d=>{const h=s?n.measuredBox[d]:n.layoutBox[d],p=ti(h);h.min=r[d].min,h.max=h.min+p}):p9(o,n.layoutBox,r)&&hi(d=>{const h=s?n.measuredBox[d]:n.layoutBox[d],p=ti(r[d]);h.max=h.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+p)});const a=pd();Yp(a,r,n.layoutBox);const l=pd();s?Yp(l,t.applyTransform(i,!0),n.measuredBox):Yp(l,r,n.layoutBox);const c=!d9(a);let u=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:p}=d;if(h&&p){const v=Zt();Xp(v,n.layoutBox,h.layoutBox);const m=Zt();Xp(m,r,p.layoutBox),f9(v,m)||(u=!0),d.options.layoutRoot&&(t.relativeTarget=m,t.relativeTargetOrigin=v,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Zle(t){Yl.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function ece(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function tce(t){t.clearSnapshot()}function oM(t){t.clearMeasurements()}function nce(t){t.isLayoutDirty=!1}function rce(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function sM(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function ice(t){t.resolveTargetDelta()}function oce(t){t.calcProjection()}function sce(t){t.resetRotation()}function ace(t){t.removeLeadSnapshot()}function aM(t,e,n){t.translate=Lt(e.translate,0,n),t.scale=Lt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function lM(t,e,n,r){t.min=Lt(e.min,n.min,r),t.max=Lt(e.max,n.max,r)}function lce(t,e,n,r){lM(t.x,e.x,n.x,r),lM(t.y,e.y,n.y,r)}function cce(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const uce={duration:.45,ease:[.4,0,.1,1]},cM=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),uM=cM("applewebkit/")&&!cM("chrome/")?Math.round:Gt;function dM(t){t.min=uM(t.min),t.max=uM(t.max)}function dce(t){dM(t.x),dM(t.y)}function p9(t,e,n){return t==="position"||t==="preserve-aspect"&&!SA(tM(e),tM(n),.2)}const fce=h9({attachResizeListener:(t,e)=>os(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),JS={current:void 0},m9=h9({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!JS.current){const t=new fce({});t.mount(window),t.setOptions({layoutScroll:!0}),JS.current=t}return JS.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),hce={pan:{Feature:Cle},drag:{Feature:Ile,ProjectionNode:m9,MeasureLayout:l9}},pce=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function mce(t){const e=pce.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function PA(t,e,n=1){const[r,i]=mce(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const s=o.trim();return Qz(s)?parseFloat(s):s}else return gA(i)?PA(i,e,n+1):i}function gce(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const o=i.get();if(!gA(o))return;const s=PA(o,r);s&&i.set(s)});for(const i in e){const o=e[i];if(!gA(o))continue;const s=PA(o,r);s&&(e[i]=s,n||(n={}),n[i]===void 0&&(n[i]=o))}return{target:e,transitionEnd:n}}const yce=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),g9=t=>yce.has(t),vce=t=>Object.keys(t).some(g9),fM=t=>t===fu||t===Ie,hM=(t,e)=>parseFloat(t.split(", ")[e]),pM=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return hM(i[1],e);{const o=r.match(/^matrix\((.+)\)$/);return o?hM(o[1],t):0}},xce=new Set(["x","y","z"]),bce=ny.filter(t=>!xce.has(t));function wce(t){const e=[];return bce.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const tf={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:pM(4,13),y:pM(5,14)};tf.translateX=tf.x;tf.translateY=tf.y;const _ce=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,o=getComputedStyle(i),{display:s}=o,a={};s==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(c=>{a[c]=tf[c](r,o)}),e.render();const l=e.measureViewportBox();return n.forEach(c=>{const u=e.getValue(c);u&&u.jump(a[c]),t[c]=tf[c](l,o)}),t},Sce=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(g9);let o=[],s=!1;const a=[];if(i.forEach(l=>{const c=t.getValue(l);if(!t.hasValue(l))return;let u=n[l],d=rp(u);const h=e[l];let p;if(wx(h)){const v=h.length,m=h[0]===null?1:0;u=h[m],d=rp(u);for(let y=m;y<v&&h[y]!==null;y++)p?Ak(rp(h[y])===p):p=rp(h[y])}else p=rp(h);if(d!==p)if(fM(d)&&fM(p)){const v=c.get();typeof v=="string"&&c.set(parseFloat(v)),typeof h=="string"?e[l]=parseFloat(h):Array.isArray(h)&&p===Ie&&(e[l]=h.map(parseFloat))}else d!=null&&d.transform&&(p!=null&&p.transform)&&(u===0||h===0)?u===0?c.set(p.transform(u)):e[l]=d.transform(h):(s||(o=wce(t),s=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],c.jump(h))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=_ce(e,t,a);return o.length&&o.forEach(([u,d])=>{t.getValue(u).set(d)}),t.render(),Gw&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function Tce(t,e,n,r){return vce(e)?Sce(t,e,n,r):{target:e,transitionEnd:r}}const Ece=(t,e,n,r)=>{const i=gce(t,e,r);return e=i.target,r=i.transitionEnd,Tce(t,e,n,r)},IA={current:null},y9={current:!1};function Ace(){if(y9.current=!0,!!Gw)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>IA.current=t.matches;t.addListener(e),e()}else IA.current=!1}function Pce(t,e,n){const{willChange:r}=e;for(const i in e){const o=e[i],s=n[i];if(kr(o))t.addValue(i,o),Ex(r)&&r.add(i);else if(kr(s))t.addValue(i,ef(o,{owner:t})),Ex(r)&&r.remove(i);else if(s!==o)if(t.hasValue(i)){const a=t.getValue(i);!a.hasAnimated&&a.set(o)}else{const a=t.getStaticValue(i);t.addValue(i,ef(a!==void 0?a:o,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const mM=new WeakMap,v9=Object.keys(Um),Ice=v9.length,gM=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Cce=yk.length;class kce{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:o},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>bt.render(this.render,!1,!0);const{latestValues:a,renderState:l}=o;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.isControllingVariants=Kw(n),this.isVariantNode=nz(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(n,{});for(const d in u){const h=u[d];a[d]!==void 0&&kr(h)&&(h.set(a[d],!1),Ex(c)&&c.add(d))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,mM.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),y9.current||Ace(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:IA.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){mM.delete(this.current),this.projection&&this.projection.unmount(),Es(this.notifyUpdate),Es(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=du.has(e),i=n.on("change",s=>{this.latestValues[e]=s,this.props.onUpdate&&bt.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),o()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,o){let s,a;for(let l=0;l<Ice;l++){const c=v9[l],{isEnabled:u,Feature:d,ProjectionNode:h,MeasureLayout:p}=Um[c];h&&(s=h),u(n)&&(!this.features[c]&&d&&(this.features[c]=new d(this)),p&&(a=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:u,dragConstraints:d,layoutScroll:h,layoutRoot:p}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!u||d&&fd(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:o,layoutScroll:h,layoutRoot:p})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Zt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<gM.length;r++){const i=gM[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o=e["on"+i];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=Pce(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<Cce;r++){const i=yk[r],o=this.props[i];(Bm(o)||o===!1)&&(n[i]=o)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ef(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=Ek(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!kr(o)?o:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Dk),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class x9 extends kce{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},o){let s=Hae(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),s&&(s=i(s))),o){qae(this,r,s);const a=Ece(this,r,s,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function Nce(t){return window.getComputedStyle(t)}class Oce extends x9{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(du.has(n)){const r=kk(n);return r&&r.default||0}else{const r=Nce(e),i=(sz(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return s9(e,n)}build(e,n,r,i){bk(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return Tk(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;kr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){fz(e,n,r,i)}}class jce extends x9{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(du.has(n)){const r=kk(n);return r&&r.default||0}return n=hz.has(n)?n:mk(n),e.getAttribute(n)}measureInstanceViewportBox(){return Zt()}scrapeMotionValuesFromProps(e,n){return mz(e,n)}build(e,n,r,i){_k(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){pz(e,n,r,i)}mount(e){this.isSVGTag=Sk(e.tagName),super.mount(e)}}const Rce=(t,e)=>xk(t)?new jce(e,{enableHardwareAcceleration:!1}):new Oce(e,{enableHardwareAcceleration:!0}),Dce={layout:{ProjectionNode:m9,MeasureLayout:l9}},Mce={...lle,...Ise,...hce,...Dce},Ve=$oe((t,e)=>mse(t,e,Mce,Rce));function b9(){const t=_.useRef(!1);return pk(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function $ce(){const t=b9(),[e,n]=_.useState(0),r=_.useCallback(()=>{t.current&&n(e+1)},[e]);return[_.useCallback(()=>bt.postRender(r),[r]),e]}class Lce extends _.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Vce({children:t,isPresent:e}){const n=_.useId(),r=_.useRef(null),i=_.useRef({width:0,height:0,top:0,left:0});return _.useInsertionEffect(()=>{const{width:o,height:s,top:a,left:l}=i.current;if(e||!r.current||!o||!s)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${s}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),_.createElement(Lce,{isPresent:e,childRef:r,sizeRef:i},_.cloneElement(t,{ref:r}))}const ZS=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:s})=>{const a=gz(Fce),l=_.useId(),c=_.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:u=>{a.set(u,!0);for(const d of a.values())if(!d)return;r&&r()},register:u=>(a.set(u,!1),()=>a.delete(u))}),o?void 0:[n]);return _.useMemo(()=>{a.forEach((u,d)=>a.set(d,!1))},[n]),_.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),s==="popLayout"&&(t=_.createElement(Vce,{isPresent:n},t)),_.createElement(qw.Provider,{value:c},t)};function Fce(){return new Map}function Bce(t){return _.useEffect(()=>()=>t(),[])}const Xl=t=>t.key||"";function Uce(t,e){t.forEach(n=>{const r=Xl(n);e.set(r,n)})}function zce(t){const e=[];return _.Children.forEach(t,n=>{_.isValidElement(n)&&e.push(n)}),e}const Px=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:o=!0,mode:s="sync"})=>{const a=_.useContext(vk).forceRender||$ce()[0],l=b9(),c=zce(t);let u=c;const d=_.useRef(new Map).current,h=_.useRef(u),p=_.useRef(new Map).current,v=_.useRef(!0);if(pk(()=>{v.current=!1,Uce(c,p),h.current=u}),Bce(()=>{v.current=!0,p.clear(),d.clear()}),v.current)return _.createElement(_.Fragment,null,u.map(x=>_.createElement(ZS,{key:Xl(x),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:o,mode:s},x)));u=[...u];const m=h.current.map(Xl),y=c.map(Xl),b=m.length;for(let x=0;x<b;x++){const w=m[x];y.indexOf(w)===-1&&!d.has(w)&&d.set(w,void 0)}return s==="wait"&&d.size&&(u=[]),d.forEach((x,w)=>{if(y.indexOf(w)!==-1)return;const E=p.get(w);if(!E)return;const S=m.indexOf(w);let P=x;if(!P){const T=()=>{d.delete(w);const A=Array.from(p.keys()).filter(k=>!y.includes(k));if(A.forEach(k=>p.delete(k)),h.current=c.filter(k=>{const O=Xl(k);return O===w||A.includes(O)}),!d.size){if(l.current===!1)return;a(),r&&r()}};P=_.createElement(ZS,{key:Xl(E),isPresent:!1,onExitComplete:T,custom:e,presenceAffectsLayout:o,mode:s},E),d.set(w,P)}u.splice(S,0,P)}),u=u.map(x=>{const w=x.key;return d.has(w)?x:_.createElement(ZS,{key:Xl(x),isPresent:!0,presenceAffectsLayout:o,mode:s},x)}),_.createElement(_.Fragment,null,d.size?u:u.map(x=>_.cloneElement(x)))},Wce=Bw("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 active:scale-95",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-sm hover:shadow-md",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-sm hover:shadow-md",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground shadow-sm hover:shadow-md",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 shadow-sm hover:shadow-md",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",gradient:"bg-gradient-to-r from-blue-500 to-purple-600 text-white hover:from-blue-600 hover:to-purple-700 shadow-lg hover:shadow-xl",glow:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-lg hover:shadow-primary/25 animate-pulse-glow"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",xl:"h-12 rounded-lg px-10 text-base",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ne=_.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},o)=>{const s=r?Qne:"button";return f.jsx(s,{className:_e(Wce({variant:e,size:n,className:t})),ref:o,...i})});ne.displayName="Button";var qce=sC[" useId ".trim().toString()]||(()=>{}),Gce=0;function ms(t){const[e,n]=_.useState(qce());return sn(()=>{t||n(r=>r??String(Gce++))},[t]),t||(e?`radix-${e}`:"")}var eT="focusScope.autoFocusOnMount",tT="focusScope.autoFocusOnUnmount",yM={bubbles:!1,cancelable:!0},Hce="FocusScope",Jw=_.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...s}=t,[a,l]=_.useState(null),c=fr(i),u=fr(o),d=_.useRef(null),h=Qe(e,m=>l(m)),p=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(r){let m=function(w){if(p.paused||!a)return;const E=w.target;a.contains(E)?d.current=E:ua(d.current,{select:!0})},y=function(w){if(p.paused||!a)return;const E=w.relatedTarget;E!==null&&(a.contains(E)||ua(d.current,{select:!0}))},b=function(w){if(document.activeElement===document.body)for(const S of w)S.removedNodes.length>0&&ua(a)};document.addEventListener("focusin",m),document.addEventListener("focusout",y);const x=new MutationObserver(b);return a&&x.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",y),x.disconnect()}}},[r,a,p.paused]),_.useEffect(()=>{if(a){xM.add(p);const m=document.activeElement;if(!a.contains(m)){const b=new CustomEvent(eT,yM);a.addEventListener(eT,c),a.dispatchEvent(b),b.defaultPrevented||(Kce(Zce(w9(a)),{select:!0}),document.activeElement===m&&ua(a))}return()=>{a.removeEventListener(eT,c),setTimeout(()=>{const b=new CustomEvent(tT,yM);a.addEventListener(tT,u),a.dispatchEvent(b),b.defaultPrevented||ua(m??document.body,{select:!0}),a.removeEventListener(tT,u),xM.remove(p)},0)}}},[a,c,u,p]);const v=_.useCallback(m=>{if(!n&&!r||p.paused)return;const y=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,b=document.activeElement;if(y&&b){const x=m.currentTarget,[w,E]=Yce(x);w&&E?!m.shiftKey&&b===E?(m.preventDefault(),n&&ua(w,{select:!0})):m.shiftKey&&b===w&&(m.preventDefault(),n&&ua(E,{select:!0})):b===x&&m.preventDefault()}},[n,r,p.paused]);return f.jsx(Ne.div,{tabIndex:-1,...s,ref:h,onKeyDown:v})});Jw.displayName=Hce;function Kce(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(ua(r,{select:e}),document.activeElement!==n)return}function Yce(t){const e=w9(t),n=vM(e,t),r=vM(e.reverse(),t);return[n,r]}function w9(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function vM(t,e){for(const n of t)if(!Xce(n,{upTo:e}))return n}function Xce(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Qce(t){return t instanceof HTMLInputElement&&"select"in t}function ua(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Qce(t)&&e&&t.select()}}var xM=Jce();function Jce(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=bM(t,e),t.unshift(e)},remove(e){var n;t=bM(t,e),(n=t[0])==null||n.resume()}}}function bM(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Zce(t){return t.filter(e=>e.tagName!=="A")}var nT=0;function Mk(){_.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??wM()),document.body.insertAdjacentElement("beforeend",t[1]??wM()),nT++,()=>{nT===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),nT--}},[])}function wM(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var bo=function(){return bo=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},bo.apply(this,arguments)};function _9(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function eue(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var _0="right-scroll-bar-position",S0="width-before-scroll-bar",tue="with-scroll-bars-hidden",nue="--removed-body-scroll-bar-size";function rT(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function rue(t,e){var n=_.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var iue=typeof window<"u"?_.useLayoutEffect:_.useEffect,_M=new WeakMap;function oue(t,e){var n=rue(e||null,function(r){return t.forEach(function(i){return rT(i,r)})});return iue(function(){var r=_M.get(n);if(r){var i=new Set(r),o=new Set(t),s=n.current;i.forEach(function(a){o.has(a)||rT(a,null)}),o.forEach(function(a){i.has(a)||rT(a,s)})}_M.set(n,t)},[t]),n}function sue(t){return t}function aue(t,e){e===void 0&&(e=sue);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var s=e(o,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(o),s=n}var l=function(){var u=s;s=[],u.forEach(o)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){s.push(u),c()},filter:function(u){return s=s.filter(u),n}}}};return i}function lue(t){t===void 0&&(t={});var e=aue(null);return e.options=bo({async:!0,ssr:!1},t),e}var S9=function(t){var e=t.sideCar,n=_9(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return _.createElement(r,bo({},n))};S9.isSideCarExport=!0;function cue(t,e){return t.useMedium(e),S9}var T9=lue(),iT=function(){},Zw=_.forwardRef(function(t,e){var n=_.useRef(null),r=_.useState({onScrollCapture:iT,onWheelCapture:iT,onTouchMoveCapture:iT}),i=r[0],o=r[1],s=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,d=t.shards,h=t.sideCar,p=t.noRelative,v=t.noIsolation,m=t.inert,y=t.allowPinchZoom,b=t.as,x=b===void 0?"div":b,w=t.gapMode,E=_9(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,P=oue([n,e]),T=bo(bo({},E),i);return _.createElement(_.Fragment,null,u&&_.createElement(S,{sideCar:T9,removeScrollBar:c,shards:d,noRelative:p,noIsolation:v,inert:m,setCallbacks:o,allowPinchZoom:!!y,lockRef:n,gapMode:w}),s?_.cloneElement(_.Children.only(a),bo(bo({},T),{ref:P})):_.createElement(x,bo({},T,{className:l,ref:P}),a))});Zw.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Zw.classNames={fullWidth:S0,zeroRight:_0};var SM,uue=function(){if(SM)return SM;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function due(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=uue();return e&&t.setAttribute("nonce",e),t}function fue(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function hue(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var pue=function(){var t=0,e=null;return{add:function(n){t==0&&(e=due())&&(fue(e,n),hue(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},mue=function(){var t=pue();return function(e,n){_.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},E9=function(){var t=mue(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},gue={left:0,top:0,right:0,gap:0},oT=function(t){return parseInt(t||"",10)||0},yue=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[oT(n),oT(r),oT(i)]},vue=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return gue;var e=yue(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},xue=E9(),Nd="data-scroll-locked",bue=function(t,e,n,r){var i=t.left,o=t.top,s=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(tue,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Nd,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(_0,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(S0,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(_0," .").concat(_0,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(S0," .").concat(S0,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Nd,`] {
    `).concat(nue,": ").concat(a,`px;
  }
`)},TM=function(){var t=parseInt(document.body.getAttribute(Nd)||"0",10);return isFinite(t)?t:0},wue=function(){_.useEffect(function(){return document.body.setAttribute(Nd,(TM()+1).toString()),function(){var t=TM()-1;t<=0?document.body.removeAttribute(Nd):document.body.setAttribute(Nd,t.toString())}},[])},_ue=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;wue();var o=_.useMemo(function(){return vue(i)},[i]);return _.createElement(xue,{styles:bue(o,!e,i,n?"":"!important")})},CA=!1;if(typeof window<"u")try{var Av=Object.defineProperty({},"passive",{get:function(){return CA=!0,!0}});window.addEventListener("test",Av,Av),window.removeEventListener("test",Av,Av)}catch{CA=!1}var $u=CA?{passive:!1}:!1,Sue=function(t){return t.tagName==="TEXTAREA"},A9=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Sue(t)&&n[e]==="visible")},Tue=function(t){return A9(t,"overflowY")},Eue=function(t){return A9(t,"overflowX")},EM=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=P9(t,r);if(i){var o=I9(t,r),s=o[1],a=o[2];if(s>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Aue=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Pue=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},P9=function(t,e){return t==="v"?Tue(e):Eue(e)},I9=function(t,e){return t==="v"?Aue(e):Pue(e)},Iue=function(t,e){return t==="h"&&e==="rtl"?-1:1},Cue=function(t,e,n,r,i){var o=Iue(t,window.getComputedStyle(e).direction),s=o*r,a=n.target,l=e.contains(a),c=!1,u=s>0,d=0,h=0;do{if(!a)break;var p=I9(t,a),v=p[0],m=p[1],y=p[2],b=m-y-o*v;(v||b)&&P9(t,a)&&(d+=b,h+=v);var x=a.parentNode;a=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(i&&Math.abs(d)<1||!i&&s>d)||!u&&(i&&Math.abs(h)<1||!i&&-s>h))&&(c=!0),c},Pv=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},AM=function(t){return[t.deltaX,t.deltaY]},PM=function(t){return t&&"current"in t?t.current:t},kue=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Nue=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Oue=0,Lu=[];function jue(t){var e=_.useRef([]),n=_.useRef([0,0]),r=_.useRef(),i=_.useState(Oue++)[0],o=_.useState(E9)[0],s=_.useRef(t);_.useEffect(function(){s.current=t},[t]),_.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var m=eue([t.lockRef.current],(t.shards||[]).map(PM),!0).filter(Boolean);return m.forEach(function(y){return y.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=_.useCallback(function(m,y){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!s.current.allowPinchZoom;var b=Pv(m),x=n.current,w="deltaX"in m?m.deltaX:x[0]-b[0],E="deltaY"in m?m.deltaY:x[1]-b[1],S,P=m.target,T=Math.abs(w)>Math.abs(E)?"h":"v";if("touches"in m&&T==="h"&&P.type==="range")return!1;var A=EM(T,P);if(!A)return!0;if(A?S=T:(S=T==="v"?"h":"v",A=EM(T,P)),!A)return!1;if(!r.current&&"changedTouches"in m&&(w||E)&&(r.current=S),!S)return!0;var k=r.current||S;return Cue(k,y,m,k==="h"?w:E,!0)},[]),l=_.useCallback(function(m){var y=m;if(!(!Lu.length||Lu[Lu.length-1]!==o)){var b="deltaY"in y?AM(y):Pv(y),x=e.current.filter(function(S){return S.name===y.type&&(S.target===y.target||y.target===S.shadowParent)&&kue(S.delta,b)})[0];if(x&&x.should){y.cancelable&&y.preventDefault();return}if(!x){var w=(s.current.shards||[]).map(PM).filter(Boolean).filter(function(S){return S.contains(y.target)}),E=w.length>0?a(y,w[0]):!s.current.noIsolation;E&&y.cancelable&&y.preventDefault()}}},[]),c=_.useCallback(function(m,y,b,x){var w={name:m,delta:y,target:b,should:x,shadowParent:Rue(b)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(E){return E!==w})},1)},[]),u=_.useCallback(function(m){n.current=Pv(m),r.current=void 0},[]),d=_.useCallback(function(m){c(m.type,AM(m),m.target,a(m,t.lockRef.current))},[]),h=_.useCallback(function(m){c(m.type,Pv(m),m.target,a(m,t.lockRef.current))},[]);_.useEffect(function(){return Lu.push(o),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",l,$u),document.addEventListener("touchmove",l,$u),document.addEventListener("touchstart",u,$u),function(){Lu=Lu.filter(function(m){return m!==o}),document.removeEventListener("wheel",l,$u),document.removeEventListener("touchmove",l,$u),document.removeEventListener("touchstart",u,$u)}},[]);var p=t.removeScrollBar,v=t.inert;return _.createElement(_.Fragment,null,v?_.createElement(o,{styles:Nue(i)}):null,p?_.createElement(_ue,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function Rue(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Due=cue(T9,jue);var C9=_.forwardRef(function(t,e){return _.createElement(Zw,bo({},t,{ref:e,sideCar:Due}))});C9.classNames=Zw.classNames;const $k=C9;var Mue=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Vu=new WeakMap,Iv=new WeakMap,Cv={},sT=0,k9=function(t){return t&&(t.host||k9(t.parentNode))},$ue=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=k9(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Lue=function(t,e,n,r){var i=$ue(e,Array.isArray(t)?t:[t]);Cv[n]||(Cv[n]=new WeakMap);var o=Cv[n],s=[],a=new Set,l=new Set(i),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};i.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(h){if(a.has(h))u(h);else try{var p=h.getAttribute(r),v=p!==null&&p!=="false",m=(Vu.get(h)||0)+1,y=(o.get(h)||0)+1;Vu.set(h,m),o.set(h,y),s.push(h),m===1&&v&&Iv.set(h,!0),y===1&&h.setAttribute(n,"true"),v||h.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",h,b)}})};return u(e),a.clear(),sT++,function(){s.forEach(function(d){var h=Vu.get(d)-1,p=o.get(d)-1;Vu.set(d,h),o.set(d,p),h||(Iv.has(d)||d.removeAttribute(r),Iv.delete(d)),p||d.removeAttribute(n)}),sT--,sT||(Vu=new WeakMap,Vu=new WeakMap,Iv=new WeakMap,Cv={})}},Lk=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=e||Mue(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),Lue(r,i,n,"aria-hidden")):function(){return null}},e_="Dialog",[N9,dqe]=so(e_),[Vue,ao]=N9(e_),O9=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:s=!0}=t,a=_.useRef(null),l=_.useRef(null),[c,u]=Rc({prop:r,defaultProp:i??!1,onChange:o,caller:e_});return f.jsx(Vue,{scope:e,triggerRef:a,contentRef:l,contentId:ms(),titleId:ms(),descriptionId:ms(),open:c,onOpenChange:u,onOpenToggle:_.useCallback(()=>u(d=>!d),[u]),modal:s,children:n})};O9.displayName=e_;var j9="DialogTrigger",Fue=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ao(j9,n),o=Qe(e,i.triggerRef);return f.jsx(Ne.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Bk(i.open),...r,ref:o,onClick:ye(t.onClick,i.onOpenToggle)})});Fue.displayName=j9;var Vk="DialogPortal",[Bue,R9]=N9(Vk,{forceMount:void 0}),D9=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,o=ao(Vk,e);return f.jsx(Bue,{scope:e,forceMount:n,children:_.Children.map(r,s=>f.jsx($s,{present:n||o.open,children:f.jsx(ey,{asChild:!0,container:i,children:s})}))})};D9.displayName=Vk;var Ix="DialogOverlay",M9=_.forwardRef((t,e)=>{const n=R9(Ix,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=ao(Ix,t.__scopeDialog);return o.modal?f.jsx($s,{present:r||o.open,children:f.jsx(zue,{...i,ref:e})}):null});M9.displayName=Ix;var Uue=jc("DialogOverlay.RemoveScroll"),zue=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ao(Ix,n);return f.jsx($k,{as:Uue,allowPinchZoom:!0,shards:[i.contentRef],children:f.jsx(Ne.div,{"data-state":Bk(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Dc="DialogContent",$9=_.forwardRef((t,e)=>{const n=R9(Dc,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=ao(Dc,t.__scopeDialog);return f.jsx($s,{present:r||o.open,children:o.modal?f.jsx(Wue,{...i,ref:e}):f.jsx(que,{...i,ref:e})})});$9.displayName=Dc;var Wue=_.forwardRef((t,e)=>{const n=ao(Dc,t.__scopeDialog),r=_.useRef(null),i=Qe(e,n.contentRef,r);return _.useEffect(()=>{const o=r.current;if(o)return Lk(o)},[]),f.jsx(L9,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ye(t.onCloseAutoFocus,o=>{var s;o.preventDefault(),(s=n.triggerRef.current)==null||s.focus()}),onPointerDownOutside:ye(t.onPointerDownOutside,o=>{const s=o.detail.originalEvent,a=s.button===0&&s.ctrlKey===!0;(s.button===2||a)&&o.preventDefault()}),onFocusOutside:ye(t.onFocusOutside,o=>o.preventDefault())})}),que=_.forwardRef((t,e)=>{const n=ao(Dc,t.__scopeDialog),r=_.useRef(!1),i=_.useRef(!1);return f.jsx(L9,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s,a;(s=t.onCloseAutoFocus)==null||s.call(t,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=o.target;((c=n.triggerRef.current)==null?void 0:c.contains(s))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),L9=_.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...s}=t,a=ao(Dc,n),l=_.useRef(null),c=Qe(e,l);return Mk(),f.jsxs(f.Fragment,{children:[f.jsx(Jw,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:f.jsx(Zg,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Bk(a.open),...s,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),f.jsxs(f.Fragment,{children:[f.jsx(Gue,{titleId:a.titleId}),f.jsx(Kue,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Fk="DialogTitle",V9=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ao(Fk,n);return f.jsx(Ne.h2,{id:i.titleId,...r,ref:e})});V9.displayName=Fk;var F9="DialogDescription",B9=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ao(F9,n);return f.jsx(Ne.p,{id:i.descriptionId,...r,ref:e})});B9.displayName=F9;var U9="DialogClose",z9=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ao(U9,n);return f.jsx(Ne.button,{type:"button",...r,ref:e,onClick:ye(t.onClick,()=>i.onOpenChange(!1))})});z9.displayName=U9;function Bk(t){return t?"open":"closed"}var W9="DialogTitleWarning",[fqe,q9]=Yne(W9,{contentName:Dc,titleName:Fk,docsSlug:"dialog"}),Gue=({titleId:t})=>{const e=q9(W9),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return _.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Hue="DialogDescriptionWarning",Kue=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${q9(Hue).contentName}}.`;return _.useEffect(()=>{var o;const i=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},Yue=O9,Xue=D9,G9=M9,H9=$9,K9=V9,Y9=B9,Que=z9;const ni=Yue,Jue=Xue,X9=_.forwardRef(({className:t,...e},n)=>f.jsx(G9,{ref:n,className:_e("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));X9.displayName=G9.displayName;const Nr=_.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(Jue,{children:[f.jsx(X9,{}),f.jsxs(H9,{ref:r,className:_e("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,f.jsxs(Que,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[f.jsx(Ss,{className:"h-4 w-4"}),f.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Nr.displayName=H9.displayName;const ki=({className:t,...e})=>f.jsx("div",{className:_e("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});ki.displayName="DialogHeader";const sy=({className:t,...e})=>f.jsx("div",{className:_e("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});sy.displayName="DialogFooter";const Ni=_.forwardRef(({className:t,...e},n)=>f.jsx(K9,{ref:n,className:_e("text-lg font-semibold leading-none tracking-tight",t),...e}));Ni.displayName=K9.displayName;const hu=_.forwardRef(({className:t,...e},n)=>f.jsx(Y9,{ref:n,className:_e("text-sm text-muted-foreground",t),...e}));hu.displayName=Y9.displayName;const Mt=_.forwardRef(({className:t,type:e,...n},r)=>f.jsx("input",{type:e,className:_e("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-all duration-200",t),ref:r,...n}));Mt.displayName="Input";var Zue="Label",Q9=_.forwardRef((t,e)=>f.jsx(Ne.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Q9.displayName=Zue;var J9=Q9;const ede=Bw("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),$e=_.forwardRef(({className:t,...e},n)=>f.jsx(J9,{ref:n,className:_e(ede(),t),...e}));$e.displayName=J9.displayName;const Ls=_.forwardRef(({className:t,...e},n)=>f.jsx("textarea",{className:_e("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));Ls.displayName="Textarea";function tde({open:t,onOpenChange:e}){const{projects:n,activeProject:r,updateProject:i,deleteProject:o,tasks:s,notes:a,resetProject:l,exportProjectData:c}=Bt(),u=n.find(C=>C.id===r),[d,h]=_.useState((u==null?void 0:u.name)||""),[p,v]=_.useState((u==null?void 0:u.description)||""),[m,y]=_.useState((u==null?void 0:u.icon)||""),[b,x]=_.useState(!1),[w,E]=_.useState(!1);if(!u)return null;const S=s.filter(C=>C.projectId===r),P=a.filter(C=>C.projectId===r),T=()=>{i(u.id,{name:d,description:p,icon:m}),e(!1)},A=()=>{l(u.id),x(!1),e(!1)},k=()=>{o(u.id),E(!1),e(!1)},O=()=>{c(u.id)},N=["","","","","","","","","","","",""];return f.jsx(ni,{open:t,onOpenChange:e,children:f.jsxs(Nr,{className:"sm:max-w-[500px] max-h-[90vh] bg-white dark:bg-slate-900 flex flex-col",children:[f.jsxs(ki,{className:"flex-shrink-0",children:[f.jsxs(Ni,{className:"flex items-center space-x-2",children:[f.jsx("span",{className:"text-2xl",children:u.icon}),f.jsx("span",{children:"Project Settings"})]}),f.jsx(hu,{children:"Manage your project settings, data, and preferences."})]}),!b&&!w?f.jsxs("div",{className:"space-y-4 overflow-y-auto flex-1 pr-2",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx($e,{htmlFor:"project-name",children:"Project Name"}),f.jsx(Mt,{id:"project-name",value:d,onChange:C=>h(C.target.value),placeholder:"Enter project name"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx($e,{htmlFor:"project-description",children:"Description"}),f.jsx(Ls,{id:"project-description",value:p,onChange:C=>v(C.target.value),placeholder:"Describe your project",rows:2,className:"resize-none"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx($e,{children:"Project Icon"}),f.jsx("div",{className:"flex flex-wrap gap-2",children:N.map(C=>f.jsx("button",{onClick:()=>y(C),className:`
                        text-2xl p-2 rounded-lg border-2 transition-all
                        ${m===C?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"}
                      `,children:C},C))})]})]}),f.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800 rounded-lg p-3",children:[f.jsx("h4",{className:"font-medium mb-2 text-sm text-gray-900 dark:text-gray-100",children:"Project Statistics"}),f.jsxs("div",{className:"grid grid-cols-3 gap-3 text-center",children:[f.jsxs("div",{children:[f.jsx("div",{className:"text-xl font-bold text-blue-600",children:S.length}),f.jsx("div",{className:"text-xs text-muted-foreground",children:"Tasks"})]}),f.jsxs("div",{children:[f.jsx("div",{className:"text-xl font-bold text-green-600",children:S.filter(C=>C.status==="completed").length}),f.jsx("div",{className:"text-xs text-muted-foreground",children:"Completed"})]}),f.jsxs("div",{children:[f.jsx("div",{className:"text-xl font-bold text-purple-600",children:P.length}),f.jsx("div",{className:"text-xs text-muted-foreground",children:"Notes"})]})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs(ne,{onClick:O,variant:"outline",className:"w-full justify-start",size:"sm",children:[f.jsx(qre,{className:"h-4 w-4 mr-2"}),"Export Project Data (JSON)"]}),f.jsxs(ne,{onClick:()=>x(!0),variant:"outline",className:"w-full justify-start text-orange-600 border-orange-200 hover:bg-orange-50 dark:hover:bg-orange-900/20",size:"sm",children:[f.jsx(sD,{className:"h-4 w-4 mr-2"}),"Reset Project (Clear All Data)"]}),f.jsxs(ne,{onClick:()=>E(!0),variant:"outline",className:"w-full justify-start text-red-600 border-red-200 hover:bg-red-50 dark:hover:bg-red-900/20",size:"sm",children:[f.jsx(Id,{className:"h-4 w-4 mr-2"}),"Delete Project"]})]})]}):b?f.jsxs(Ve.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"text-center space-y-4",children:[f.jsx("div",{className:"mx-auto w-12 h-12 bg-orange-100 dark:bg-orange-900/20 rounded-full flex items-center justify-center",children:f.jsx(SU,{className:"h-6 w-6 text-orange-600"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Reset Project"}),f.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"This will permanently delete all tasks, notes, and data in this project. The project itself will remain but will be empty."})]}),f.jsx("div",{className:"bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg p-3",children:f.jsxs("p",{className:"text-sm text-orange-800 dark:text-orange-200",children:[f.jsxs("strong",{children:[S.length," tasks"]})," and ",f.jsxs("strong",{children:[P.length," notes"]})," will be deleted."]})})]}):f.jsxs(Ve.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"text-center space-y-4",children:[f.jsx("div",{className:"mx-auto w-12 h-12 bg-red-100 dark:bg-red-900/20 rounded-full flex items-center justify-center",children:f.jsx(Id,{className:"h-6 w-6 text-red-600"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Delete Project"}),f.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"This will permanently delete the entire project and all its data. This action cannot be undone."})]}),f.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3",children:f.jsxs("p",{className:"text-sm text-red-800 dark:text-red-200",children:['Project "',f.jsx("strong",{children:u.name}),'" with ',f.jsxs("strong",{children:[S.length," tasks"]})," and ",f.jsxs("strong",{children:[P.length," notes"]})," will be permanently deleted."]})})]}),f.jsx(sy,{className:"flex-shrink-0 mt-4",children:!b&&!w?f.jsxs(f.Fragment,{children:[f.jsx(ne,{variant:"outline",onClick:()=>e(!1),size:"sm",children:"Cancel"}),f.jsxs(ne,{onClick:T,size:"sm",children:[f.jsx(yx,{className:"h-4 w-4 mr-2"}),"Save Changes"]})]}):b?f.jsxs(f.Fragment,{children:[f.jsx(ne,{variant:"outline",onClick:()=>x(!1),size:"sm",children:"Cancel"}),f.jsxs(ne,{variant:"destructive",onClick:A,size:"sm",children:[f.jsx(sD,{className:"h-4 w-4 mr-2"}),"Reset Project"]})]}):f.jsxs(f.Fragment,{children:[f.jsx(ne,{variant:"outline",onClick:()=>E(!1),size:"sm",children:"Cancel"}),f.jsxs(ne,{variant:"destructive",onClick:k,size:"sm",children:[f.jsx(Id,{className:"h-4 w-4 mr-2"}),"Delete Project"]})]})})]})})}function nde(){const{sidebarCollapsed:t,toggleSidebar:e,currentView:n,setCurrentView:r,projects:i,activeProject:o,setActiveProject:s,toggleCommandPalette:a}=Bt(),[l,c]=_.useState(!1),u=[{id:"kanban",label:"Kanban",icon:Jd,view:"kanban"},{id:"list",label:"List",icon:uA,view:"list"},{id:"graph",label:"Graph",icon:Cr,view:"graph"},{id:"calendar",label:"Calendar",icon:el,view:"calendar"},{id:"analytics",label:"Analytics",icon:rk,view:"analytics"}],[d,h]=_.useState(0),p=()=>{h(v=>v+1),d>=2&&(r("admin"),h(0)),setTimeout(()=>h(0),2e3)};return f.jsxs(Ve.aside,{animate:{width:t?64:256},transition:{duration:.3,ease:"easeInOut"},className:"fixed left-0 top-0 h-full bg-white/95 dark:bg-slate-950/95 backdrop-blur-xl border-r border-border z-40 hidden md:block",children:[f.jsxs("div",{className:"flex flex-col h-full",children:[f.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[!t&&f.jsxs(Ve.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center space-x-2",children:[f.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center cursor-pointer",onClick:p,children:f.jsx(Ts,{className:"w-4 h-4 text-white"})}),f.jsx("span",{className:"font-bold text-lg gradient-text cursor-pointer select-none",onClick:p,children:"FlowState"})]}),f.jsx(ne,{variant:"ghost",size:"icon",onClick:e,className:"h-8 w-8",children:t?f.jsx(ak,{className:"h-4 w-4"}):f.jsx(TU,{className:"h-4 w-4"})})]}),f.jsx("div",{className:"p-4 border-b border-border",children:f.jsxs(ne,{onClick:a,variant:"gradient",className:_e("w-full justify-start",t&&"px-2"),children:[f.jsx(hr,{className:"h-4 w-4"}),!t&&f.jsx("span",{className:"ml-2",children:"Quick Add"})]})}),f.jsxs("nav",{className:"flex-1 p-4 space-y-2",children:[!t&&f.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-3",children:"Views"}),u.map(v=>f.jsxs(ne,{variant:n===v.view?"secondary":"ghost",className:_e("w-full justify-start",t&&"px-2",n===v.view&&"bg-primary/10 text-primary border-primary/20"),onClick:()=>r(v.view),children:[f.jsx(v.icon,{className:"h-4 w-4"}),!t&&f.jsx("span",{className:"ml-2",children:v.label})]},v.id)),!t&&f.jsxs(f.Fragment,{children:[f.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mt-6 mb-3",children:"Projects"}),f.jsx("div",{className:"space-y-1",children:i.map(v=>f.jsxs("div",{className:"flex items-center space-x-1",children:[f.jsxs(ne,{variant:o===v.id?"secondary":"ghost",className:_e("flex-1 justify-start text-left",o===v.id&&"bg-primary/10 text-primary"),onClick:()=>s(v.id),children:[f.jsx("span",{className:"mr-2",children:v.icon}),f.jsx("span",{className:"truncate",children:v.name})]}),o===v.id&&f.jsx(ne,{variant:"ghost",size:"icon",onClick:()=>c(!0),className:"h-8 w-8 opacity-60 hover:opacity-100",children:f.jsx(NU,{className:"h-3 w-3"})})]},v.id))})]})]}),f.jsx("div",{className:"p-4 border-t border-border",children:f.jsxs(ne,{variant:"ghost",className:_e("w-full justify-start",t&&"px-2"),children:[f.jsx(dk,{className:"h-4 w-4"}),!t&&f.jsx("span",{className:"ml-2",children:"Settings"})]})})]}),f.jsx(tde,{open:l,onOpenChange:c})]})}var rde=_.createContext(void 0);function Uk(t){const e=_.useContext(rde);return t||e||"ltr"}const ide=["top","right","bottom","left"],rl=Math.min,Ur=Math.max,Cx=Math.round,kv=Math.floor,Co=t=>({x:t,y:t}),ode={left:"right",right:"left",bottom:"top",top:"bottom"},sde={start:"end",end:"start"};function kA(t,e,n){return Ur(t,rl(e,n))}function As(t,e){return typeof t=="function"?t(e):t}function Ps(t){return t.split("-")[0]}function ih(t){return t.split("-")[1]}function zk(t){return t==="x"?"y":"x"}function Wk(t){return t==="y"?"height":"width"}const ade=new Set(["top","bottom"]);function wo(t){return ade.has(Ps(t))?"y":"x"}function qk(t){return zk(wo(t))}function lde(t,e,n){n===void 0&&(n=!1);const r=ih(t),i=qk(t),o=Wk(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=kx(s)),[s,kx(s)]}function cde(t){const e=kx(t);return[NA(t),e,NA(e)]}function NA(t){return t.replace(/start|end/g,e=>sde[e])}const IM=["left","right"],CM=["right","left"],ude=["top","bottom"],dde=["bottom","top"];function fde(t,e,n){switch(t){case"top":case"bottom":return n?e?CM:IM:e?IM:CM;case"left":case"right":return e?ude:dde;default:return[]}}function hde(t,e,n,r){const i=ih(t);let o=fde(Ps(t),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),e&&(o=o.concat(o.map(NA)))),o}function kx(t){return t.replace(/left|right|bottom|top/g,e=>ode[e])}function pde(t){return{top:0,right:0,bottom:0,left:0,...t}}function Z9(t){return typeof t!="number"?pde(t):{top:t,right:t,bottom:t,left:t}}function Nx(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function kM(t,e,n){let{reference:r,floating:i}=t;const o=wo(e),s=qk(e),a=Wk(s),l=Ps(e),c=o==="y",u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let p;switch(l){case"top":p={x:u,y:r.y-i.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:d};break;case"left":p={x:r.x-i.width,y:d};break;default:p={x:r.x,y:r.y}}switch(ih(e)){case"start":p[s]-=h*(n&&c?-1:1);break;case"end":p[s]+=h*(n&&c?-1:1);break}return p}const mde=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let c=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:d}=kM(c,r,l),h=r,p={},v=0;for(let m=0;m<a.length;m++){const{name:y,fn:b}=a[m],{x,y:w,data:E,reset:S}=await b({x:u,y:d,initialPlacement:r,placement:h,strategy:i,middlewareData:p,rects:c,platform:s,elements:{reference:t,floating:e}});u=x??u,d=w??d,p={...p,[y]:{...p[y],...E}},S&&v<=50&&(v++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(c=S.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):S.rects),{x:u,y:d}=kM(c,h,l)),m=-1)}return{x:u,y:d,placement:h,strategy:i,middlewareData:p}};async function Wm(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:p=0}=As(e,t),v=Z9(p),y=a[h?d==="floating"?"reference":"floating":d],b=Nx(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(y)))==null||n?y:y.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),x=d==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),E=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},S=Nx(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:x,offsetParent:w,strategy:l}):x);return{top:(b.top-S.top+v.top)/E.y,bottom:(S.bottom-b.bottom+v.bottom)/E.y,left:(b.left-S.left+v.left)/E.x,right:(S.right-b.right+v.right)/E.x}}const gde=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:o,platform:s,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=As(t,e)||{};if(c==null)return{};const d=Z9(u),h={x:n,y:r},p=qk(i),v=Wk(p),m=await s.getDimensions(c),y=p==="y",b=y?"top":"left",x=y?"bottom":"right",w=y?"clientHeight":"clientWidth",E=o.reference[v]+o.reference[p]-h[p]-o.floating[v],S=h[p]-o.reference[p],P=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let T=P?P[w]:0;(!T||!await(s.isElement==null?void 0:s.isElement(P)))&&(T=a.floating[w]||o.floating[v]);const A=E/2-S/2,k=T/2-m[v]/2-1,O=rl(d[b],k),N=rl(d[x],k),C=O,j=T-m[v]-N,$=T/2-m[v]/2+A,B=kA(C,$,j),U=!l.arrow&&ih(i)!=null&&$!==B&&o.reference[v]/2-($<C?O:N)-m[v]/2<0,z=U?$<C?$-C:$-j:0;return{[p]:h[p]+z,data:{[p]:B,centerOffset:$-B-z,...U&&{alignmentOffset:z}},reset:U}}}),yde=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:m=!0,...y}=As(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const b=Ps(i),x=wo(a),w=Ps(a)===a,E=await(l.isRTL==null?void 0:l.isRTL(c.floating)),S=h||(w||!m?[kx(a)]:cde(a)),P=v!=="none";!h&&P&&S.push(...hde(a,m,v,E));const T=[a,...S],A=await Wm(e,y),k=[];let O=((r=o.flip)==null?void 0:r.overflows)||[];if(u&&k.push(A[b]),d){const $=lde(i,s,E);k.push(A[$[0]],A[$[1]])}if(O=[...O,{placement:i,overflows:k}],!k.every($=>$<=0)){var N,C;const $=(((N=o.flip)==null?void 0:N.index)||0)+1,B=T[$];if(B&&(!(d==="alignment"?x!==wo(B):!1)||O.every(V=>wo(V.placement)===x?V.overflows[0]>0:!0)))return{data:{index:$,overflows:O},reset:{placement:B}};let U=(C=O.filter(z=>z.overflows[0]<=0).sort((z,V)=>z.overflows[1]-V.overflows[1])[0])==null?void 0:C.placement;if(!U)switch(p){case"bestFit":{var j;const z=(j=O.filter(V=>{if(P){const L=wo(V.placement);return L===x||L==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(L=>L>0).reduce((L,Y)=>L+Y,0)]).sort((V,L)=>V[1]-L[1])[0])==null?void 0:j[0];z&&(U=z);break}case"initialPlacement":U=a;break}if(i!==U)return{reset:{placement:U}}}return{}}}};function NM(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function OM(t){return ide.some(e=>t[e]>=0)}const vde=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=As(t,e);switch(r){case"referenceHidden":{const o=await Wm(e,{...i,elementContext:"reference"}),s=NM(o,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:OM(s)}}}case"escaped":{const o=await Wm(e,{...i,altBoundary:!0}),s=NM(o,n.floating);return{data:{escapedOffsets:s,escaped:OM(s)}}}default:return{}}}}},e8=new Set(["left","top"]);async function xde(t,e){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=Ps(n),a=ih(n),l=wo(n)==="y",c=e8.has(s)?-1:1,u=o&&l?-1:1,d=As(e,t);let{mainAxis:h,crossAxis:p,alignmentAxis:v}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof v=="number"&&(p=a==="end"?v*-1:v),l?{x:p*u,y:h*c}:{x:h*c,y:p*u}}const bde=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=e,l=await xde(e,t);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}},wde=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:y=>{let{x:b,y:x}=y;return{x:b,y:x}}},...l}=As(t,e),c={x:n,y:r},u=await Wm(e,l),d=wo(Ps(i)),h=zk(d);let p=c[h],v=c[d];if(o){const y=h==="y"?"top":"left",b=h==="y"?"bottom":"right",x=p+u[y],w=p-u[b];p=kA(x,p,w)}if(s){const y=d==="y"?"top":"left",b=d==="y"?"bottom":"right",x=v+u[y],w=v-u[b];v=kA(x,v,w)}const m=a.fn({...e,[h]:p,[d]:v});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[h]:o,[d]:s}}}}}},_de=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:o,middlewareData:s}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=As(t,e),u={x:n,y:r},d=wo(i),h=zk(d);let p=u[h],v=u[d];const m=As(a,e),y=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const w=h==="y"?"height":"width",E=o.reference[h]-o.floating[w]+y.mainAxis,S=o.reference[h]+o.reference[w]-y.mainAxis;p<E?p=E:p>S&&(p=S)}if(c){var b,x;const w=h==="y"?"width":"height",E=e8.has(Ps(i)),S=o.reference[d]-o.floating[w]+(E&&((b=s.offset)==null?void 0:b[d])||0)+(E?0:y.crossAxis),P=o.reference[d]+o.reference[w]+(E?0:((x=s.offset)==null?void 0:x[d])||0)-(E?y.crossAxis:0);v<S?v=S:v>P&&(v=P)}return{[h]:p,[d]:v}}}},Sde=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:o,platform:s,elements:a}=e,{apply:l=()=>{},...c}=As(t,e),u=await Wm(e,c),d=Ps(i),h=ih(i),p=wo(i)==="y",{width:v,height:m}=o.floating;let y,b;d==="top"||d==="bottom"?(y=d,b=h===(await(s.isRTL==null?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(b=d,y=h==="end"?"top":"bottom");const x=m-u.top-u.bottom,w=v-u.left-u.right,E=rl(m-u[y],x),S=rl(v-u[b],w),P=!e.middlewareData.shift;let T=E,A=S;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(A=w),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(T=x),P&&!h){const O=Ur(u.left,0),N=Ur(u.right,0),C=Ur(u.top,0),j=Ur(u.bottom,0);p?A=v-2*(O!==0||N!==0?O+N:Ur(u.left,u.right)):T=m-2*(C!==0||j!==0?C+j:Ur(u.top,u.bottom))}await l({...e,availableWidth:A,availableHeight:T});const k=await s.getDimensions(a.floating);return v!==k.width||m!==k.height?{reset:{rects:!0}}:{}}}};function t_(){return typeof window<"u"}function oh(t){return t8(t)?(t.nodeName||"").toLowerCase():"#document"}function Kr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function zo(t){var e;return(e=(t8(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function t8(t){return t_()?t instanceof Node||t instanceof Kr(t).Node:!1}function eo(t){return t_()?t instanceof Element||t instanceof Kr(t).Element:!1}function Vo(t){return t_()?t instanceof HTMLElement||t instanceof Kr(t).HTMLElement:!1}function jM(t){return!t_()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Kr(t).ShadowRoot}const Tde=new Set(["inline","contents"]);function ay(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=to(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!Tde.has(i)}const Ede=new Set(["table","td","th"]);function Ade(t){return Ede.has(oh(t))}const Pde=[":popover-open",":modal"];function n_(t){return Pde.some(e=>{try{return t.matches(e)}catch{return!1}})}const Ide=["transform","translate","scale","rotate","perspective"],Cde=["transform","translate","scale","rotate","perspective","filter"],kde=["paint","layout","strict","content"];function Gk(t){const e=Hk(),n=eo(t)?to(t):t;return Ide.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||Cde.some(r=>(n.willChange||"").includes(r))||kde.some(r=>(n.contain||"").includes(r))}function Nde(t){let e=il(t);for(;Vo(e)&&!nf(e);){if(Gk(e))return e;if(n_(e))return null;e=il(e)}return null}function Hk(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Ode=new Set(["html","body","#document"]);function nf(t){return Ode.has(oh(t))}function to(t){return Kr(t).getComputedStyle(t)}function r_(t){return eo(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function il(t){if(oh(t)==="html")return t;const e=t.assignedSlot||t.parentNode||jM(t)&&t.host||zo(t);return jM(e)?e.host:e}function n8(t){const e=il(t);return nf(e)?t.ownerDocument?t.ownerDocument.body:t.body:Vo(e)&&ay(e)?e:n8(e)}function qm(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=n8(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),s=Kr(i);if(o){const a=OA(s);return e.concat(s,s.visualViewport||[],ay(i)?i:[],a&&n?qm(a):[])}return e.concat(i,qm(i,[],n))}function OA(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function r8(t){const e=to(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Vo(t),o=i?t.offsetWidth:n,s=i?t.offsetHeight:r,a=Cx(n)!==o||Cx(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function Kk(t){return eo(t)?t:t.contextElement}function Od(t){const e=Kk(t);if(!Vo(e))return Co(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=r8(e);let s=(o?Cx(n.width):n.width)/r,a=(o?Cx(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const jde=Co(0);function i8(t){const e=Kr(t);return!Hk()||!e.visualViewport?jde:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Rde(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Kr(t)?!1:e}function Mc(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=Kk(t);let s=Co(1);e&&(r?eo(r)&&(s=Od(r)):s=Od(t));const a=Rde(o,n,r)?i8(o):Co(0);let l=(i.left+a.x)/s.x,c=(i.top+a.y)/s.y,u=i.width/s.x,d=i.height/s.y;if(o){const h=Kr(o),p=r&&eo(r)?Kr(r):r;let v=h,m=OA(v);for(;m&&r&&p!==v;){const y=Od(m),b=m.getBoundingClientRect(),x=to(m),w=b.left+(m.clientLeft+parseFloat(x.paddingLeft))*y.x,E=b.top+(m.clientTop+parseFloat(x.paddingTop))*y.y;l*=y.x,c*=y.y,u*=y.x,d*=y.y,l+=w,c+=E,v=Kr(m),m=OA(v)}}return Nx({width:u,height:d,x:l,y:c})}function i_(t,e){const n=r_(t).scrollLeft;return e?e.left+n:Mc(zo(t)).left+n}function o8(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-i_(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function Dde(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",s=zo(r),a=e?n_(e.floating):!1;if(r===s||a&&o)return n;let l={scrollLeft:0,scrollTop:0},c=Co(1);const u=Co(0),d=Vo(r);if((d||!d&&!o)&&((oh(r)!=="body"||ay(s))&&(l=r_(r)),Vo(r))){const p=Mc(r);c=Od(r),u.x=p.x+r.clientLeft,u.y=p.y+r.clientTop}const h=s&&!d&&!o?o8(s,l):Co(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:n.y*c.y-l.scrollTop*c.y+u.y+h.y}}function Mde(t){return Array.from(t.getClientRects())}function $de(t){const e=zo(t),n=r_(t),r=t.ownerDocument.body,i=Ur(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=Ur(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+i_(t);const a=-n.scrollTop;return to(r).direction==="rtl"&&(s+=Ur(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}const RM=25;function Lde(t,e){const n=Kr(t),r=zo(t),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const u=Hk();(!u||u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}const c=i_(r);if(c<=0){const u=r.ownerDocument,d=u.body,h=getComputedStyle(d),p=u.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,v=Math.abs(r.clientWidth-d.clientWidth-p);v<=RM&&(o-=v)}else c<=RM&&(o+=c);return{width:o,height:s,x:a,y:l}}const Vde=new Set(["absolute","fixed"]);function Fde(t,e){const n=Mc(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=Vo(t)?Od(t):Co(1),s=t.clientWidth*o.x,a=t.clientHeight*o.y,l=i*o.x,c=r*o.y;return{width:s,height:a,x:l,y:c}}function DM(t,e,n){let r;if(e==="viewport")r=Lde(t,n);else if(e==="document")r=$de(zo(t));else if(eo(e))r=Fde(e,n);else{const i=i8(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Nx(r)}function s8(t,e){const n=il(t);return n===e||!eo(n)||nf(n)?!1:to(n).position==="fixed"||s8(n,e)}function Bde(t,e){const n=e.get(t);if(n)return n;let r=qm(t,[],!1).filter(a=>eo(a)&&oh(a)!=="body"),i=null;const o=to(t).position==="fixed";let s=o?il(t):t;for(;eo(s)&&!nf(s);){const a=to(s),l=Gk(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&Vde.has(i.position)||ay(s)&&!l&&s8(t,s))?r=r.filter(u=>u!==s):i=a,s=il(s)}return e.set(t,r),r}function Ude(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const s=[...n==="clippingAncestors"?n_(e)?[]:Bde(e,this._c):[].concat(n),r],a=s[0],l=s.reduce((c,u)=>{const d=DM(e,u,i);return c.top=Ur(d.top,c.top),c.right=rl(d.right,c.right),c.bottom=rl(d.bottom,c.bottom),c.left=Ur(d.left,c.left),c},DM(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function zde(t){const{width:e,height:n}=r8(t);return{width:e,height:n}}function Wde(t,e,n){const r=Vo(e),i=zo(e),o=n==="fixed",s=Mc(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const l=Co(0);function c(){l.x=i_(i)}if(r||!r&&!o)if((oh(e)!=="body"||ay(i))&&(a=r_(e)),r){const p=Mc(e,!0,o,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else i&&c();o&&!r&&i&&c();const u=i&&!r&&!o?o8(i,a):Co(0),d=s.left+a.scrollLeft-l.x-u.x,h=s.top+a.scrollTop-l.y-u.y;return{x:d,y:h,width:s.width,height:s.height}}function aT(t){return to(t).position==="static"}function MM(t,e){if(!Vo(t)||to(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return zo(t)===n&&(n=n.ownerDocument.body),n}function a8(t,e){const n=Kr(t);if(n_(t))return n;if(!Vo(t)){let i=il(t);for(;i&&!nf(i);){if(eo(i)&&!aT(i))return i;i=il(i)}return n}let r=MM(t,e);for(;r&&Ade(r)&&aT(r);)r=MM(r,e);return r&&nf(r)&&aT(r)&&!Gk(r)?n:r||Nde(t)||n}const qde=async function(t){const e=this.getOffsetParent||a8,n=this.getDimensions,r=await n(t.floating);return{reference:Wde(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Gde(t){return to(t).direction==="rtl"}const Hde={convertOffsetParentRelativeRectToViewportRelativeRect:Dde,getDocumentElement:zo,getClippingRect:Ude,getOffsetParent:a8,getElementRects:qde,getClientRects:Mde,getDimensions:zde,getScale:Od,isElement:eo,isRTL:Gde};function l8(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Kde(t,e){let n=null,r;const i=zo(t);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const c=t.getBoundingClientRect(),{left:u,top:d,width:h,height:p}=c;if(a||e(),!h||!p)return;const v=kv(d),m=kv(i.clientWidth-(u+h)),y=kv(i.clientHeight-(d+p)),b=kv(u),w={rootMargin:-v+"px "+-m+"px "+-y+"px "+-b+"px",threshold:Ur(0,rl(1,l))||1};let E=!0;function S(P){const T=P[0].intersectionRatio;if(T!==l){if(!E)return s();T?s(!1,T):r=setTimeout(()=>{s(!1,1e-7)},1e3)}T===1&&!l8(c,t.getBoundingClientRect())&&s(),E=!1}try{n=new IntersectionObserver(S,{...w,root:i.ownerDocument})}catch{n=new IntersectionObserver(S,w)}n.observe(t)}return s(!0),o}function Yde(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Kk(t),u=i||o?[...c?qm(c):[],...qm(e)]:[];u.forEach(b=>{i&&b.addEventListener("scroll",n,{passive:!0}),o&&b.addEventListener("resize",n)});const d=c&&a?Kde(c,n):null;let h=-1,p=null;s&&(p=new ResizeObserver(b=>{let[x]=b;x&&x.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(e)})),n()}),c&&!l&&p.observe(c),p.observe(e));let v,m=l?Mc(t):null;l&&y();function y(){const b=Mc(t);m&&!l8(m,b)&&n(),m=b,v=requestAnimationFrame(y)}return n(),()=>{var b;u.forEach(x=>{i&&x.removeEventListener("scroll",n),o&&x.removeEventListener("resize",n)}),d==null||d(),(b=p)==null||b.disconnect(),p=null,l&&cancelAnimationFrame(v)}}const Xde=bde,Qde=wde,Jde=yde,Zde=Sde,efe=vde,$M=gde,tfe=_de,nfe=(t,e,n)=>{const r=new Map,i={platform:Hde,...n},o={...i.platform,_c:r};return mde(t,e,{...i,platform:o})};var rfe=typeof document<"u",ife=function(){},T0=rfe?_.useLayoutEffect:ife;function Ox(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Ox(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!Ox(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function c8(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function LM(t,e){const n=c8(t);return Math.round(e*n)/n}function lT(t){const e=_.useRef(t);return T0(()=>{e.current=t}),e}function ofe(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,d]=_.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,p]=_.useState(r);Ox(h,r)||p(r);const[v,m]=_.useState(null),[y,b]=_.useState(null),x=_.useCallback(V=>{V!==P.current&&(P.current=V,m(V))},[]),w=_.useCallback(V=>{V!==T.current&&(T.current=V,b(V))},[]),E=o||v,S=s||y,P=_.useRef(null),T=_.useRef(null),A=_.useRef(u),k=l!=null,O=lT(l),N=lT(i),C=lT(c),j=_.useCallback(()=>{if(!P.current||!T.current)return;const V={placement:e,strategy:n,middleware:h};N.current&&(V.platform=N.current),nfe(P.current,T.current,V).then(L=>{const Y={...L,isPositioned:C.current!==!1};$.current&&!Ox(A.current,Y)&&(A.current=Y,bi.flushSync(()=>{d(Y)}))})},[h,e,n,N,C]);T0(()=>{c===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,d(V=>({...V,isPositioned:!1})))},[c]);const $=_.useRef(!1);T0(()=>($.current=!0,()=>{$.current=!1}),[]),T0(()=>{if(E&&(P.current=E),S&&(T.current=S),E&&S){if(O.current)return O.current(E,S,j);j()}},[E,S,j,O,k]);const B=_.useMemo(()=>({reference:P,floating:T,setReference:x,setFloating:w}),[x,w]),U=_.useMemo(()=>({reference:E,floating:S}),[E,S]),z=_.useMemo(()=>{const V={position:n,left:0,top:0};if(!U.floating)return V;const L=LM(U.floating,u.x),Y=LM(U.floating,u.y);return a?{...V,transform:"translate("+L+"px, "+Y+"px)",...c8(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:L,top:Y}},[n,a,U.floating,u.x,u.y]);return _.useMemo(()=>({...u,update:j,refs:B,elements:U,floatingStyles:z}),[u,j,B,U,z])}const sfe=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?$M({element:r.current,padding:i}).fn(n):{}:r?$M({element:r,padding:i}).fn(n):{}}}},afe=(t,e)=>({...Xde(t),options:[t,e]}),lfe=(t,e)=>({...Qde(t),options:[t,e]}),cfe=(t,e)=>({...tfe(t),options:[t,e]}),ufe=(t,e)=>({...Jde(t),options:[t,e]}),dfe=(t,e)=>({...Zde(t),options:[t,e]}),ffe=(t,e)=>({...efe(t),options:[t,e]}),hfe=(t,e)=>({...sfe(t),options:[t,e]});var pfe="Arrow",u8=_.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...o}=t;return f.jsx(Ne.svg,{...o,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:f.jsx("polygon",{points:"0,0 30,0 15,10"})})});u8.displayName=pfe;var mfe=u8;function d8(t){const[e,n]=_.useState(void 0);return sn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let s,a;if("borderBoxSize"in o){const l=o.borderBoxSize,c=Array.isArray(l)?l[0]:l;s=c.inlineSize,a=c.blockSize}else s=t.offsetWidth,a=t.offsetHeight;n({width:s,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Yk="Popper",[f8,o_]=so(Yk),[gfe,h8]=f8(Yk),p8=t=>{const{__scopePopper:e,children:n}=t,[r,i]=_.useState(null);return f.jsx(gfe,{scope:e,anchor:r,onAnchorChange:i,children:n})};p8.displayName=Yk;var m8="PopperAnchor",g8=_.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,o=h8(m8,n),s=_.useRef(null),a=Qe(e,s),l=_.useRef(null);return _.useEffect(()=>{const c=l.current;l.current=(r==null?void 0:r.current)||s.current,c!==l.current&&o.onAnchorChange(l.current)}),r?null:f.jsx(Ne.div,{...i,ref:a})});g8.displayName=m8;var Xk="PopperContent",[yfe,vfe]=f8(Xk),y8=_.forwardRef((t,e)=>{var oe,ce,Q,Z,se,H;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:s=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:v,...m}=t,y=h8(Xk,n),[b,x]=_.useState(null),w=Qe(e,Se=>x(Se)),[E,S]=_.useState(null),P=d8(E),T=(P==null?void 0:P.width)??0,A=(P==null?void 0:P.height)??0,k=r+(o!=="center"?"-"+o:""),O=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},N=Array.isArray(c)?c:[c],C=N.length>0,j={padding:O,boundary:N.filter(bfe),altBoundary:C},{refs:$,floatingStyles:B,placement:U,isPositioned:z,middlewareData:V}=ofe({strategy:"fixed",placement:k,whileElementsMounted:(...Se)=>Yde(...Se,{animationFrame:p==="always"}),elements:{reference:y.anchor},middleware:[afe({mainAxis:i+A,alignmentAxis:s}),l&&lfe({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?cfe():void 0,...j}),l&&ufe({...j}),dfe({...j,apply:({elements:Se,rects:be,availableWidth:qe,availableHeight:Ge})=>{const{width:ft,height:Rn}=be.reference,an=Se.floating.style;an.setProperty("--radix-popper-available-width",`${qe}px`),an.setProperty("--radix-popper-available-height",`${Ge}px`),an.setProperty("--radix-popper-anchor-width",`${ft}px`),an.setProperty("--radix-popper-anchor-height",`${Rn}px`)}}),E&&hfe({element:E,padding:a}),wfe({arrowWidth:T,arrowHeight:A}),h&&ffe({strategy:"referenceHidden",...j})]}),[L,Y]=b8(U),K=fr(v);sn(()=>{z&&(K==null||K())},[z,K]);const F=(oe=V.arrow)==null?void 0:oe.x,te=(ce=V.arrow)==null?void 0:ce.y,ie=((Q=V.arrow)==null?void 0:Q.centerOffset)!==0,[pe,ue]=_.useState();return sn(()=>{b&&ue(window.getComputedStyle(b).zIndex)},[b]),f.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...B,transform:z?B.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:pe,"--radix-popper-transform-origin":[(Z=V.transformOrigin)==null?void 0:Z.x,(se=V.transformOrigin)==null?void 0:se.y].join(" "),...((H=V.hide)==null?void 0:H.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:f.jsx(yfe,{scope:n,placedSide:L,onArrowChange:S,arrowX:F,arrowY:te,shouldHideArrow:ie,children:f.jsx(Ne.div,{"data-side":L,"data-align":Y,...m,ref:w,style:{...m.style,animation:z?void 0:"none"}})})})});y8.displayName=Xk;var v8="PopperArrow",xfe={top:"bottom",right:"left",bottom:"top",left:"right"},x8=_.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,o=vfe(v8,r),s=xfe[o.placedSide];return f.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:f.jsx(mfe,{...i,ref:n,style:{...i.style,display:"block"}})})});x8.displayName=v8;function bfe(t){return t!==null}var wfe=t=>({name:"transformOrigin",options:t,fn(e){var y,b,x;const{placement:n,rects:r,middlewareData:i}=e,s=((y=i.arrow)==null?void 0:y.centerOffset)!==0,a=s?0:t.arrowWidth,l=s?0:t.arrowHeight,[c,u]=b8(n),d={start:"0%",center:"50%",end:"100%"}[u],h=(((b=i.arrow)==null?void 0:b.x)??0)+a/2,p=(((x=i.arrow)==null?void 0:x.y)??0)+l/2;let v="",m="";return c==="bottom"?(v=s?d:`${h}px`,m=`${-l}px`):c==="top"?(v=s?d:`${h}px`,m=`${r.floating.height+l}px`):c==="right"?(v=`${-l}px`,m=s?d:`${p}px`):c==="left"&&(v=`${r.floating.width+l}px`,m=s?d:`${p}px`),{data:{x:v,y:m}}}});function b8(t){const[e,n="center"]=t.split("-");return[e,n]}var w8=p8,_8=g8,S8=y8,T8=x8,cT="rovingFocusGroup.onEntryFocus",_fe={bubbles:!1,cancelable:!0},ly="RovingFocusGroup",[jA,E8,Sfe]=Vw(ly),[Tfe,A8]=so(ly,[Sfe]),[Efe,Afe]=Tfe(ly),P8=_.forwardRef((t,e)=>f.jsx(jA.Provider,{scope:t.__scopeRovingFocusGroup,children:f.jsx(jA.Slot,{scope:t.__scopeRovingFocusGroup,children:f.jsx(Pfe,{...t,ref:e})})}));P8.displayName=ly;var Pfe=_.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:o,currentTabStopId:s,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...d}=t,h=_.useRef(null),p=Qe(e,h),v=Uk(o),[m,y]=Rc({prop:s,defaultProp:a??null,onChange:l,caller:ly}),[b,x]=_.useState(!1),w=fr(c),E=E8(n),S=_.useRef(!1),[P,T]=_.useState(0);return _.useEffect(()=>{const A=h.current;if(A)return A.addEventListener(cT,w),()=>A.removeEventListener(cT,w)},[w]),f.jsx(Efe,{scope:n,orientation:r,dir:v,loop:i,currentTabStopId:m,onItemFocus:_.useCallback(A=>y(A),[y]),onItemShiftTab:_.useCallback(()=>x(!0),[]),onFocusableItemAdd:_.useCallback(()=>T(A=>A+1),[]),onFocusableItemRemove:_.useCallback(()=>T(A=>A-1),[]),children:f.jsx(Ne.div,{tabIndex:b||P===0?-1:0,"data-orientation":r,...d,ref:p,style:{outline:"none",...t.style},onMouseDown:ye(t.onMouseDown,()=>{S.current=!0}),onFocus:ye(t.onFocus,A=>{const k=!S.current;if(A.target===A.currentTarget&&k&&!b){const O=new CustomEvent(cT,_fe);if(A.currentTarget.dispatchEvent(O),!O.defaultPrevented){const N=E().filter(U=>U.focusable),C=N.find(U=>U.active),j=N.find(U=>U.id===m),B=[C,j,...N].filter(Boolean).map(U=>U.ref.current);k8(B,u)}}S.current=!1}),onBlur:ye(t.onBlur,()=>x(!1))})})}),I8="RovingFocusGroupItem",C8=_.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:o,children:s,...a}=t,l=ms(),c=o||l,u=Afe(I8,n),d=u.currentTabStopId===c,h=E8(n),{onFocusableItemAdd:p,onFocusableItemRemove:v,currentTabStopId:m}=u;return _.useEffect(()=>{if(r)return p(),()=>v()},[r,p,v]),f.jsx(jA.ItemSlot,{scope:n,id:c,focusable:r,active:i,children:f.jsx(Ne.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...a,ref:e,onMouseDown:ye(t.onMouseDown,y=>{r?u.onItemFocus(c):y.preventDefault()}),onFocus:ye(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:ye(t.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){u.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const b=kfe(y,u.orientation,u.dir);if(b!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let w=h().filter(E=>E.focusable).map(E=>E.ref.current);if(b==="last")w.reverse();else if(b==="prev"||b==="next"){b==="prev"&&w.reverse();const E=w.indexOf(y.currentTarget);w=u.loop?Nfe(w,E+1):w.slice(E+1)}setTimeout(()=>k8(w))}}),children:typeof s=="function"?s({isCurrentTabStop:d,hasTabStop:m!=null}):s})})});C8.displayName=I8;var Ife={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Cfe(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function kfe(t,e,n){const r=Cfe(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Ife[r]}function k8(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function Nfe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Ofe=P8,jfe=C8,RA=["Enter"," "],Rfe=["ArrowDown","PageUp","Home"],N8=["ArrowUp","PageDown","End"],Dfe=[...Rfe,...N8],Mfe={ltr:[...RA,"ArrowRight"],rtl:[...RA,"ArrowLeft"]},$fe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},cy="Menu",[Gm,Lfe,Vfe]=Vw(cy),[pu,O8]=so(cy,[Vfe,o_,A8]),s_=o_(),j8=A8(),[Ffe,mu]=pu(cy),[Bfe,uy]=pu(cy),R8=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:o,modal:s=!0}=t,a=s_(e),[l,c]=_.useState(null),u=_.useRef(!1),d=fr(o),h=Uk(i);return _.useEffect(()=>{const p=()=>{u.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>u.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),f.jsx(w8,{...a,children:f.jsx(Ffe,{scope:e,open:n,onOpenChange:d,content:l,onContentChange:c,children:f.jsx(Bfe,{scope:e,onClose:_.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:u,dir:h,modal:s,children:r})})})};R8.displayName=cy;var Ufe="MenuAnchor",Qk=_.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=s_(n);return f.jsx(_8,{...i,...r,ref:e})});Qk.displayName=Ufe;var Jk="MenuPortal",[zfe,D8]=pu(Jk,{forceMount:void 0}),M8=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,o=mu(Jk,e);return f.jsx(zfe,{scope:e,forceMount:n,children:f.jsx($s,{present:n||o.open,children:f.jsx(ey,{asChild:!0,container:i,children:r})})})};M8.displayName=Jk;var Si="MenuContent",[Wfe,Zk]=pu(Si),$8=_.forwardRef((t,e)=>{const n=D8(Si,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,o=mu(Si,t.__scopeMenu),s=uy(Si,t.__scopeMenu);return f.jsx(Gm.Provider,{scope:t.__scopeMenu,children:f.jsx($s,{present:r||o.open,children:f.jsx(Gm.Slot,{scope:t.__scopeMenu,children:s.modal?f.jsx(qfe,{...i,ref:e}):f.jsx(Gfe,{...i,ref:e})})})})}),qfe=_.forwardRef((t,e)=>{const n=mu(Si,t.__scopeMenu),r=_.useRef(null),i=Qe(e,r);return _.useEffect(()=>{const o=r.current;if(o)return Lk(o)},[]),f.jsx(eN,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ye(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Gfe=_.forwardRef((t,e)=>{const n=mu(Si,t.__scopeMenu);return f.jsx(eN,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Hfe=jc("MenuContent.ScrollLock"),eN=_.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:s,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:h,onDismiss:p,disableOutsideScroll:v,...m}=t,y=mu(Si,n),b=uy(Si,n),x=s_(n),w=j8(n),E=Lfe(n),[S,P]=_.useState(null),T=_.useRef(null),A=Qe(e,T,y.onContentChange),k=_.useRef(0),O=_.useRef(""),N=_.useRef(0),C=_.useRef(null),j=_.useRef("right"),$=_.useRef(0),B=v?$k:_.Fragment,U=v?{as:Hfe,allowPinchZoom:!0}:void 0,z=L=>{var oe,ce;const Y=O.current+L,K=E().filter(Q=>!Q.disabled),F=document.activeElement,te=(oe=K.find(Q=>Q.ref.current===F))==null?void 0:oe.textValue,ie=K.map(Q=>Q.textValue),pe=ohe(ie,Y,te),ue=(ce=K.find(Q=>Q.textValue===pe))==null?void 0:ce.ref.current;(function Q(Z){O.current=Z,window.clearTimeout(k.current),Z!==""&&(k.current=window.setTimeout(()=>Q(""),1e3))})(Y),ue&&setTimeout(()=>ue.focus())};_.useEffect(()=>()=>window.clearTimeout(k.current),[]),Mk();const V=_.useCallback(L=>{var K,F;return j.current===((K=C.current)==null?void 0:K.side)&&ahe(L,(F=C.current)==null?void 0:F.area)},[]);return f.jsx(Wfe,{scope:n,searchRef:O,onItemEnter:_.useCallback(L=>{V(L)&&L.preventDefault()},[V]),onItemLeave:_.useCallback(L=>{var Y;V(L)||((Y=T.current)==null||Y.focus(),P(null))},[V]),onTriggerLeave:_.useCallback(L=>{V(L)&&L.preventDefault()},[V]),pointerGraceTimerRef:N,onPointerGraceIntentChange:_.useCallback(L=>{C.current=L},[]),children:f.jsx(B,{...U,children:f.jsx(Jw,{asChild:!0,trapped:i,onMountAutoFocus:ye(o,L=>{var Y;L.preventDefault(),(Y=T.current)==null||Y.focus({preventScroll:!0})}),onUnmountAutoFocus:s,children:f.jsx(Zg,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:h,onDismiss:p,children:f.jsx(Ofe,{asChild:!0,...w,dir:b.dir,orientation:"vertical",loop:r,currentTabStopId:S,onCurrentTabStopIdChange:P,onEntryFocus:ye(l,L=>{b.isUsingKeyboardRef.current||L.preventDefault()}),preventScrollOnEntryFocus:!0,children:f.jsx(S8,{role:"menu","aria-orientation":"vertical","data-state":Z8(y.open),"data-radix-menu-content":"",dir:b.dir,...x,...m,ref:A,style:{outline:"none",...m.style},onKeyDown:ye(m.onKeyDown,L=>{const K=L.target.closest("[data-radix-menu-content]")===L.currentTarget,F=L.ctrlKey||L.altKey||L.metaKey,te=L.key.length===1;K&&(L.key==="Tab"&&L.preventDefault(),!F&&te&&z(L.key));const ie=T.current;if(L.target!==ie||!Dfe.includes(L.key))return;L.preventDefault();const ue=E().filter(oe=>!oe.disabled).map(oe=>oe.ref.current);N8.includes(L.key)&&ue.reverse(),rhe(ue)}),onBlur:ye(t.onBlur,L=>{L.currentTarget.contains(L.target)||(window.clearTimeout(k.current),O.current="")}),onPointerMove:ye(t.onPointerMove,Hm(L=>{const Y=L.target,K=$.current!==L.clientX;if(L.currentTarget.contains(Y)&&K){const F=L.clientX>$.current?"right":"left";j.current=F,$.current=L.clientX}}))})})})})})})});$8.displayName=Si;var Kfe="MenuGroup",tN=_.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return f.jsx(Ne.div,{role:"group",...r,ref:e})});tN.displayName=Kfe;var Yfe="MenuLabel",L8=_.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return f.jsx(Ne.div,{...r,ref:e})});L8.displayName=Yfe;var jx="MenuItem",VM="menu.itemSelect",a_=_.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,o=_.useRef(null),s=uy(jx,t.__scopeMenu),a=Zk(jx,t.__scopeMenu),l=Qe(e,o),c=_.useRef(!1),u=()=>{const d=o.current;if(!n&&d){const h=new CustomEvent(VM,{bubbles:!0,cancelable:!0});d.addEventListener(VM,p=>r==null?void 0:r(p),{once:!0}),JC(d,h),h.defaultPrevented?c.current=!1:s.onClose()}};return f.jsx(V8,{...i,ref:l,disabled:n,onClick:ye(t.onClick,u),onPointerDown:d=>{var h;(h=t.onPointerDown)==null||h.call(t,d),c.current=!0},onPointerUp:ye(t.onPointerUp,d=>{var h;c.current||(h=d.currentTarget)==null||h.click()}),onKeyDown:ye(t.onKeyDown,d=>{const h=a.searchRef.current!=="";n||h&&d.key===" "||RA.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});a_.displayName=jx;var V8=_.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...o}=t,s=Zk(jx,n),a=j8(n),l=_.useRef(null),c=Qe(e,l),[u,d]=_.useState(!1),[h,p]=_.useState("");return _.useEffect(()=>{const v=l.current;v&&p((v.textContent??"").trim())},[o.children]),f.jsx(Gm.ItemSlot,{scope:n,disabled:r,textValue:i??h,children:f.jsx(jfe,{asChild:!0,...a,focusable:!r,children:f.jsx(Ne.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:c,onPointerMove:ye(t.onPointerMove,Hm(v=>{r?s.onItemLeave(v):(s.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ye(t.onPointerLeave,Hm(v=>s.onItemLeave(v))),onFocus:ye(t.onFocus,()=>d(!0)),onBlur:ye(t.onBlur,()=>d(!1))})})})}),Xfe="MenuCheckboxItem",F8=_.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return f.jsx(q8,{scope:t.__scopeMenu,checked:n,children:f.jsx(a_,{role:"menuitemcheckbox","aria-checked":Rx(n)?"mixed":n,...i,ref:e,"data-state":rN(n),onSelect:ye(i.onSelect,()=>r==null?void 0:r(Rx(n)?!0:!n),{checkForDefaultPrevented:!1})})})});F8.displayName=Xfe;var B8="MenuRadioGroup",[Qfe,Jfe]=pu(B8,{value:void 0,onValueChange:()=>{}}),U8=_.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,o=fr(r);return f.jsx(Qfe,{scope:t.__scopeMenu,value:n,onValueChange:o,children:f.jsx(tN,{...i,ref:e})})});U8.displayName=B8;var z8="MenuRadioItem",W8=_.forwardRef((t,e)=>{const{value:n,...r}=t,i=Jfe(z8,t.__scopeMenu),o=n===i.value;return f.jsx(q8,{scope:t.__scopeMenu,checked:o,children:f.jsx(a_,{role:"menuitemradio","aria-checked":o,...r,ref:e,"data-state":rN(o),onSelect:ye(r.onSelect,()=>{var s;return(s=i.onValueChange)==null?void 0:s.call(i,n)},{checkForDefaultPrevented:!1})})})});W8.displayName=z8;var nN="MenuItemIndicator",[q8,Zfe]=pu(nN,{checked:!1}),G8=_.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,o=Zfe(nN,n);return f.jsx($s,{present:r||Rx(o.checked)||o.checked===!0,children:f.jsx(Ne.span,{...i,ref:e,"data-state":rN(o.checked)})})});G8.displayName=nN;var ehe="MenuSeparator",H8=_.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return f.jsx(Ne.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});H8.displayName=ehe;var the="MenuArrow",K8=_.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=s_(n);return f.jsx(T8,{...i,...r,ref:e})});K8.displayName=the;var nhe="MenuSub",[hqe,Y8]=pu(nhe),Pp="MenuSubTrigger",X8=_.forwardRef((t,e)=>{const n=mu(Pp,t.__scopeMenu),r=uy(Pp,t.__scopeMenu),i=Y8(Pp,t.__scopeMenu),o=Zk(Pp,t.__scopeMenu),s=_.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=o,c={__scopeMenu:t.__scopeMenu},u=_.useCallback(()=>{s.current&&window.clearTimeout(s.current),s.current=null},[]);return _.useEffect(()=>u,[u]),_.useEffect(()=>{const d=a.current;return()=>{window.clearTimeout(d),l(null)}},[a,l]),f.jsx(Qk,{asChild:!0,...c,children:f.jsx(V8,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":Z8(n.open),...t,ref:Lw(e,i.onTriggerChange),onClick:d=>{var h;(h=t.onClick)==null||h.call(t,d),!(t.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ye(t.onPointerMove,Hm(d=>{o.onItemEnter(d),!d.defaultPrevented&&!t.disabled&&!n.open&&!s.current&&(o.onPointerGraceIntentChange(null),s.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:ye(t.onPointerLeave,Hm(d=>{var p,v;u();const h=(p=n.content)==null?void 0:p.getBoundingClientRect();if(h){const m=(v=n.content)==null?void 0:v.dataset.side,y=m==="right",b=y?-5:5,x=h[y?"left":"right"],w=h[y?"right":"left"];o.onPointerGraceIntentChange({area:[{x:d.clientX+b,y:d.clientY},{x,y:h.top},{x:w,y:h.top},{x:w,y:h.bottom},{x,y:h.bottom}],side:m}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(d),d.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:ye(t.onKeyDown,d=>{var p;const h=o.searchRef.current!=="";t.disabled||h&&d.key===" "||Mfe[r.dir].includes(d.key)&&(n.onOpenChange(!0),(p=n.content)==null||p.focus(),d.preventDefault())})})})});X8.displayName=Pp;var Q8="MenuSubContent",J8=_.forwardRef((t,e)=>{const n=D8(Si,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,o=mu(Si,t.__scopeMenu),s=uy(Si,t.__scopeMenu),a=Y8(Q8,t.__scopeMenu),l=_.useRef(null),c=Qe(e,l);return f.jsx(Gm.Provider,{scope:t.__scopeMenu,children:f.jsx($s,{present:r||o.open,children:f.jsx(Gm.Slot,{scope:t.__scopeMenu,children:f.jsx(eN,{id:a.contentId,"aria-labelledby":a.triggerId,...i,ref:c,align:"start",side:s.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var d;s.isUsingKeyboardRef.current&&((d=l.current)==null||d.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:ye(t.onFocusOutside,u=>{u.target!==a.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:ye(t.onEscapeKeyDown,u=>{s.onClose(),u.preventDefault()}),onKeyDown:ye(t.onKeyDown,u=>{var p;const d=u.currentTarget.contains(u.target),h=$fe[s.dir].includes(u.key);d&&h&&(o.onOpenChange(!1),(p=a.trigger)==null||p.focus(),u.preventDefault())})})})})})});J8.displayName=Q8;function Z8(t){return t?"open":"closed"}function Rx(t){return t==="indeterminate"}function rN(t){return Rx(t)?"indeterminate":t?"checked":"unchecked"}function rhe(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function ihe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function ohe(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let s=ihe(t,Math.max(o,0));i.length===1&&(s=s.filter(c=>c!==n));const l=s.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function she(t,e){const{x:n,y:r}=t;let i=!1;for(let o=0,s=e.length-1;o<e.length;s=o++){const a=e[o],l=e[s],c=a.x,u=a.y,d=l.x,h=l.y;u>r!=h>r&&n<(d-c)*(r-u)/(h-u)+c&&(i=!i)}return i}function ahe(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return she(n,e)}function Hm(t){return e=>e.pointerType==="mouse"?t(e):void 0}var lhe=R8,che=Qk,uhe=M8,dhe=$8,fhe=tN,hhe=L8,phe=a_,mhe=F8,ghe=U8,yhe=W8,vhe=G8,xhe=H8,bhe=K8,whe=X8,_he=J8,l_="DropdownMenu",[She,pqe]=so(l_,[O8]),gr=O8(),[The,eW]=She(l_),tW=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:o,onOpenChange:s,modal:a=!0}=t,l=gr(e),c=_.useRef(null),[u,d]=Rc({prop:i,defaultProp:o??!1,onChange:s,caller:l_});return f.jsx(The,{scope:e,triggerId:ms(),triggerRef:c,contentId:ms(),open:u,onOpenChange:d,onOpenToggle:_.useCallback(()=>d(h=>!h),[d]),modal:a,children:f.jsx(lhe,{...l,open:u,onOpenChange:d,dir:r,modal:a,children:n})})};tW.displayName=l_;var nW="DropdownMenuTrigger",rW=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,o=eW(nW,n),s=gr(n);return f.jsx(che,{asChild:!0,...s,children:f.jsx(Ne.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Lw(e,o.triggerRef),onPointerDown:ye(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(o.onOpenToggle(),o.open||a.preventDefault())}),onKeyDown:ye(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&o.onOpenToggle(),a.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});rW.displayName=nW;var Ehe="DropdownMenuPortal",iW=t=>{const{__scopeDropdownMenu:e,...n}=t,r=gr(e);return f.jsx(uhe,{...r,...n})};iW.displayName=Ehe;var oW="DropdownMenuContent",sW=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=eW(oW,n),o=gr(n),s=_.useRef(!1);return f.jsx(dhe,{id:i.contentId,"aria-labelledby":i.triggerId,...o,...r,ref:e,onCloseAutoFocus:ye(t.onCloseAutoFocus,a=>{var l;s.current||(l=i.triggerRef.current)==null||l.focus(),s.current=!1,a.preventDefault()}),onInteractOutside:ye(t.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;(!i.modal||u)&&(s.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});sW.displayName=oW;var Ahe="DropdownMenuGroup",Phe=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=gr(n);return f.jsx(fhe,{...i,...r,ref:e})});Phe.displayName=Ahe;var Ihe="DropdownMenuLabel",aW=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=gr(n);return f.jsx(hhe,{...i,...r,ref:e})});aW.displayName=Ihe;var Che="DropdownMenuItem",lW=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=gr(n);return f.jsx(phe,{...i,...r,ref:e})});lW.displayName=Che;var khe="DropdownMenuCheckboxItem",cW=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=gr(n);return f.jsx(mhe,{...i,...r,ref:e})});cW.displayName=khe;var Nhe="DropdownMenuRadioGroup",Ohe=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=gr(n);return f.jsx(ghe,{...i,...r,ref:e})});Ohe.displayName=Nhe;var jhe="DropdownMenuRadioItem",uW=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=gr(n);return f.jsx(yhe,{...i,...r,ref:e})});uW.displayName=jhe;var Rhe="DropdownMenuItemIndicator",dW=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=gr(n);return f.jsx(vhe,{...i,...r,ref:e})});dW.displayName=Rhe;var Dhe="DropdownMenuSeparator",fW=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=gr(n);return f.jsx(xhe,{...i,...r,ref:e})});fW.displayName=Dhe;var Mhe="DropdownMenuArrow",$he=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=gr(n);return f.jsx(bhe,{...i,...r,ref:e})});$he.displayName=Mhe;var Lhe="DropdownMenuSubTrigger",hW=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=gr(n);return f.jsx(whe,{...i,...r,ref:e})});hW.displayName=Lhe;var Vhe="DropdownMenuSubContent",pW=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=gr(n);return f.jsx(_he,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});pW.displayName=Vhe;var Fhe=tW,Bhe=rW,Uhe=iW,mW=sW,gW=aW,yW=lW,vW=cW,xW=uW,bW=dW,wW=fW,_W=hW,SW=pW;const TW=Fhe,EW=Bhe,zhe=_.forwardRef(({className:t,inset:e,children:n,...r},i)=>f.jsxs(_W,{ref:i,className:_e("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,f.jsx(ak,{className:"ml-auto h-4 w-4"})]}));zhe.displayName=_W.displayName;const Whe=_.forwardRef(({className:t,...e},n)=>f.jsx(SW,{ref:n,className:_e("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));Whe.displayName=SW.displayName;const iN=_.forwardRef(({className:t,sideOffset:e=4,...n},r)=>f.jsx(Uhe,{children:f.jsx(mW,{ref:r,sideOffset:e,className:_e("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));iN.displayName=mW.displayName;const ns=_.forwardRef(({className:t,inset:e,...n},r)=>f.jsx(yW,{ref:r,className:_e("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));ns.displayName=yW.displayName;const qhe=_.forwardRef(({className:t,children:e,checked:n,...r},i)=>f.jsxs(vW,{ref:i,className:_e("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(bW,{children:f.jsx(ok,{className:"h-4 w-4"})})}),e]}));qhe.displayName=vW.displayName;const Ghe=_.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(xW,{ref:r,className:_e("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(bW,{children:f.jsx(lk,{className:"h-2 w-2 fill-current"})})}),e]}));Ghe.displayName=xW.displayName;const AW=_.forwardRef(({className:t,inset:e,...n},r)=>f.jsx(gW,{ref:r,className:_e("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));AW.displayName=gW.displayName;const Dx=_.forwardRef(({className:t,...e},n)=>f.jsx(wW,{ref:n,className:_e("-mx-1 my-1 h-px bg-muted",t),...e}));Dx.displayName=wW.displayName;function Hhe(){return JU.useSyncExternalStore(Khe,()=>!0,()=>!1)}function Khe(){return()=>{}}var oN="Avatar",[Yhe,mqe]=so(oN),[Xhe,PW]=Yhe(oN),IW=_.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,o]=_.useState("idle");return f.jsx(Xhe,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:o,children:f.jsx(Ne.span,{...r,ref:e})})});IW.displayName=oN;var CW="AvatarImage",kW=_.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...o}=t,s=PW(CW,n),a=Qhe(r,o),l=fr(c=>{i(c),s.onImageLoadingStatusChange(c)});return sn(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?f.jsx(Ne.img,{...o,ref:e,src:r}):null});kW.displayName=CW;var NW="AvatarFallback",OW=_.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,o=PW(NW,n),[s,a]=_.useState(r===void 0);return _.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),s&&o.imageLoadingStatus!=="loaded"?f.jsx(Ne.span,{...i,ref:e}):null});OW.displayName=NW;function FM(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Qhe(t,{referrerPolicy:e,crossOrigin:n}){const r=Hhe(),i=_.useRef(null),o=(()=>r?(i.current||(i.current=new window.Image),i.current):null)(),[s,a]=_.useState(()=>FM(o,t));return sn(()=>{a(FM(o,t))},[o,t]),sn(()=>{const l=d=>()=>{a(d)};if(!o)return;const c=l("loaded"),u=l("error");return o.addEventListener("load",c),o.addEventListener("error",u),e&&(o.referrerPolicy=e),typeof n=="string"&&(o.crossOrigin=n),()=>{o.removeEventListener("load",c),o.removeEventListener("error",u)}},[o,n,e]),s}var jW=IW,RW=kW,DW=OW;const sN=_.forwardRef(({className:t,...e},n)=>f.jsx(jW,{ref:n,className:_e("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));sN.displayName=jW.displayName;const MW=_.forwardRef(({className:t,...e},n)=>f.jsx(RW,{ref:n,className:_e("aspect-square h-full w-full",t),...e}));MW.displayName=RW.displayName;const aN=_.forwardRef(({className:t,...e},n)=>f.jsx(DW,{ref:n,className:_e("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));aN.displayName=DW.displayName;const ut=_.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:_e("rounded-xl border bg-card text-card-foreground shadow-sm hover:shadow-md transition-all duration-200 backdrop-blur-sm",t),...e}));ut.displayName="Card";const Qn=_.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:_e("flex flex-col space-y-1.5 p-6",t),...e}));Qn.displayName="CardHeader";const Jn=_.forwardRef(({className:t,...e},n)=>f.jsx("h3",{ref:n,className:_e("text-2xl font-semibold leading-none tracking-tight",t),...e}));Jn.displayName="CardTitle";const Jhe=_.forwardRef(({className:t,...e},n)=>f.jsx("p",{ref:n,className:_e("text-sm text-muted-foreground",t),...e}));Jhe.displayName="CardDescription";const pt=_.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:_e("p-6 pt-0",t),...e}));pt.displayName="CardContent";const Zhe=_.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:_e("flex items-center p-6 pt-0",t),...e}));Zhe.displayName="CardFooter";function epe({open:t,onOpenChange:e}){const[n,r]=_.useState(!1),[i,o]=_.useState({name:"Alex Student",email:"alex.student@university.edu",bio:"Computer Science student passionate about productivity and technology.",location:"University Campus",joinDate:"September 2024",avatar:""}),[s,a]=_.useState(i),l=()=>{o(s),r(!1)},c=()=>{a(i),r(!1)},{tasks:u,projects:d}=Bt(),h=u.filter(m=>m.status==="completed").length,p=d.filter(m=>!m.isArchived).length,v=[{label:"Tasks Completed",value:h.toString(),color:"text-green-600"},{label:"Projects Active",value:p.toString(),color:"text-blue-600"},{label:"Total Tasks",value:u.length.toString(),color:"text-purple-600"},{label:"This Week",value:u.filter(m=>{const y=new Date;return y.setDate(y.getDate()-7),m.createdAt>y}).length.toString(),color:"text-orange-600"}];return f.jsx(ni,{open:t,onOpenChange:e,children:f.jsxs(Nr,{className:"sm:max-w-[500px] max-h-[600px] overflow-y-auto",children:[f.jsx(ki,{children:f.jsxs(Ni,{className:"flex items-center space-x-2",children:[f.jsx(fk,{className:"h-5 w-5"}),f.jsx("span",{children:"Profile"})]})}),f.jsxs("div",{className:"space-y-6",children:[f.jsx(ut,{children:f.jsxs(pt,{className:"pt-6",children:[f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsxs("div",{className:"relative",children:[f.jsxs(sN,{className:"h-20 w-20",children:[f.jsx(MW,{src:i.avatar}),f.jsx(aN,{className:"text-lg",children:i.name.split(" ").map(m=>m[0]).join("")})]}),n&&f.jsx(ne,{size:"icon",variant:"outline",className:"absolute -bottom-2 -right-2 h-8 w-8 rounded-full",children:f.jsx(Ure,{className:"h-4 w-4"})})]}),f.jsx("div",{className:"flex-1",children:n?f.jsxs("div",{className:"space-y-2",children:[f.jsx(Mt,{value:s.name,onChange:m=>a({...s,name:m.target.value}),className:"font-semibold"}),f.jsx(Mt,{value:s.email,onChange:m=>a({...s,email:m.target.value}),type:"email"})]}):f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-semibold",children:i.name}),f.jsxs("p",{className:"text-muted-foreground flex items-center mt-1",children:[f.jsx(uk,{className:"h-4 w-4 mr-1"}),i.email]})]})}),f.jsx(ne,{variant:n?"ghost":"outline",size:"sm",onClick:()=>n?c():r(!0),children:n?f.jsx(Ss,{className:"h-4 w-4"}):f.jsx(OU,{className:"h-4 w-4"})})]}),f.jsxs("div",{className:"mt-4",children:[f.jsx($e,{className:"text-sm font-medium",children:"Bio"}),n?f.jsx(Ls,{value:s.bio,onChange:m=>a({...s,bio:m.target.value}),className:"mt-1",rows:3}):f.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:i.bio})]}),f.jsxs("div",{className:"flex items-center space-x-4 mt-4 text-sm text-muted-foreground",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx(Jre,{className:"h-4 w-4 mr-1"}),n?f.jsx(Mt,{value:s.location,onChange:m=>a({...s,location:m.target.value}),className:"h-6 text-sm"}):f.jsx("span",{children:i.location})]}),f.jsxs("div",{className:"flex items-center",children:[f.jsx(el,{className:"h-4 w-4 mr-1"}),f.jsxs("span",{children:["Joined ",i.joinDate]})]})]}),n&&f.jsxs("div",{className:"flex space-x-2 mt-4",children:[f.jsxs(ne,{onClick:l,size:"sm",className:"flex-1",children:[f.jsx(yx,{className:"h-4 w-4 mr-1"}),"Save Changes"]}),f.jsx(ne,{onClick:c,variant:"outline",size:"sm",className:"flex-1",children:"Cancel"})]})]})}),f.jsxs(ut,{children:[f.jsx(Qn,{children:f.jsx(Jn,{className:"text-lg",children:"Productivity Stats"})}),f.jsx(pt,{children:f.jsx("div",{className:"grid grid-cols-2 gap-4",children:v.map((m,y)=>f.jsxs(Ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:y*.1},className:"text-center p-3 bg-muted/50 rounded-lg",children:[f.jsx("div",{className:`text-2xl font-bold ${m.color}`,children:m.value}),f.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:m.label})]},m.label))})})]}),f.jsxs(ut,{children:[f.jsx(Qn,{children:f.jsx(Jn,{className:"text-lg",children:"Preferences"})}),f.jsxs(pt,{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm",children:"Email Notifications"}),f.jsx(ne,{variant:"outline",size:"sm",children:"Configure"})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm",children:"Default Task Priority"}),f.jsx(ne,{variant:"outline",size:"sm",children:"Medium"})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm",children:"Work Hours"}),f.jsx(ne,{variant:"outline",size:"sm",children:"9 AM - 5 PM"})]})]})]})]})]})})}const tpe=Bw("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function nn({className:t,variant:e,...n}){return f.jsx("div",{className:_e(tpe({variant:e}),t),...n})}function npe({open:t,onOpenChange:e}){const[n,r]=_.useState([{id:"1",type:"success",title:"Task Completed",message:'You completed "Review lecture notes" - great job!',timestamp:new Date(Date.now()-3e5),read:!1},{id:"2",type:"reminder",title:"Flow Session Reminder",message:"Time to start your scheduled study session",timestamp:new Date(Date.now()-9e5),read:!1},{id:"3",type:"warning",title:"Assignment Due Soon",message:"Your essay assignment is due in 2 days",timestamp:new Date(Date.now()-72e5),read:!0},{id:"4",type:"info",title:"AI Generated Tasks",message:"Added 7 new study tasks to your project",timestamp:new Date(Date.now()-144e5),read:!0}]),i=n.filter(u=>!u.read).length,o=u=>{switch(u){case"success":return f.jsx(Yi,{className:"h-4 w-4 text-green-600"});case"warning":return f.jsx(SU,{className:"h-4 w-4 text-orange-600"});case"reminder":return f.jsx(Hr,{className:"h-4 w-4 text-blue-600"});default:return f.jsx(Ts,{className:"h-4 w-4 text-purple-600"})}},s=u=>{const h=Math.floor((new Date().getTime()-u.getTime())/(1e3*60));if(h<1)return"Just now";if(h<60)return`${h}m ago`;const p=Math.floor(h/60);return p<24?`${p}h ago`:`${Math.floor(p/24)}d ago`},a=u=>{r(d=>d.map(h=>h.id===u?{...h,read:!0}:h))},l=()=>{r(u=>u.map(d=>({...d,read:!0})))},c=u=>{r(d=>d.filter(h=>h.id!==u))};return f.jsx(ni,{open:t,onOpenChange:e,children:f.jsxs(Nr,{className:"sm:max-w-[400px] max-h-[500px]",children:[f.jsx(ki,{children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs(Ni,{className:"flex items-center space-x-2",children:[f.jsx(px,{className:"h-5 w-5"}),f.jsx("span",{children:"Notifications"}),i>0&&f.jsx(nn,{variant:"destructive",className:"text-xs",children:i})]}),i>0&&f.jsx(ne,{variant:"ghost",size:"sm",onClick:l,className:"text-xs",children:"Mark all read"})]})}),f.jsx("div",{className:"space-y-2 max-h-80 overflow-y-auto",children:n.length===0?f.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[f.jsx(px,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),f.jsx("p",{children:"No notifications"})]}):n.map((u,d)=>f.jsx(Ve.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:d*.05},children:f.jsx(ut,{className:`cursor-pointer transition-all duration-200 hover:shadow-md ${u.read?"":"bg-blue-50 dark:bg-blue-950/20 border-blue-200"}`,children:f.jsx(pt,{className:"p-3",children:f.jsxs("div",{className:"flex items-start space-x-3",children:[f.jsx("div",{className:"mt-0.5",children:o(u.type)}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h4",{className:`text-sm font-medium ${u.read?"text-muted-foreground":"text-foreground"}`,children:u.title}),f.jsxs("div",{className:"flex items-center space-x-1",children:[!u.read&&f.jsx(ne,{variant:"ghost",size:"icon",onClick:()=>a(u.id),className:"h-6 w-6",children:f.jsx(ok,{className:"h-3 w-3"})}),f.jsx(ne,{variant:"ghost",size:"icon",onClick:()=>c(u.id),className:"h-6 w-6",children:f.jsx(Ss,{className:"h-3 w-3"})})]})]}),f.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:u.message}),f.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:s(u.timestamp)})]})]})})})},u.id))})]})})}function $W(t){const e=_.useRef({value:t,previous:t});return _.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var c_="Switch",[rpe,gqe]=so(c_),[ipe,ope]=rpe(c_),LW=_.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:o,required:s,disabled:a,value:l="on",onCheckedChange:c,form:u,...d}=t,[h,p]=_.useState(null),v=Qe(e,w=>p(w)),m=_.useRef(!1),y=h?u||!!h.closest("form"):!0,[b,x]=Rc({prop:i,defaultProp:o??!1,onChange:c,caller:c_});return f.jsxs(ipe,{scope:n,checked:b,disabled:a,children:[f.jsx(Ne.button,{type:"button",role:"switch","aria-checked":b,"aria-required":s,"data-state":UW(b),"data-disabled":a?"":void 0,disabled:a,value:l,...d,ref:v,onClick:ye(t.onClick,w=>{x(E=>!E),y&&(m.current=w.isPropagationStopped(),m.current||w.stopPropagation())})}),y&&f.jsx(BW,{control:h,bubbles:!m.current,name:r,value:l,checked:b,required:s,disabled:a,form:u,style:{transform:"translateX(-100%)"}})]})});LW.displayName=c_;var VW="SwitchThumb",FW=_.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=ope(VW,n);return f.jsx(Ne.span,{"data-state":UW(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});FW.displayName=VW;var spe="SwitchBubbleInput",BW=_.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...i},o)=>{const s=_.useRef(null),a=Qe(s,o),l=$W(n),c=d8(e);return _.useEffect(()=>{const u=s.current;if(!u)return;const d=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(d,"checked").set;if(l!==n&&p){const v=new Event("click",{bubbles:r});p.call(u,n),u.dispatchEvent(v)}},[l,n,r]),f.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:a,style:{...i.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});BW.displayName=spe;function UW(t){return t?"checked":"unchecked"}var zW=LW,ape=FW;const Ip=_.forwardRef(({className:t,...e},n)=>f.jsx(zW,{className:_e("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:f.jsx(ape,{className:_e("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Ip.displayName=zW.displayName;function BM(t,[e,n]){return Math.min(n,Math.max(e,t))}var lpe=[" ","Enter","ArrowUp","ArrowDown"],cpe=[" ","Enter"],$c="Select",[u_,d_,upe]=Vw($c),[sh,yqe]=so($c,[upe,o_]),f_=o_(),[dpe,vl]=sh($c),[fpe,hpe]=sh($c),WW=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:o,value:s,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:d,disabled:h,required:p,form:v}=t,m=f_(e),[y,b]=_.useState(null),[x,w]=_.useState(null),[E,S]=_.useState(!1),P=Uk(c),[T,A]=Rc({prop:r,defaultProp:i??!1,onChange:o,caller:$c}),[k,O]=Rc({prop:s,defaultProp:a,onChange:l,caller:$c}),N=_.useRef(null),C=y?v||!!y.closest("form"):!0,[j,$]=_.useState(new Set),B=Array.from(j).map(U=>U.props.value).join(";");return f.jsx(w8,{...m,children:f.jsxs(dpe,{required:p,scope:e,trigger:y,onTriggerChange:b,valueNode:x,onValueNodeChange:w,valueNodeHasChildren:E,onValueNodeHasChildrenChange:S,contentId:ms(),value:k,onValueChange:O,open:T,onOpenChange:A,dir:P,triggerPointerDownPosRef:N,disabled:h,children:[f.jsx(u_.Provider,{scope:e,children:f.jsx(fpe,{scope:t.__scopeSelect,onNativeOptionAdd:_.useCallback(U=>{$(z=>new Set(z).add(U))},[]),onNativeOptionRemove:_.useCallback(U=>{$(z=>{const V=new Set(z);return V.delete(U),V})},[]),children:n})}),C?f.jsxs(p7,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:d,value:k,onChange:U=>O(U.target.value),disabled:h,form:v,children:[k===void 0?f.jsx("option",{value:""}):null,Array.from(j)]},B):null]})})};WW.displayName=$c;var qW="SelectTrigger",GW=_.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,o=f_(n),s=vl(qW,n),a=s.disabled||r,l=Qe(e,s.onTriggerChange),c=d_(n),u=_.useRef("touch"),[d,h,p]=g7(m=>{const y=c().filter(w=>!w.disabled),b=y.find(w=>w.value===s.value),x=y7(y,m,b);x!==void 0&&s.onValueChange(x.value)}),v=m=>{a||(s.onOpenChange(!0),p()),m&&(s.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return f.jsx(_8,{asChild:!0,...o,children:f.jsx(Ne.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":m7(s.value)?"":void 0,...i,ref:l,onClick:ye(i.onClick,m=>{m.currentTarget.focus(),u.current!=="mouse"&&v(m)}),onPointerDown:ye(i.onPointerDown,m=>{u.current=m.pointerType;const y=m.target;y.hasPointerCapture(m.pointerId)&&y.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(v(m),m.preventDefault())}),onKeyDown:ye(i.onKeyDown,m=>{const y=d.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(y&&m.key===" ")&&lpe.includes(m.key)&&(v(),m.preventDefault())})})})});GW.displayName=qW;var HW="SelectValue",KW=_.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:o,placeholder:s="",...a}=t,l=vl(HW,n),{onValueNodeHasChildrenChange:c}=l,u=o!==void 0,d=Qe(e,l.onValueNodeChange);return sn(()=>{c(u)},[c,u]),f.jsx(Ne.span,{...a,ref:d,style:{pointerEvents:"none"},children:m7(l.value)?f.jsx(f.Fragment,{children:s}):o})});KW.displayName=HW;var ppe="SelectIcon",YW=_.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return f.jsx(Ne.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});YW.displayName=ppe;var mpe="SelectPortal",XW=t=>f.jsx(ey,{asChild:!0,...t});XW.displayName=mpe;var Lc="SelectContent",QW=_.forwardRef((t,e)=>{const n=vl(Lc,t.__scopeSelect),[r,i]=_.useState();if(sn(()=>{i(new DocumentFragment)},[]),!n.open){const o=r;return o?bi.createPortal(f.jsx(JW,{scope:t.__scopeSelect,children:f.jsx(u_.Slot,{scope:t.__scopeSelect,children:f.jsx("div",{children:t.children})})}),o):null}return f.jsx(ZW,{...t,ref:e})});QW.displayName=Lc;var $i=10,[JW,xl]=sh(Lc),gpe="SelectContentImpl",ype=jc("SelectContent.RemoveScroll"),ZW=_.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:s,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:h,collisionPadding:p,sticky:v,hideWhenDetached:m,avoidCollisions:y,...b}=t,x=vl(Lc,n),[w,E]=_.useState(null),[S,P]=_.useState(null),T=Qe(e,oe=>E(oe)),[A,k]=_.useState(null),[O,N]=_.useState(null),C=d_(n),[j,$]=_.useState(!1),B=_.useRef(!1);_.useEffect(()=>{if(w)return Lk(w)},[w]),Mk();const U=_.useCallback(oe=>{const[ce,...Q]=C().map(H=>H.ref.current),[Z]=Q.slice(-1),se=document.activeElement;for(const H of oe)if(H===se||(H==null||H.scrollIntoView({block:"nearest"}),H===ce&&S&&(S.scrollTop=0),H===Z&&S&&(S.scrollTop=S.scrollHeight),H==null||H.focus(),document.activeElement!==se))return},[C,S]),z=_.useCallback(()=>U([A,w]),[U,A,w]);_.useEffect(()=>{j&&z()},[j,z]);const{onOpenChange:V,triggerPointerDownPosRef:L}=x;_.useEffect(()=>{if(w){let oe={x:0,y:0};const ce=Z=>{var se,H;oe={x:Math.abs(Math.round(Z.pageX)-(((se=L.current)==null?void 0:se.x)??0)),y:Math.abs(Math.round(Z.pageY)-(((H=L.current)==null?void 0:H.y)??0))}},Q=Z=>{oe.x<=10&&oe.y<=10?Z.preventDefault():w.contains(Z.target)||V(!1),document.removeEventListener("pointermove",ce),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",ce),document.addEventListener("pointerup",Q,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ce),document.removeEventListener("pointerup",Q,{capture:!0})}}},[w,V,L]),_.useEffect(()=>{const oe=()=>V(!1);return window.addEventListener("blur",oe),window.addEventListener("resize",oe),()=>{window.removeEventListener("blur",oe),window.removeEventListener("resize",oe)}},[V]);const[Y,K]=g7(oe=>{const ce=C().filter(se=>!se.disabled),Q=ce.find(se=>se.ref.current===document.activeElement),Z=y7(ce,oe,Q);Z&&setTimeout(()=>Z.ref.current.focus())}),F=_.useCallback((oe,ce,Q)=>{const Z=!B.current&&!Q;(x.value!==void 0&&x.value===ce||Z)&&(k(oe),Z&&(B.current=!0))},[x.value]),te=_.useCallback(()=>w==null?void 0:w.focus(),[w]),ie=_.useCallback((oe,ce,Q)=>{const Z=!B.current&&!Q;(x.value!==void 0&&x.value===ce||Z)&&N(oe)},[x.value]),pe=r==="popper"?DA:e7,ue=pe===DA?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:h,collisionPadding:p,sticky:v,hideWhenDetached:m,avoidCollisions:y}:{};return f.jsx(JW,{scope:n,content:w,viewport:S,onViewportChange:P,itemRefCallback:F,selectedItem:A,onItemLeave:te,itemTextRefCallback:ie,focusSelectedItem:z,selectedItemText:O,position:r,isPositioned:j,searchRef:Y,children:f.jsx($k,{as:ype,allowPinchZoom:!0,children:f.jsx(Jw,{asChild:!0,trapped:x.open,onMountAutoFocus:oe=>{oe.preventDefault()},onUnmountAutoFocus:ye(i,oe=>{var ce;(ce=x.trigger)==null||ce.focus({preventScroll:!0}),oe.preventDefault()}),children:f.jsx(Zg,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:oe=>oe.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:f.jsx(pe,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:oe=>oe.preventDefault(),...b,...ue,onPlaced:()=>$(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:ye(b.onKeyDown,oe=>{const ce=oe.ctrlKey||oe.altKey||oe.metaKey;if(oe.key==="Tab"&&oe.preventDefault(),!ce&&oe.key.length===1&&K(oe.key),["ArrowUp","ArrowDown","Home","End"].includes(oe.key)){let Z=C().filter(se=>!se.disabled).map(se=>se.ref.current);if(["ArrowUp","End"].includes(oe.key)&&(Z=Z.slice().reverse()),["ArrowUp","ArrowDown"].includes(oe.key)){const se=oe.target,H=Z.indexOf(se);Z=Z.slice(H+1)}setTimeout(()=>U(Z)),oe.preventDefault()}})})})})})})});ZW.displayName=gpe;var vpe="SelectItemAlignedPosition",e7=_.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,o=vl(Lc,n),s=xl(Lc,n),[a,l]=_.useState(null),[c,u]=_.useState(null),d=Qe(e,T=>u(T)),h=d_(n),p=_.useRef(!1),v=_.useRef(!0),{viewport:m,selectedItem:y,selectedItemText:b,focusSelectedItem:x}=s,w=_.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&c&&m&&y&&b){const T=o.trigger.getBoundingClientRect(),A=c.getBoundingClientRect(),k=o.valueNode.getBoundingClientRect(),O=b.getBoundingClientRect();if(o.dir!=="rtl"){const se=O.left-A.left,H=k.left-se,Se=T.left-H,be=T.width+Se,qe=Math.max(be,A.width),Ge=window.innerWidth-$i,ft=BM(H,[$i,Math.max($i,Ge-qe)]);a.style.minWidth=be+"px",a.style.left=ft+"px"}else{const se=A.right-O.right,H=window.innerWidth-k.right-se,Se=window.innerWidth-T.right-H,be=T.width+Se,qe=Math.max(be,A.width),Ge=window.innerWidth-$i,ft=BM(H,[$i,Math.max($i,Ge-qe)]);a.style.minWidth=be+"px",a.style.right=ft+"px"}const N=h(),C=window.innerHeight-$i*2,j=m.scrollHeight,$=window.getComputedStyle(c),B=parseInt($.borderTopWidth,10),U=parseInt($.paddingTop,10),z=parseInt($.borderBottomWidth,10),V=parseInt($.paddingBottom,10),L=B+U+j+V+z,Y=Math.min(y.offsetHeight*5,L),K=window.getComputedStyle(m),F=parseInt(K.paddingTop,10),te=parseInt(K.paddingBottom,10),ie=T.top+T.height/2-$i,pe=C-ie,ue=y.offsetHeight/2,oe=y.offsetTop+ue,ce=B+U+oe,Q=L-ce;if(ce<=ie){const se=N.length>0&&y===N[N.length-1].ref.current;a.style.bottom="0px";const H=c.clientHeight-m.offsetTop-m.offsetHeight,Se=Math.max(pe,ue+(se?te:0)+H+z),be=ce+Se;a.style.height=be+"px"}else{const se=N.length>0&&y===N[0].ref.current;a.style.top="0px";const Se=Math.max(ie,B+m.offsetTop+(se?F:0)+ue)+Q;a.style.height=Se+"px",m.scrollTop=ce-ie+m.offsetTop}a.style.margin=`${$i}px 0`,a.style.minHeight=Y+"px",a.style.maxHeight=C+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[h,o.trigger,o.valueNode,a,c,m,y,b,o.dir,r]);sn(()=>w(),[w]);const[E,S]=_.useState();sn(()=>{c&&S(window.getComputedStyle(c).zIndex)},[c]);const P=_.useCallback(T=>{T&&v.current===!0&&(w(),x==null||x(),v.current=!1)},[w,x]);return f.jsx(bpe,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:p,onScrollButtonChange:P,children:f.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:f.jsx(Ne.div,{...i,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});e7.displayName=vpe;var xpe="SelectPopperPosition",DA=_.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=$i,...o}=t,s=f_(n);return f.jsx(S8,{...s,...o,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});DA.displayName=xpe;var[bpe,lN]=sh(Lc,{}),MA="SelectViewport",t7=_.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,o=xl(MA,n),s=lN(MA,n),a=Qe(e,o.onViewportChange),l=_.useRef(0);return f.jsxs(f.Fragment,{children:[f.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),f.jsx(u_.Slot,{scope:n,children:f.jsx(Ne.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:ye(i.onScroll,c=>{const u=c.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:h}=s;if(h!=null&&h.current&&d){const p=Math.abs(l.current-u.scrollTop);if(p>0){const v=window.innerHeight-$i*2,m=parseFloat(d.style.minHeight),y=parseFloat(d.style.height),b=Math.max(m,y);if(b<v){const x=b+p,w=Math.min(v,x),E=x-w;d.style.height=w+"px",d.style.bottom==="0px"&&(u.scrollTop=E>0?E:0,d.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});t7.displayName=MA;var n7="SelectGroup",[wpe,_pe]=sh(n7),Spe=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=ms();return f.jsx(wpe,{scope:n,id:i,children:f.jsx(Ne.div,{role:"group","aria-labelledby":i,...r,ref:e})})});Spe.displayName=n7;var r7="SelectLabel",i7=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=_pe(r7,n);return f.jsx(Ne.div,{id:i.id,...r,ref:e})});i7.displayName=r7;var Mx="SelectItem",[Tpe,o7]=sh(Mx),s7=_.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:o,...s}=t,a=vl(Mx,n),l=xl(Mx,n),c=a.value===r,[u,d]=_.useState(o??""),[h,p]=_.useState(!1),v=Qe(e,x=>{var w;return(w=l.itemRefCallback)==null?void 0:w.call(l,x,r,i)}),m=ms(),y=_.useRef("touch"),b=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return f.jsx(Tpe,{scope:n,value:r,disabled:i,textId:m,isSelected:c,onItemTextChange:_.useCallback(x=>{d(w=>w||((x==null?void 0:x.textContent)??"").trim())},[]),children:f.jsx(u_.ItemSlot,{scope:n,value:r,disabled:i,textValue:u,children:f.jsx(Ne.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...s,ref:v,onFocus:ye(s.onFocus,()=>p(!0)),onBlur:ye(s.onBlur,()=>p(!1)),onClick:ye(s.onClick,()=>{y.current!=="mouse"&&b()}),onPointerUp:ye(s.onPointerUp,()=>{y.current==="mouse"&&b()}),onPointerDown:ye(s.onPointerDown,x=>{y.current=x.pointerType}),onPointerMove:ye(s.onPointerMove,x=>{var w;y.current=x.pointerType,i?(w=l.onItemLeave)==null||w.call(l):y.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ye(s.onPointerLeave,x=>{var w;x.currentTarget===document.activeElement&&((w=l.onItemLeave)==null||w.call(l))}),onKeyDown:ye(s.onKeyDown,x=>{var E;((E=l.searchRef)==null?void 0:E.current)!==""&&x.key===" "||(cpe.includes(x.key)&&b(),x.key===" "&&x.preventDefault())})})})})});s7.displayName=Mx;var Cp="SelectItemText",a7=_.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...o}=t,s=vl(Cp,n),a=xl(Cp,n),l=o7(Cp,n),c=hpe(Cp,n),[u,d]=_.useState(null),h=Qe(e,b=>d(b),l.onItemTextChange,b=>{var x;return(x=a.itemTextRefCallback)==null?void 0:x.call(a,b,l.value,l.disabled)}),p=u==null?void 0:u.textContent,v=_.useMemo(()=>f.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:y}=c;return sn(()=>(m(v),()=>y(v)),[m,y,v]),f.jsxs(f.Fragment,{children:[f.jsx(Ne.span,{id:l.textId,...o,ref:h}),l.isSelected&&s.valueNode&&!s.valueNodeHasChildren?bi.createPortal(o.children,s.valueNode):null]})});a7.displayName=Cp;var l7="SelectItemIndicator",c7=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return o7(l7,n).isSelected?f.jsx(Ne.span,{"aria-hidden":!0,...r,ref:e}):null});c7.displayName=l7;var $A="SelectScrollUpButton",u7=_.forwardRef((t,e)=>{const n=xl($A,t.__scopeSelect),r=lN($A,t.__scopeSelect),[i,o]=_.useState(!1),s=Qe(e,r.onScrollButtonChange);return sn(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;o(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?f.jsx(f7,{...t,ref:s,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});u7.displayName=$A;var LA="SelectScrollDownButton",d7=_.forwardRef((t,e)=>{const n=xl(LA,t.__scopeSelect),r=lN(LA,t.__scopeSelect),[i,o]=_.useState(!1),s=Qe(e,r.onScrollButtonChange);return sn(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;o(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?f.jsx(f7,{...t,ref:s,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});d7.displayName=LA;var f7=_.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,o=xl("SelectScrollButton",n),s=_.useRef(null),a=d_(n),l=_.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return _.useEffect(()=>()=>l(),[l]),sn(()=>{var u;const c=a().find(d=>d.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[a]),f.jsx(Ne.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:ye(i.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(r,50))}),onPointerMove:ye(i.onPointerMove,()=>{var c;(c=o.onItemLeave)==null||c.call(o),s.current===null&&(s.current=window.setInterval(r,50))}),onPointerLeave:ye(i.onPointerLeave,()=>{l()})})}),Epe="SelectSeparator",h7=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return f.jsx(Ne.div,{"aria-hidden":!0,...r,ref:e})});h7.displayName=Epe;var VA="SelectArrow",Ape=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=f_(n),o=vl(VA,n),s=xl(VA,n);return o.open&&s.position==="popper"?f.jsx(T8,{...i,...r,ref:e}):null});Ape.displayName=VA;var Ppe="SelectBubbleInput",p7=_.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=_.useRef(null),o=Qe(r,i),s=$W(e);return _.useEffect(()=>{const a=i.current;if(!a)return;const l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(s!==e&&u){const d=new Event("change",{bubbles:!0});u.call(a,e),a.dispatchEvent(d)}},[s,e]),f.jsx(Ne.select,{...n,style:{...nU,...n.style},ref:o,defaultValue:e})});p7.displayName=Ppe;function m7(t){return t===""||t===void 0}function g7(t){const e=fr(t),n=_.useRef(""),r=_.useRef(0),i=_.useCallback(s=>{const a=n.current+s;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),o=_.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return _.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,o]}function y7(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let s=Ipe(t,Math.max(o,0));i.length===1&&(s=s.filter(c=>c!==n));const l=s.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function Ipe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Cpe=WW,v7=GW,kpe=KW,Npe=YW,Ope=XW,x7=QW,jpe=t7,b7=i7,w7=s7,Rpe=a7,Dpe=c7,_7=u7,S7=d7,T7=h7;const rf=Cpe,of=kpe,Vc=_.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(v7,{ref:r,className:_e("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,f.jsx(Npe,{asChild:!0,children:f.jsx(sk,{className:"h-4 w-4 opacity-50"})})]}));Vc.displayName=v7.displayName;const E7=_.forwardRef(({className:t,...e},n)=>f.jsx(_7,{ref:n,className:_e("flex cursor-default items-center justify-center py-1",t),...e,children:f.jsx(EU,{className:"h-4 w-4"})}));E7.displayName=_7.displayName;const A7=_.forwardRef(({className:t,...e},n)=>f.jsx(S7,{ref:n,className:_e("flex cursor-default items-center justify-center py-1",t),...e,children:f.jsx(sk,{className:"h-4 w-4"})}));A7.displayName=S7.displayName;const Fc=_.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>f.jsx(Ope,{children:f.jsxs(x7,{ref:i,className:_e("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[f.jsx(E7,{}),f.jsx(jpe,{className:_e("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),f.jsx(A7,{})]})}));Fc.displayName=x7.displayName;const Mpe=_.forwardRef(({className:t,...e},n)=>f.jsx(b7,{ref:n,className:_e("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));Mpe.displayName=b7.displayName;const kt=_.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(w7,{ref:r,className:_e("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(Dpe,{children:f.jsx(ok,{className:"h-4 w-4"})})}),f.jsx(Rpe,{children:e})]}));kt.displayName=w7.displayName;const $pe=_.forwardRef(({className:t,...e},n)=>f.jsx(T7,{ref:n,className:_e("-mx-1 my-1 h-px bg-muted",t),...e}));$pe.displayName=T7.displayName;var Lpe="Separator",UM="horizontal",Vpe=["horizontal","vertical"],P7=_.forwardRef((t,e)=>{const{decorative:n,orientation:r=UM,...i}=t,o=Fpe(r)?r:UM,a=n?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return f.jsx(Ne.div,{"data-orientation":o,...a,...i,ref:e})});P7.displayName=Lpe;function Fpe(t){return Vpe.includes(t)}var I7=P7;const C7=_.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},i)=>f.jsx(I7,{ref:i,decorative:n,orientation:e,className:_e("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));C7.displayName=I7.displayName;const Bpe={theme:"system",setTheme:()=>null},k7=_.createContext(Bpe);function zM({children:t,defaultTheme:e="system",storageKey:n="flowstate-ui-theme",...r}){const[i,o]=_.useState(()=>localStorage.getItem(n)||e);_.useEffect(()=>{const a=window.document.documentElement;if(a.classList.remove("light","dark"),i==="system"){const l=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";a.classList.add(l);return}a.classList.add(i)},[i]);const s={theme:i,setTheme:a=>{localStorage.setItem(n,a),o(a)}};return f.jsx(k7.Provider,{...r,value:s,children:t})}const N7=()=>{const t=_.useContext(k7);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t};function Upe({open:t,onOpenChange:e}){const{theme:n,setTheme:r}=N7(),[i,o]=_.useState(!0),[s,a]=_.useState(!0),[l,c]=_.useState(!1),[u,d]=_.useState(!0),h=[{id:"appearance",title:"Appearance",icon:eie,content:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx($e,{children:"Theme"}),f.jsxs(rf,{value:n,onValueChange:m=>r(m),children:[f.jsx(Vc,{children:f.jsx(of,{})}),f.jsxs(Fc,{children:[f.jsx(kt,{value:"light",children:f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(RU,{className:"h-4 w-4"}),f.jsx("span",{children:"Light"})]})}),f.jsx(kt,{value:"dark",children:f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(kU,{className:"h-4 w-4"}),f.jsx("span",{children:"Dark"})]})}),f.jsx(kt,{value:"system",children:f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(Zre,{className:"h-4 w-4"}),f.jsx("span",{children:"System"})]})})]})]})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"space-y-0.5",children:[f.jsx($e,{children:"Focus Mode"}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Minimize distractions with a cleaner interface"})]}),f.jsx(Ip,{checked:l,onCheckedChange:c})]})]})},{id:"notifications",title:"Notifications",icon:px,content:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"space-y-0.5",children:[f.jsx($e,{children:"Push Notifications"}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Get notified about task deadlines and flow sessions"})]}),f.jsx(Ip,{checked:i,onCheckedChange:o})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"space-y-0.5",children:[f.jsx($e,{children:"AI Suggestions"}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Receive intelligent recommendations for productivity"})]}),f.jsx(Ip,{checked:u,onCheckedChange:d})]})]})},{id:"productivity",title:"Productivity",icon:Ts,content:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx($e,{children:"Default Flow Session Duration"}),f.jsxs(rf,{defaultValue:"25",children:[f.jsx(Vc,{children:f.jsx(of,{})}),f.jsxs(Fc,{children:[f.jsx(kt,{value:"15",children:"15 minutes"}),f.jsx(kt,{value:"25",children:"25 minutes (Pomodoro)"}),f.jsx(kt,{value:"45",children:"45 minutes"}),f.jsx(kt,{value:"60",children:"1 hour"}),f.jsx(kt,{value:"90",children:"90 minutes"})]})]})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"space-y-0.5",children:[f.jsx($e,{children:"Auto-save"}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically save changes as you work"})]}),f.jsx(Ip,{checked:s,onCheckedChange:a})]})]})},{id:"data",title:"Data & Privacy",icon:Lm,content:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx($e,{children:"Data Export"}),f.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Export all your data in JSON format"}),f.jsxs(ne,{variant:"outline",className:"w-full",children:[f.jsx(Wre,{className:"h-4 w-4 mr-2"}),"Export All Data"]})]}),f.jsx(C7,{}),f.jsxs("div",{className:"space-y-2",children:[f.jsx($e,{className:"text-red-600",children:"Danger Zone"}),f.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Permanently delete all your data"}),f.jsx(ne,{variant:"destructive",className:"w-full",children:"Delete All Data"})]})]})}],[p,v]=_.useState("appearance");return f.jsx(ni,{open:t,onOpenChange:e,children:f.jsxs(Nr,{className:"sm:max-w-[700px] h-[600px]",children:[f.jsx(ki,{children:f.jsxs(Ni,{className:"flex items-center space-x-2",children:[f.jsx(dk,{className:"h-5 w-5"}),f.jsx("span",{children:"Settings"})]})}),f.jsxs("div",{className:"flex h-full",children:[f.jsx("div",{className:"w-48 border-r pr-4",children:f.jsx("nav",{className:"space-y-1",children:h.map(m=>f.jsxs(ne,{variant:p===m.id?"secondary":"ghost",className:"w-full justify-start",onClick:()=>v(m.id),children:[f.jsx(m.icon,{className:"h-4 w-4 mr-2"}),m.title]},m.id))})}),f.jsx("div",{className:"flex-1 pl-6",children:h.map(m=>f.jsx(Ve.div,{initial:{opacity:0,x:20},animate:{opacity:p===m.id?1:0,x:p===m.id?0:20},className:p===m.id?"block":"hidden",children:f.jsxs(ut,{children:[f.jsx(Qn,{children:f.jsxs(Jn,{className:"flex items-center space-x-2",children:[f.jsx(m.icon,{className:"h-5 w-5"}),f.jsx("span",{children:m.title})]})}),f.jsx(pt,{children:m.content})]})},m.id))})]}),f.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t",children:[f.jsx(ne,{variant:"outline",onClick:()=>e(!1),children:"Cancel"}),f.jsx(ne,{onClick:()=>e(!1),children:"Save Changes"})]})]})})}const zpe=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O7=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Wpe=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},j7={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=o>>2,d=(o&3)<<4|a>>4;let h=(a&15)<<2|c>>6,p=c&63;l||(p=64,s||(h=64)),r.push(n[u],n[d],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(O7(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Wpe(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||c==null||d==null)throw new qpe;const h=o<<2|a>>4;if(r.push(h),c!==64){const p=a<<4&240|c>>2;if(r.push(p),d!==64){const v=c<<6&192|d;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class qpe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Gpe=function(t){const e=O7(t);return j7.encodeByteArray(e,!0)},$x=function(t){return Gpe(t).replace(/\./g,"")},R7=function(t){try{return j7.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D7(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hpe=()=>D7().__FIREBASE_DEFAULTS__,Kpe=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Ype=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&R7(t[1]);return e&&JSON.parse(e)},h_=()=>{try{return zpe()||Hpe()||Kpe()||Ype()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},M7=t=>{var e,n;return(n=(e=h_())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},Xpe=t=>{const e=M7(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},$7=()=>{var t;return(t=h_())==null?void 0:t.config},L7=t=>{var e;return(e=h_())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qpe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function cN(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jpe(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t},a="";return[$x(JSON.stringify(n)),$x(JSON.stringify(s)),a].join(".")}const Qp={};function Zpe(){const t={prod:[],emulator:[]};for(const e of Object.keys(Qp))Qp[e]?t.emulator.push(e):t.prod.push(e);return t}function eme(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let WM=!1;function V7(t,e){if(typeof window>"u"||typeof document>"u"||!gu(window.location.host)||Qp[t]===e||Qp[t]||WM)return;Qp[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",o=Zpe().prod.length>0;function s(){const h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,p){h.setAttribute("width","24"),h.setAttribute("id",p),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{WM=!0,s()},h}function u(h,p){h.setAttribute("id",p),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function d(){const h=eme(r),p=n("text"),v=document.getElementById(p)||document.createElement("span"),m=n("learnmore"),y=document.getElementById(m)||document.createElement("a"),b=n("preprendIcon"),x=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const w=h.element;a(w),u(y,m);const E=c();l(x,b),w.append(x,v,y,E),document.body.appendChild(w)}o?(v.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tme(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xn())}function F7(){var e;const t=(e=h_())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nme(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function B7(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function rme(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ime(){const t=xn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function U7(){return!F7()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function z7(){return!F7()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function uN(){try{return typeof indexedDB=="object"}catch{return!1}}function W7(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}function ome(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sme="FirebaseError";class lo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=sme,Object.setPrototypeOf(this,lo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yu.prototype.create)}}class yu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?ame(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new lo(i,a,r)}}function ame(t,e){return t.replace(lme,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const lme=/\{\$([^}]+)}/g;function cme(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Pi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(qM(o)&&qM(s)){if(!Pi(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function qM(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dy(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function kp(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Np(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function ume(t,e){const n=new dme(t,e);return n.subscribe.bind(n)}class dme{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");fme(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=uT),i.error===void 0&&(i.error=uT),i.complete===void 0&&(i.complete=uT);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fme(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function uT(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hme=1e3,pme=2,mme=4*60*60*1e3,gme=.5;function GM(t,e=hme,n=pme){const r=e*Math.pow(n,t),i=Math.round(gme*r*(Math.random()-.5)*2);return Math.min(mme,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Je(t){return t&&t._delegate?t._delegate:t}class no{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yme{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Qpe;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xme(e))try{this.getOrInitializeService({instanceIdentifier:Ql})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ql){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ql){return this.instances.has(e)}getOptions(e=Ql){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:vme(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ql){return this.component?this.component.multipleInstances?e:Ql:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vme(t){return t===Ql?void 0:t}function xme(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bme{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new yme(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ze||(ze={}));const wme={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},_me=ze.INFO,Sme={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},Tme=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Sme[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class p_{constructor(e){this.name=e,this._logLevel=_me,this._logHandler=Tme,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wme[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const Eme=(t,e)=>e.some(n=>t instanceof n);let HM,KM;function Ame(){return HM||(HM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Pme(){return KM||(KM=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const q7=new WeakMap,FA=new WeakMap,G7=new WeakMap,dT=new WeakMap,dN=new WeakMap;function Ime(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(qa(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&q7.set(n,t)}).catch(()=>{}),dN.set(e,t),e}function Cme(t){if(FA.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});FA.set(t,e)}let BA={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return FA.get(t);if(e==="objectStoreNames")return t.objectStoreNames||G7.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qa(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function kme(t){BA=t(BA)}function Nme(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(fT(this),e,...n);return G7.set(r,e.sort?e.sort():[e]),qa(r)}:Pme().includes(t)?function(...e){return t.apply(fT(this),e),qa(q7.get(this))}:function(...e){return qa(t.apply(fT(this),e))}}function Ome(t){return typeof t=="function"?Nme(t):(t instanceof IDBTransaction&&Cme(t),Eme(t,Ame())?new Proxy(t,BA):t)}function qa(t){if(t instanceof IDBRequest)return Ime(t);if(dT.has(t))return dT.get(t);const e=Ome(t);return e!==t&&(dT.set(t,e),dN.set(e,t)),e}const fT=t=>dN.get(t);function H7(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=qa(s);return r&&s.addEventListener("upgradeneeded",l=>{r(qa(s.result),l.oldVersion,l.newVersion,qa(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const jme=["get","getKey","getAll","getAllKeys","count"],Rme=["put","add","delete","clear"],hT=new Map;function YM(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(hT.get(e))return hT.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Rme.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||jme.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return hT.set(e,o),o}kme(t=>({...t,get:(e,n,r)=>YM(e,n)||t.get(e,n,r),has:(e,n)=>!!YM(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dme{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Mme(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Mme(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const UA="@firebase/app",XM="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is=new p_("@firebase/app"),$me="@firebase/app-compat",Lme="@firebase/analytics-compat",Vme="@firebase/analytics",Fme="@firebase/app-check-compat",Bme="@firebase/app-check",Ume="@firebase/auth",zme="@firebase/auth-compat",Wme="@firebase/database",qme="@firebase/data-connect",Gme="@firebase/database-compat",Hme="@firebase/functions",Kme="@firebase/functions-compat",Yme="@firebase/installations",Xme="@firebase/installations-compat",Qme="@firebase/messaging",Jme="@firebase/messaging-compat",Zme="@firebase/performance",ege="@firebase/performance-compat",tge="@firebase/remote-config",nge="@firebase/remote-config-compat",rge="@firebase/storage",ige="@firebase/storage-compat",oge="@firebase/firestore",sge="@firebase/ai",age="@firebase/firestore-compat",lge="firebase",cge="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx="[DEFAULT]",uge={[UA]:"fire-core",[$me]:"fire-core-compat",[Vme]:"fire-analytics",[Lme]:"fire-analytics-compat",[Bme]:"fire-app-check",[Fme]:"fire-app-check-compat",[Ume]:"fire-auth",[zme]:"fire-auth-compat",[Wme]:"fire-rtdb",[qme]:"fire-data-connect",[Gme]:"fire-rtdb-compat",[Hme]:"fire-fn",[Kme]:"fire-fn-compat",[Yme]:"fire-iid",[Xme]:"fire-iid-compat",[Qme]:"fire-fcm",[Jme]:"fire-fcm-compat",[Zme]:"fire-perf",[ege]:"fire-perf-compat",[tge]:"fire-rc",[nge]:"fire-rc-compat",[rge]:"fire-gcs",[ige]:"fire-gcs-compat",[oge]:"fire-fst",[age]:"fire-fst-compat",[sge]:"fire-vertex","fire-js":"fire-js",[lge]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx=new Map,dge=new Map,zA=new Map;function QM(t,e){try{t.container.addComponent(e)}catch(n){Is.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Fo(t){const e=t.name;if(zA.has(e))return Is.debug(`There were multiple attempts to register component ${e}.`),!1;zA.set(e,t);for(const n of Vx.values())QM(n,t);for(const n of dge.values())QM(n,t);return!0}function Vs(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function fge(t,e,n=Lx){Vs(t,e).clearInstance(n)}function yi(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hge={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ga=new yu("app","Firebase",hge);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pge{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new no("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ga.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ah=cge;function K7(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Lx,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Ga.create("bad-app-name",{appName:String(i)});if(n||(n=$7()),!n)throw Ga.create("no-options");const o=Vx.get(i);if(o){if(Pi(n,o.options)&&Pi(r,o.config))return o;throw Ga.create("duplicate-app",{appName:i})}const s=new bme(i);for(const l of zA.values())s.addComponent(l);const a=new pge(n,r,s);return Vx.set(i,a),a}function fN(t=Lx){const e=Vx.get(t);if(!e&&t===Lx&&$7())return K7();if(!e)throw Ga.create("no-app",{appName:t});return e}function Ti(t,e,n){let r=uge[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Is.warn(s.join(" "));return}Fo(new no(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mge="firebase-heartbeat-database",gge=1,Km="firebase-heartbeat-store";let pT=null;function Y7(){return pT||(pT=H7(mge,gge,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Km)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ga.create("idb-open",{originalErrorMessage:t.message})})),pT}async function yge(t){try{const n=(await Y7()).transaction(Km),r=await n.objectStore(Km).get(X7(t));return await n.done,r}catch(e){if(e instanceof lo)Is.warn(e.message);else{const n=Ga.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Is.warn(n.message)}}}async function JM(t,e){try{const r=(await Y7()).transaction(Km,"readwrite");await r.objectStore(Km).put(e,X7(t)),await r.done}catch(n){if(n instanceof lo)Is.warn(n.message);else{const r=Ga.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Is.warn(r.message)}}}function X7(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vge=1024,xge=30;class bge{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _ge(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=ZM();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>xge){const s=Sge(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Is.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ZM(),{heartbeatsToSend:r,unsentEntries:i}=wge(this._heartbeatsCache.heartbeats),o=$x(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Is.warn(n),""}}}function ZM(){return new Date().toISOString().substring(0,10)}function wge(t,e=vge){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),e$(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),e$(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class _ge{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uN()?W7().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await yge(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return JM(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return JM(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function e$(t){return $x(JSON.stringify({version:2,heartbeats:t})).length}function Sge(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tge(t){Fo(new no("platform-logger",e=>new Dme(e),"PRIVATE")),Fo(new no("heartbeat",e=>new bge(e),"PRIVATE")),Ti(UA,XM,t),Ti(UA,XM,"esm2020"),Ti("fire-js","")}Tge("");function Q7(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ege=Q7,J7=new yu("auth","Firebase",Q7());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx=new p_("@firebase/auth");function Age(t,...e){Fx.logLevel<=ze.WARN&&Fx.warn(`Auth (${ah}): ${t}`,...e)}function E0(t,...e){Fx.logLevel<=ze.ERROR&&Fx.error(`Auth (${ah}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ro(t,...e){throw hN(t,...e)}function ko(t,...e){return hN(t,...e)}function Z7(t,e,n){const r={...Ege(),[e]:n};return new yu("auth","Firebase",r).create(e,{appName:t.name})}function gs(t){return Z7(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function hN(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return J7.create(t,...e)}function Ce(t,e,...n){if(!t)throw hN(e,...n)}function ss(t){const e="INTERNAL ASSERTION FAILED: "+t;throw E0(e),new Error(e)}function Cs(t,e){t||ss(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WA(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function Pge(){return t$()==="http:"||t$()==="https:"}function t$(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ige(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Pge()||B7()||"connection"in navigator)?navigator.onLine:!0}function Cge(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e,n){this.shortDelay=e,this.longDelay=n,Cs(n>e,"Short delay should be less than long delay!"),this.isMobile=tme()||rme()}get(){return Ige()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(t,e){Cs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eq{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ss("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ss("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ss("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kge={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nge=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Oge=new fy(3e4,6e4);function bl(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function wl(t,e,n,r,i={}){return tq(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=dy({key:t.config.apiKey,...s}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...o};return nme()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&gu(t.emulatorConfig.host)&&(c.credentials="include"),eq.fetch()(await nq(t,t.config.apiHost,n,a),c)})}async function tq(t,e,n){t._canInitEmulator=!1;const r={...kge,...e};try{const i=new Rge(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Nv(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nv(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Nv(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Nv(t,"user-disabled",s);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Z7(t,u,c);ro(t,u)}}catch(i){if(i instanceof lo)throw i;ro(t,"network-request-failed",{message:String(i)})}}async function hy(t,e,n,r,i={}){const o=await wl(t,e,n,r,i);return"mfaPendingCredential"in o&&ro(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function nq(t,e,n,r){const i=`${e}${n}?${r}`,o=t,s=o.config.emulator?pN(t.config,i):`${t.config.apiScheme}://${i}`;return Nge.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}function jge(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Rge{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ko(this.auth,"network-request-failed")),Oge.get())})}}function Nv(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ko(t,e,r);return i.customData._tokenResponse=n,i}function n$(t){return t!==void 0&&t.enterprise!==void 0}class Dge{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return jge(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Mge(t,e){return wl(t,"GET","/v2/recaptchaConfig",bl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $ge(t,e){return wl(t,"POST","/v1/accounts:delete",e)}async function Bx(t,e){return wl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Lge(t,e=!1){const n=Je(t),r=await n.getIdToken(e),i=mN(r);Ce(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Jp(mT(i.auth_time)),issuedAtTime:Jp(mT(i.iat)),expirationTime:Jp(mT(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function mT(t){return Number(t)*1e3}function mN(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return E0("JWT malformed, contained fewer than 3 sections"),null;try{const i=R7(n);return i?JSON.parse(i):(E0("Failed to decode base64 JWT payload"),null)}catch(i){return E0("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function r$(t){const e=mN(t);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ym(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof lo&&Vge(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Vge({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fge{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jp(this.lastLoginAt),this.creationTime=Jp(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ux(t){var d;const e=t.auth,n=await t.getIdToken(),r=await Ym(t,Bx(e,{idToken:n}));Ce(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=(d=i.providerUserInfo)!=null&&d.length?rq(i.providerUserInfo):[],s=Uge(t.providerData,o),a=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(s!=null&&s.length),c=a?l:!1,u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new qA(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,u)}async function Bge(t){const e=Je(t);await Ux(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Uge(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function rq(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zge(t,e){const n=await tq(t,{},async()=>{const r=dy({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await nq(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&gu(t.emulatorConfig.host)&&(l.credentials="include"),eq.fetch()(s,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Wge(t,e){return wl(t,"POST","/v2/accounts:revokeToken",bl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):r$(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const n=r$(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await zge(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new jd;return r&&(Ce(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Ce(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Ce(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new jd,this.toJSON())}_performRefresh(){return ss("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oa(t,e){Ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Gi{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new Fge(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new qA(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Ym(this,this.stsTokenManager.getToken(this.auth,e));return Ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Lge(this,e)}reload(){return Bge(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Gi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ux(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(yi(this.auth.app))return Promise.reject(gs(this.auth));const e=await this.getIdToken();return await Ym(this,$ge(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,s=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,u=n.lastLoginAt??void 0,{uid:d,emailVerified:h,isAnonymous:p,providerData:v,stsTokenManager:m}=n;Ce(d&&m,e,"internal-error");const y=jd.fromJSON(this.name,m);Ce(typeof d=="string",e,"internal-error"),oa(r,e.name),oa(i,e.name),Ce(typeof h=="boolean",e,"internal-error"),Ce(typeof p=="boolean",e,"internal-error"),oa(o,e.name),oa(s,e.name),oa(a,e.name),oa(l,e.name),oa(c,e.name),oa(u,e.name);const b=new Gi({uid:d,auth:e,email:i,emailVerified:h,displayName:r,isAnonymous:p,photoURL:s,phoneNumber:o,tenantId:a,stsTokenManager:y,createdAt:c,lastLoginAt:u});return v&&Array.isArray(v)&&(b.providerData=v.map(x=>({...x}))),l&&(b._redirectEventId=l),b}static async _fromIdTokenResponse(e,n,r=!1){const i=new jd;i.updateFromServerResponse(n);const o=new Gi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ux(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ce(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?rq(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new jd;a.updateFromIdToken(r);const l=new Gi({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new qA(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i$=new Map;function as(t){Cs(t instanceof Function,"Expected a class definition");let e=i$.get(t);return e?(Cs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,i$.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iq{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}iq.type="NONE";const o$=iq;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0(t,e,n){return`firebase:${t}:${e}:${n}`}class Rd{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=A0(this.userKey,i.apiKey,o),this.fullPersistenceKey=A0("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Bx(this.auth,{idToken:e}).catch(()=>{});return n?Gi._fromGetAccountInfoResponse(this.auth,n,e):null}return Gi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Rd(as(o$),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let o=i[0]||as(o$);const s=A0(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(s);if(u){let d;if(typeof u=="string"){const h=await Bx(e,{idToken:u}).catch(()=>{});if(!h)break;d=await Gi._fromGetAccountInfoResponse(e,h,u)}else d=Gi._fromJSON(e,u);c!==o&&(a=d),o=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Rd(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==o)try{await c._remove(s)}catch{}})),new Rd(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s$(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lq(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(oq(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uq(e))return"Blackberry";if(dq(e))return"Webos";if(sq(e))return"Safari";if((e.includes("chrome/")||aq(e))&&!e.includes("edge/"))return"Chrome";if(cq(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function oq(t=xn()){return/firefox\//i.test(t)}function sq(t=xn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function aq(t=xn()){return/crios\//i.test(t)}function lq(t=xn()){return/iemobile/i.test(t)}function cq(t=xn()){return/android/i.test(t)}function uq(t=xn()){return/blackberry/i.test(t)}function dq(t=xn()){return/webos/i.test(t)}function gN(t=xn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function qge(t=xn()){var e;return gN(t)&&!!((e=window.navigator)!=null&&e.standalone)}function Gge(){return ime()&&document.documentMode===10}function fq(t=xn()){return gN(t)||cq(t)||dq(t)||uq(t)||/windows phone/i.test(t)||lq(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hq(t,e=[]){let n;switch(t){case"Browser":n=s$(xn());break;case"Worker":n=`${s$(xn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ah}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hge{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kge(t,e={}){return wl(t,"GET","/v2/passwordPolicy",bl(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yge=6;class Xge{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Yge,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qge{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new a$(this),this.idTokenSubscription=new a$(this),this.beforeStateQueue=new Hge(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=J7,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=as(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await Rd.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Bx(this,{idToken:e}),r=await Gi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(yi(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(o=this.redirectUser)==null?void 0:o._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ux(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Cge()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(yi(this.app))return Promise.reject(gs(this));const n=e?Je(e):null;return n&&Ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return yi(this.app)?Promise.reject(gs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return yi(this.app)?Promise.reject(gs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(as(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Kge(this),n=new Xge(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new yu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Wge(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&as(e)||this._popupRedirectResolver;Ce(n,this,"argument-error"),this.redirectPersistenceManager=await Rd.create(this,[as(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hq(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(yi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&Age(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function vu(t){return Je(t)}class a${constructor(e){this.auth=e,this.observer=null,this.addObserver=ume(n=>this.observer=n)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let m_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Jge(t){m_=t}function pq(t){return m_.loadJS(t)}function Zge(){return m_.recaptchaEnterpriseScript}function eye(){return m_.gapiScript}function tye(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class nye{constructor(){this.enterprise=new rye}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class rye{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const iye="recaptcha-enterprise",mq="NO_RECAPTCHA";class oye{constructor(e){this.type=iye,this.auth=vu(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{Mge(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new Dge(l);return o.tenantId==null?o._agentRecaptchaConfig=c:o._tenantRecaptchaConfigs[o.tenantId]=c,s(c.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;n$(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(c=>{s(c)}).catch(()=>{s(mq)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new nye().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&n$(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Zge();l.length!==0&&(l+=a),pq(l).then(()=>{i(a,o,s)}).catch(c=>{s(c)})}}).catch(a=>{s(a)})})}}async function op(t,e,n,r=!1,i=!1){const o=new oye(t);let s;if(i)s=mq;else try{s=await o.verify(n)}catch{s=await o.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function GA(t,e,n,r,i){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if((o=t._getRecaptchaConfig())!=null&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await op(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await op(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)});else if(i==="PHONE_PROVIDER")if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("PHONE_PROVIDER")){const a=await op(t,e,n);return r(t,a).catch(async l=>{var c;if(((c=t._getRecaptchaConfig())==null?void 0:c.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const u=await op(t,e,n,!1,!0);return r(t,u)}return Promise.reject(l)})}else{const a=await op(t,e,n,!1,!0);return r(t,a)}else return Promise.reject(i+" provider is not supported.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sye(t,e){const n=Vs(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Pi(o,e??{}))return i;ro(i,"already-initialized")}return n.initialize({options:e})}function aye(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(as);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function lye(t,e,n){const r=vu(t);Ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=gq(e),{host:s,port:a}=cye(e),l=a===null?"":`:${a}`,c={url:`${o}//${s}${l}/`},u=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ce(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ce(Pi(c,r.config.emulator)&&Pi(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,gu(s)?(cN(`${o}//${s}${l}`),V7("Auth",!0)):i||uye()}function gq(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function cye(t){const e=gq(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:l$(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:l$(s)}}}function l$(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function uye(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ss("not implemented")}_getIdTokenResponse(e){return ss("not implemented")}_linkToIdToken(e,n){return ss("not implemented")}_getReauthenticationResolver(e){return ss("not implemented")}}async function dye(t,e){return wl(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fye(t,e){return hy(t,"POST","/v1/accounts:signInWithPassword",bl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hye(t,e){return hy(t,"POST","/v1/accounts:signInWithEmailLink",bl(t,e))}async function pye(t,e){return hy(t,"POST","/v1/accounts:signInWithEmailLink",bl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm extends yN{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Xm(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Xm(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return GA(e,n,"signInWithPassword",fye,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return hye(e,{email:this._email,oobCode:this._password});default:ro(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return GA(e,r,"signUpPassword",dye,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return pye(e,{idToken:n,email:this._email,oobCode:this._password});default:ro(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dd(t,e){return hy(t,"POST","/v1/accounts:signInWithIdp",bl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mye="http://localhost";class Bc extends yN{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Bc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ro("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...o}=n;if(!r||!i)return null;const s=new Bc(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Dd(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Dd(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Dd(e,n)}buildRequest(){const e={requestUri:mye,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=dy(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gye(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function yye(t){const e=kp(Np(t)).link,n=e?kp(Np(e)).deep_link_id:null,r=kp(Np(t)).deep_link_id;return(r?kp(Np(r)).link:null)||r||n||e||t}class vN{constructor(e){const n=kp(Np(e)),r=n.apiKey??null,i=n.oobCode??null,o=gye(n.mode??null);Ce(r&&i&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=yye(e);try{return new vN(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(){this.providerId=lh.PROVIDER_ID}static credential(e,n){return Xm._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=vN.parseLink(n);return Ce(r,"argument-error"),Xm._fromEmailAndCode(e,r.code,r.tenantId)}}lh.PROVIDER_ID="password";lh.EMAIL_PASSWORD_SIGN_IN_METHOD="password";lh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yq{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py extends yq{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba extends py{constructor(){super("facebook.com")}static credential(e){return Bc._fromParams({providerId:ba.PROVIDER_ID,signInMethod:ba.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ba.credentialFromTaggedObject(e)}static credentialFromError(e){return ba.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ba.credential(e.oauthAccessToken)}catch{return null}}}ba.FACEBOOK_SIGN_IN_METHOD="facebook.com";ba.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa extends py{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Bc._fromParams({providerId:wa.PROVIDER_ID,signInMethod:wa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return wa.credentialFromTaggedObject(e)}static credentialFromError(e){return wa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return wa.credential(n,r)}catch{return null}}}wa.GOOGLE_SIGN_IN_METHOD="google.com";wa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a extends py{constructor(){super("github.com")}static credential(e){return Bc._fromParams({providerId:_a.PROVIDER_ID,signInMethod:_a.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _a.credentialFromTaggedObject(e)}static credentialFromError(e){return _a.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _a.credential(e.oauthAccessToken)}catch{return null}}}_a.GITHUB_SIGN_IN_METHOD="github.com";_a.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa extends py{constructor(){super("twitter.com")}static credential(e,n){return Bc._fromParams({providerId:Sa.PROVIDER_ID,signInMethod:Sa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Sa.credentialFromTaggedObject(e)}static credentialFromError(e){return Sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Sa.credential(n,r)}catch{return null}}}Sa.TWITTER_SIGN_IN_METHOD="twitter.com";Sa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vye(t,e){return hy(t,"POST","/v1/accounts:signUp",bl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Gi._fromIdTokenResponse(e,r,i),s=c$(r);return new Uc({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=c$(r);return new Uc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function c$(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx extends lo{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,zx.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new zx(e,n,r,i)}}function vq(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?zx._fromErrorAndOperation(t,o,e,r):o})}async function xye(t,e,n=!1){const r=await Ym(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Uc._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bye(t,e,n=!1){const{auth:r}=t;if(yi(r.app))return Promise.reject(gs(r));const i="reauthenticate";try{const o=await Ym(t,vq(r,i,e,t),n);Ce(o.idToken,r,"internal-error");const s=mN(o.idToken);Ce(s,r,"internal-error");const{sub:a}=s;return Ce(t.uid===a,r,"user-mismatch"),Uc._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&ro(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xq(t,e,n=!1){if(yi(t.app))return Promise.reject(gs(t));const r="signIn",i=await vq(t,r,e),o=await Uc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function wye(t,e){return xq(vu(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bq(t){const e=vu(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function _ye(t,e,n){if(yi(t.app))return Promise.reject(gs(t));const r=vu(t),s=await GA(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",vye,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&bq(t),l}),a=await Uc._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function Sye(t,e,n){return yi(t.app)?Promise.reject(gs(t)):wye(Je(t),lh.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&bq(t),r})}function Tye(t,e,n,r){return Je(t).onIdTokenChanged(e,n,r)}function Eye(t,e,n){return Je(t).beforeAuthStateChanged(e,n)}function Aye(t,e,n,r){return Je(t).onAuthStateChanged(e,n,r)}function Pye(t){return Je(t).signOut()}const Wx="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wq{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Wx,"1"),this.storage.removeItem(Wx),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iye=1e3,Cye=10;class _q extends wq{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=fq(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);Gge()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Cye):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Iye)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}_q.type="LOCAL";const kye=_q;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sq extends wq{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Sq.type="SESSION";const Tq=Sq;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nye(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new g_(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async c=>c(n.origin,o)),l=await Nye(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}g_.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oye{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const c=xN("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(u),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function No(){return window}function jye(t){No().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eq(){return typeof No().WorkerGlobalScope<"u"&&typeof No().importScripts=="function"}async function Rye(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Dye(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function Mye(){return Eq()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aq="firebaseLocalStorageDb",$ye=1,qx="firebaseLocalStorage",Pq="fbase_key";class my{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function y_(t,e){return t.transaction([qx],e?"readwrite":"readonly").objectStore(qx)}function Lye(){const t=indexedDB.deleteDatabase(Aq);return new my(t).toPromise()}function HA(){const t=indexedDB.open(Aq,$ye);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(qx,{keyPath:Pq})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(qx)?e(r):(r.close(),await Lye(),e(await HA()))})})}async function u$(t,e,n){const r=y_(t,!0).put({[Pq]:e,value:n});return new my(r).toPromise()}async function Vye(t,e){const n=y_(t,!1).get(e),r=await new my(n).toPromise();return r===void 0?null:r.value}function d$(t,e){const n=y_(t,!0).delete(e);return new my(n).toPromise()}const Fye=800,Bye=3;class Iq{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await HA(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Bye)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Eq()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=g_._getInstance(Mye()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await Rye(),!this.activeServiceWorker)return;this.sender=new Oye(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Dye()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await HA();return await u$(e,Wx,"1"),await d$(e,Wx),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>u$(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Vye(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>d$(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=y_(i,!1).getAll();return new my(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Fye)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Iq.type="LOCAL";const Uye=Iq;new fy(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zye(t,e){return e?as(e):(Ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN extends yN{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Dd(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Dd(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Dd(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Wye(t){return xq(t.auth,new bN(t),t.bypassAuthState)}function qye(t){const{auth:e,user:n}=t;return Ce(n,e,"internal-error"),bye(n,new bN(t),t.bypassAuthState)}async function Gye(t){const{auth:e,user:n}=t;return Ce(n,e,"internal-error"),xye(n,new bN(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cq{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Wye;case"linkViaPopup":case"linkViaRedirect":return Gye;case"reauthViaPopup":case"reauthViaRedirect":return qye;default:ro(this.auth,"internal-error")}}resolve(e){Cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hye=new fy(2e3,1e4);class gd extends Cq{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,gd.currentPopupAction&&gd.currentPopupAction.cancel(),gd.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){Cs(this.filter.length===1,"Popup operations only handle one event");const e=xN();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ko(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(ko(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,gd.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ko(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Hye.get())};e()}}gd.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kye="pendingRedirect",P0=new Map;class Yye extends Cq{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=P0.get(this.auth._key());if(!e){try{const r=await Xye(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}P0.set(this.auth._key(),e)}return this.bypassAuthState||P0.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Xye(t,e){const n=Zye(e),r=Jye(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Qye(t,e){P0.set(t._key(),e)}function Jye(t){return as(t._redirectPersistence)}function Zye(t){return A0(Kye,t.config.apiKey,t.name)}async function eve(t,e,n=!1){if(yi(t.app))return Promise.reject(gs(t));const r=vu(t),i=zye(r,e),s=await new Yye(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tve=10*60*1e3;class nve{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!rve(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!kq(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(ko(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=tve&&this.cachedEventUids.clear(),this.cachedEventUids.has(f$(e))}saveEventToCache(e){this.cachedEventUids.add(f$(e)),this.lastProcessedEventTime=Date.now()}}function f$(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function kq({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function rve(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kq(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ive(t,e={}){return wl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ove=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sve=/^https?/;async function ave(t){if(t.config.emulator)return;const{authorizedDomains:e}=await ive(t);for(const n of e)try{if(lve(n))return}catch{}ro(t,"unauthorized-domain")}function lve(t){const e=WA(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!sve.test(n))return!1;if(ove.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cve=new fy(3e4,6e4);function h$(){const t=No().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function uve(t){return new Promise((e,n)=>{var i,o,s;function r(){h$(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{h$(),n(ko(t,"network-request-failed"))},timeout:cve.get()})}if((o=(i=No().gapi)==null?void 0:i.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((s=No().gapi)!=null&&s.load)r();else{const a=tye("iframefcb");return No()[a]=()=>{gapi.load?r():n(ko(t,"network-request-failed"))},pq(`${eye()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw I0=null,e})}let I0=null;function dve(t){return I0=I0||uve(t),I0}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fve=new fy(5e3,15e3),hve="__/auth/iframe",pve="emulator/auth/iframe",mve={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gve=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yve(t){const e=t.config;Ce(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?pN(e,pve):`https://${t.config.authDomain}/${hve}`,r={apiKey:e.apiKey,appName:t.name,v:ah},i=gve.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${dy(r).slice(1)}`}async function vve(t){const e=await dve(t),n=No().gapi;return Ce(n,t,"internal-error"),e.open({where:document.body,url:yve(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mve,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=ko(t,"network-request-failed"),a=No().setTimeout(()=>{o(s)},fve.get());function l(){No().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xve={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},bve=500,wve=600,_ve="_blank",Sve="http://localhost";class p${constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Tve(t,e,n,r=bve,i=wve){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...xve,width:r.toString(),height:i.toString(),top:o,left:s},c=xn().toLowerCase();n&&(a=aq(c)?_ve:n),oq(c)&&(e=e||Sve,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[p,v])=>`${h}${p}=${v},`,"");if(qge(c)&&a!=="_self")return Eve(e||"",a),new p$(null);const d=window.open(e||"",a,u);Ce(d,t,"popup-blocked");try{d.focus()}catch{}return new p$(d)}function Eve(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ave="__/auth/handler",Pve="emulator/auth/handler",Ive=encodeURIComponent("fac");async function m$(t,e,n,r,i,o){Ce(t.config.authDomain,t,"auth-domain-config-required"),Ce(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ah,eventId:i};if(e instanceof yq){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",cme(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(o||{}))s[u]=d}if(e instanceof py){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${Ive}=${encodeURIComponent(l)}`:"";return`${Cve(t)}?${dy(a).slice(1)}${c}`}function Cve({config:t}){return t.emulator?pN(t,Pve):`https://${t.authDomain}/${Ave}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT="webStorageSupport";class kve{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Tq,this._completeRedirectFn=eve,this._overrideRedirectResult=Qye}async _openPopup(e,n,r,i){var s;Cs((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await m$(e,n,r,WA(),i);return Tve(e,o,xN())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await m$(e,n,r,WA(),i);return jye(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Cs(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await vve(e),r=new nve(e);return n.register("authEvent",i=>(Ce(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(gT,{type:gT},i=>{var s;const o=(s=i==null?void 0:i[0])==null?void 0:s[gT];o!==void 0&&n(!!o),ro(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ave(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return fq()||sq()||gN()}}const Nve=kve;var g$="@firebase/auth",y$="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ove{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jve(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Rve(t){Fo(new no("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Ce(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hq(t)},c=new Qge(r,i,o,l);return aye(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Fo(new no("auth-internal",e=>{const n=vu(e.getProvider("auth").getImmediate());return(r=>new Ove(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ti(g$,y$,jve(t)),Ti(g$,y$,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dve=5*60,Mve=L7("authIdTokenMaxAge")||Dve;let v$=null;const $ve=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Mve)return;const i=n==null?void 0:n.token;v$!==i&&(v$=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Lve(t=fN()){const e=Vs(t,"auth");if(e.isInitialized())return e.getImmediate();const n=sye(t,{popupRedirectResolver:Nve,persistence:[Uye,kye,Tq]}),r=L7("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=$ve(o.toString());Eye(n,s,()=>s(n.currentUser)),Tye(n,a=>s(a))}}const i=M7("auth");return i&&lye(n,`http://${i}`),n}function Vve(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}Jge({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=ko("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",Vve().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Rve("Browser");var x$=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ha,Nq;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,A){function k(){}k.prototype=A.prototype,T.F=A.prototype,T.prototype=new k,T.prototype.constructor=T,T.D=function(O,N,C){for(var j=Array(arguments.length-2),$=2;$<arguments.length;$++)j[$-2]=arguments[$];return A.prototype[N].apply(O,j)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,A,k){k||(k=0);const O=Array(16);if(typeof A=="string")for(var N=0;N<16;++N)O[N]=A.charCodeAt(k++)|A.charCodeAt(k++)<<8|A.charCodeAt(k++)<<16|A.charCodeAt(k++)<<24;else for(N=0;N<16;++N)O[N]=A[k++]|A[k++]<<8|A[k++]<<16|A[k++]<<24;A=T.g[0],k=T.g[1],N=T.g[2];let C=T.g[3],j;j=A+(C^k&(N^C))+O[0]+3614090360&4294967295,A=k+(j<<7&4294967295|j>>>25),j=C+(N^A&(k^N))+O[1]+3905402710&4294967295,C=A+(j<<12&4294967295|j>>>20),j=N+(k^C&(A^k))+O[2]+606105819&4294967295,N=C+(j<<17&4294967295|j>>>15),j=k+(A^N&(C^A))+O[3]+3250441966&4294967295,k=N+(j<<22&4294967295|j>>>10),j=A+(C^k&(N^C))+O[4]+4118548399&4294967295,A=k+(j<<7&4294967295|j>>>25),j=C+(N^A&(k^N))+O[5]+1200080426&4294967295,C=A+(j<<12&4294967295|j>>>20),j=N+(k^C&(A^k))+O[6]+2821735955&4294967295,N=C+(j<<17&4294967295|j>>>15),j=k+(A^N&(C^A))+O[7]+4249261313&4294967295,k=N+(j<<22&4294967295|j>>>10),j=A+(C^k&(N^C))+O[8]+1770035416&4294967295,A=k+(j<<7&4294967295|j>>>25),j=C+(N^A&(k^N))+O[9]+2336552879&4294967295,C=A+(j<<12&4294967295|j>>>20),j=N+(k^C&(A^k))+O[10]+4294925233&4294967295,N=C+(j<<17&4294967295|j>>>15),j=k+(A^N&(C^A))+O[11]+2304563134&4294967295,k=N+(j<<22&4294967295|j>>>10),j=A+(C^k&(N^C))+O[12]+1804603682&4294967295,A=k+(j<<7&4294967295|j>>>25),j=C+(N^A&(k^N))+O[13]+4254626195&4294967295,C=A+(j<<12&4294967295|j>>>20),j=N+(k^C&(A^k))+O[14]+2792965006&4294967295,N=C+(j<<17&4294967295|j>>>15),j=k+(A^N&(C^A))+O[15]+1236535329&4294967295,k=N+(j<<22&4294967295|j>>>10),j=A+(N^C&(k^N))+O[1]+4129170786&4294967295,A=k+(j<<5&4294967295|j>>>27),j=C+(k^N&(A^k))+O[6]+3225465664&4294967295,C=A+(j<<9&4294967295|j>>>23),j=N+(A^k&(C^A))+O[11]+643717713&4294967295,N=C+(j<<14&4294967295|j>>>18),j=k+(C^A&(N^C))+O[0]+3921069994&4294967295,k=N+(j<<20&4294967295|j>>>12),j=A+(N^C&(k^N))+O[5]+3593408605&4294967295,A=k+(j<<5&4294967295|j>>>27),j=C+(k^N&(A^k))+O[10]+38016083&4294967295,C=A+(j<<9&4294967295|j>>>23),j=N+(A^k&(C^A))+O[15]+3634488961&4294967295,N=C+(j<<14&4294967295|j>>>18),j=k+(C^A&(N^C))+O[4]+3889429448&4294967295,k=N+(j<<20&4294967295|j>>>12),j=A+(N^C&(k^N))+O[9]+568446438&4294967295,A=k+(j<<5&4294967295|j>>>27),j=C+(k^N&(A^k))+O[14]+3275163606&4294967295,C=A+(j<<9&4294967295|j>>>23),j=N+(A^k&(C^A))+O[3]+4107603335&4294967295,N=C+(j<<14&4294967295|j>>>18),j=k+(C^A&(N^C))+O[8]+1163531501&4294967295,k=N+(j<<20&4294967295|j>>>12),j=A+(N^C&(k^N))+O[13]+2850285829&4294967295,A=k+(j<<5&4294967295|j>>>27),j=C+(k^N&(A^k))+O[2]+4243563512&4294967295,C=A+(j<<9&4294967295|j>>>23),j=N+(A^k&(C^A))+O[7]+1735328473&4294967295,N=C+(j<<14&4294967295|j>>>18),j=k+(C^A&(N^C))+O[12]+2368359562&4294967295,k=N+(j<<20&4294967295|j>>>12),j=A+(k^N^C)+O[5]+4294588738&4294967295,A=k+(j<<4&4294967295|j>>>28),j=C+(A^k^N)+O[8]+2272392833&4294967295,C=A+(j<<11&4294967295|j>>>21),j=N+(C^A^k)+O[11]+1839030562&4294967295,N=C+(j<<16&4294967295|j>>>16),j=k+(N^C^A)+O[14]+4259657740&4294967295,k=N+(j<<23&4294967295|j>>>9),j=A+(k^N^C)+O[1]+2763975236&4294967295,A=k+(j<<4&4294967295|j>>>28),j=C+(A^k^N)+O[4]+1272893353&4294967295,C=A+(j<<11&4294967295|j>>>21),j=N+(C^A^k)+O[7]+4139469664&4294967295,N=C+(j<<16&4294967295|j>>>16),j=k+(N^C^A)+O[10]+3200236656&4294967295,k=N+(j<<23&4294967295|j>>>9),j=A+(k^N^C)+O[13]+681279174&4294967295,A=k+(j<<4&4294967295|j>>>28),j=C+(A^k^N)+O[0]+3936430074&4294967295,C=A+(j<<11&4294967295|j>>>21),j=N+(C^A^k)+O[3]+3572445317&4294967295,N=C+(j<<16&4294967295|j>>>16),j=k+(N^C^A)+O[6]+76029189&4294967295,k=N+(j<<23&4294967295|j>>>9),j=A+(k^N^C)+O[9]+3654602809&4294967295,A=k+(j<<4&4294967295|j>>>28),j=C+(A^k^N)+O[12]+3873151461&4294967295,C=A+(j<<11&4294967295|j>>>21),j=N+(C^A^k)+O[15]+530742520&4294967295,N=C+(j<<16&4294967295|j>>>16),j=k+(N^C^A)+O[2]+3299628645&4294967295,k=N+(j<<23&4294967295|j>>>9),j=A+(N^(k|~C))+O[0]+4096336452&4294967295,A=k+(j<<6&4294967295|j>>>26),j=C+(k^(A|~N))+O[7]+1126891415&4294967295,C=A+(j<<10&4294967295|j>>>22),j=N+(A^(C|~k))+O[14]+2878612391&4294967295,N=C+(j<<15&4294967295|j>>>17),j=k+(C^(N|~A))+O[5]+4237533241&4294967295,k=N+(j<<21&4294967295|j>>>11),j=A+(N^(k|~C))+O[12]+1700485571&4294967295,A=k+(j<<6&4294967295|j>>>26),j=C+(k^(A|~N))+O[3]+2399980690&4294967295,C=A+(j<<10&4294967295|j>>>22),j=N+(A^(C|~k))+O[10]+4293915773&4294967295,N=C+(j<<15&4294967295|j>>>17),j=k+(C^(N|~A))+O[1]+2240044497&4294967295,k=N+(j<<21&4294967295|j>>>11),j=A+(N^(k|~C))+O[8]+1873313359&4294967295,A=k+(j<<6&4294967295|j>>>26),j=C+(k^(A|~N))+O[15]+4264355552&4294967295,C=A+(j<<10&4294967295|j>>>22),j=N+(A^(C|~k))+O[6]+2734768916&4294967295,N=C+(j<<15&4294967295|j>>>17),j=k+(C^(N|~A))+O[13]+1309151649&4294967295,k=N+(j<<21&4294967295|j>>>11),j=A+(N^(k|~C))+O[4]+4149444226&4294967295,A=k+(j<<6&4294967295|j>>>26),j=C+(k^(A|~N))+O[11]+3174756917&4294967295,C=A+(j<<10&4294967295|j>>>22),j=N+(A^(C|~k))+O[2]+718787259&4294967295,N=C+(j<<15&4294967295|j>>>17),j=k+(C^(N|~A))+O[9]+3951481745&4294967295,T.g[0]=T.g[0]+A&4294967295,T.g[1]=T.g[1]+(N+(j<<21&4294967295|j>>>11))&4294967295,T.g[2]=T.g[2]+N&4294967295,T.g[3]=T.g[3]+C&4294967295}r.prototype.v=function(T,A){A===void 0&&(A=T.length);const k=A-this.blockSize,O=this.C;let N=this.h,C=0;for(;C<A;){if(N==0)for(;C<=k;)i(this,T,C),C+=this.blockSize;if(typeof T=="string"){for(;C<A;)if(O[N++]=T.charCodeAt(C++),N==this.blockSize){i(this,O),N=0;break}}else for(;C<A;)if(O[N++]=T[C++],N==this.blockSize){i(this,O),N=0;break}}this.h=N,this.o+=A},r.prototype.A=function(){var T=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);T[0]=128;for(var A=1;A<T.length-8;++A)T[A]=0;A=this.o*8;for(var k=T.length-8;k<T.length;++k)T[k]=A&255,A/=256;for(this.v(T),T=Array(16),A=0,k=0;k<4;++k)for(let O=0;O<32;O+=8)T[A++]=this.g[k]>>>O&255;return T};function o(T,A){var k=a;return Object.prototype.hasOwnProperty.call(k,T)?k[T]:k[T]=A(T)}function s(T,A){this.h=A;const k=[];let O=!0;for(let N=T.length-1;N>=0;N--){const C=T[N]|0;O&&C==A||(k[N]=C,O=!1)}this.g=k}var a={};function l(T){return-128<=T&&T<128?o(T,function(A){return new s([A|0],A<0?-1:0)}):new s([T|0],T<0?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return d;if(T<0)return y(c(-T));const A=[];let k=1;for(let O=0;T>=k;O++)A[O]=T/k|0,k*=4294967296;return new s(A,0)}function u(T,A){if(T.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(T.charAt(0)=="-")return y(u(T.substring(1),A));if(T.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=c(Math.pow(A,8));let O=d;for(let C=0;C<T.length;C+=8){var N=Math.min(8,T.length-C);const j=parseInt(T.substring(C,C+N),A);N<8?(N=c(Math.pow(A,N)),O=O.j(N).add(c(j))):(O=O.j(k),O=O.add(c(j)))}return O}var d=l(0),h=l(1),p=l(16777216);t=s.prototype,t.m=function(){if(m(this))return-y(this).m();let T=0,A=1;for(let k=0;k<this.g.length;k++){const O=this.i(k);T+=(O>=0?O:4294967296+O)*A,A*=4294967296}return T},t.toString=function(T){if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(v(this))return"0";if(m(this))return"-"+y(this).toString(T);const A=c(Math.pow(T,6));var k=this;let O="";for(;;){const N=E(k,A).g;k=b(k,N.j(A));let C=((k.g.length>0?k.g[0]:k.h)>>>0).toString(T);if(k=N,v(k))return C+O;for(;C.length<6;)C="0"+C;O=C+O}},t.i=function(T){return T<0?0:T<this.g.length?this.g[T]:this.h};function v(T){if(T.h!=0)return!1;for(let A=0;A<T.g.length;A++)if(T.g[A]!=0)return!1;return!0}function m(T){return T.h==-1}t.l=function(T){return T=b(this,T),m(T)?-1:v(T)?0:1};function y(T){const A=T.g.length,k=[];for(let O=0;O<A;O++)k[O]=~T.g[O];return new s(k,~T.h).add(h)}t.abs=function(){return m(this)?y(this):this},t.add=function(T){const A=Math.max(this.g.length,T.g.length),k=[];let O=0;for(let N=0;N<=A;N++){let C=O+(this.i(N)&65535)+(T.i(N)&65535),j=(C>>>16)+(this.i(N)>>>16)+(T.i(N)>>>16);O=j>>>16,C&=65535,j&=65535,k[N]=j<<16|C}return new s(k,k[k.length-1]&-2147483648?-1:0)};function b(T,A){return T.add(y(A))}t.j=function(T){if(v(this)||v(T))return d;if(m(this))return m(T)?y(this).j(y(T)):y(y(this).j(T));if(m(T))return y(this.j(y(T)));if(this.l(p)<0&&T.l(p)<0)return c(this.m()*T.m());const A=this.g.length+T.g.length,k=[];for(var O=0;O<2*A;O++)k[O]=0;for(O=0;O<this.g.length;O++)for(let N=0;N<T.g.length;N++){const C=this.i(O)>>>16,j=this.i(O)&65535,$=T.i(N)>>>16,B=T.i(N)&65535;k[2*O+2*N]+=j*B,x(k,2*O+2*N),k[2*O+2*N+1]+=C*B,x(k,2*O+2*N+1),k[2*O+2*N+1]+=j*$,x(k,2*O+2*N+1),k[2*O+2*N+2]+=C*$,x(k,2*O+2*N+2)}for(T=0;T<A;T++)k[T]=k[2*T+1]<<16|k[2*T];for(T=A;T<2*A;T++)k[T]=0;return new s(k,0)};function x(T,A){for(;(T[A]&65535)!=T[A];)T[A+1]+=T[A]>>>16,T[A]&=65535,A++}function w(T,A){this.g=T,this.h=A}function E(T,A){if(v(A))throw Error("division by zero");if(v(T))return new w(d,d);if(m(T))return A=E(y(T),A),new w(y(A.g),y(A.h));if(m(A))return A=E(T,y(A)),new w(y(A.g),A.h);if(T.g.length>30){if(m(T)||m(A))throw Error("slowDivide_ only works with positive integers.");for(var k=h,O=A;O.l(T)<=0;)k=S(k),O=S(O);var N=P(k,1),C=P(O,1);for(O=P(O,2),k=P(k,2);!v(O);){var j=C.add(O);j.l(T)<=0&&(N=N.add(k),C=j),O=P(O,1),k=P(k,1)}return A=b(T,N.j(A)),new w(N,A)}for(N=d;T.l(A)>=0;){for(k=Math.max(1,Math.floor(T.m()/A.m())),O=Math.ceil(Math.log(k)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),C=c(k),j=C.j(A);m(j)||j.l(T)>0;)k-=O,C=c(k),j=C.j(A);v(C)&&(C=h),N=N.add(C),T=b(T,j)}return new w(N,T)}t.B=function(T){return E(this,T).h},t.and=function(T){const A=Math.max(this.g.length,T.g.length),k=[];for(let O=0;O<A;O++)k[O]=this.i(O)&T.i(O);return new s(k,this.h&T.h)},t.or=function(T){const A=Math.max(this.g.length,T.g.length),k=[];for(let O=0;O<A;O++)k[O]=this.i(O)|T.i(O);return new s(k,this.h|T.h)},t.xor=function(T){const A=Math.max(this.g.length,T.g.length),k=[];for(let O=0;O<A;O++)k[O]=this.i(O)^T.i(O);return new s(k,this.h^T.h)};function S(T){const A=T.g.length+1,k=[];for(let O=0;O<A;O++)k[O]=T.i(O)<<1|T.i(O-1)>>>31;return new s(k,T.h)}function P(T,A){const k=A>>5;A%=32;const O=T.g.length-k,N=[];for(let C=0;C<O;C++)N[C]=A>0?T.i(C+k)>>>A|T.i(C+k+1)<<32-A:T.i(C+k);return new s(N,T.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Nq=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=u,Ha=s}).apply(typeof x$<"u"?x$:typeof self<"u"?self:typeof window<"u"?window:{});var Ov=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Oq,Op,jq,C0,KA,Rq,Dq,Mq;(function(){var t,e=Object.defineProperty;function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ov=="object"&&Ov];for(var I=0;I<g.length;++I){var R=g[I];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var r=n(this);function i(g,I){if(I)e:{var R=r;g=g.split(".");for(var D=0;D<g.length-1;D++){var q=g[D];if(!(q in R))break e;R=R[q]}g=g[g.length-1],D=R[g],I=I(D),I!=D&&I!=null&&e(R,g,{configurable:!0,writable:!0,value:I})}}i("Symbol.dispose",function(g){return g||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(g){return g||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(g){return g||function(I){var R=[],D;for(D in I)Object.prototype.hasOwnProperty.call(I,D)&&R.push([D,I[D]]);return R}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},s=this||self;function a(g){var I=typeof g;return I=="object"&&g!=null||I=="function"}function l(g,I,R){return g.call.apply(g.bind,arguments)}function c(g,I,R){return c=l,c.apply(null,arguments)}function u(g,I){var R=Array.prototype.slice.call(arguments,1);return function(){var D=R.slice();return D.push.apply(D,arguments),g.apply(this,D)}}function d(g,I){function R(){}R.prototype=I.prototype,g.Z=I.prototype,g.prototype=new R,g.prototype.constructor=g,g.Ob=function(D,q,X){for(var he=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)he[Me-2]=arguments[Me];return I.prototype[q].apply(D,he)}}var h=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?g=>g&&AsyncContext.Snapshot.wrap(g):g=>g;function p(g){const I=g.length;if(I>0){const R=Array(I);for(let D=0;D<I;D++)R[D]=g[D];return R}return[]}function v(g,I){for(let D=1;D<arguments.length;D++){const q=arguments[D];var R=typeof q;if(R=R!="object"?R:q?Array.isArray(q)?"array":R:"null",R=="array"||R=="object"&&typeof q.length=="number"){R=g.length||0;const X=q.length||0;g.length=R+X;for(let he=0;he<X;he++)g[R+he]=q[he]}else g.push(q)}}class m{constructor(I,R){this.i=I,this.j=R,this.h=0,this.g=null}get(){let I;return this.h>0?(this.h--,I=this.g,this.g=I.next,I.next=null):I=this.i(),I}}function y(g){s.setTimeout(()=>{throw g},0)}function b(){var g=T;let I=null;return g.g&&(I=g.g,g.g=g.g.next,g.g||(g.h=null),I.next=null),I}class x{constructor(){this.h=this.g=null}add(I,R){const D=w.get();D.set(I,R),this.h?this.h.next=D:this.g=D,this.h=D}}var w=new m(()=>new E,g=>g.reset());class E{constructor(){this.next=this.g=this.h=null}set(I,R){this.h=I,this.g=R,this.next=null}reset(){this.next=this.g=this.h=null}}let S,P=!1,T=new x,A=()=>{const g=Promise.resolve(void 0);S=()=>{g.then(k)}};function k(){for(var g;g=b();){try{g.h.call(g.g)}catch(R){y(R)}var I=w;I.j(g),I.h<100&&(I.h++,g.next=I.g,I.g=g)}P=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(g,I){this.type=g,this.g=this.target=I,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var C=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var g=!1,I=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const R=()=>{};s.addEventListener("test",R,I),s.removeEventListener("test",R,I)}catch{}return g}();function j(g){return/^[\s\xa0]*$/.test(g)}function $(g,I){N.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g&&this.init(g,I)}d($,N),$.prototype.init=function(g,I){const R=this.type=g.type,D=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;this.target=g.target||g.srcElement,this.g=I,I=g.relatedTarget,I||(R=="mouseover"?I=g.fromElement:R=="mouseout"&&(I=g.toElement)),this.relatedTarget=I,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=g.pointerType,this.state=g.state,this.i=g,g.defaultPrevented&&$.Z.h.call(this)},$.prototype.h=function(){$.Z.h.call(this);const g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var B="closure_listenable_"+(Math.random()*1e6|0),U=0;function z(g,I,R,D,q){this.listener=g,this.proxy=null,this.src=I,this.type=R,this.capture=!!D,this.ha=q,this.key=++U,this.da=this.fa=!1}function V(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function L(g,I,R){for(const D in g)I.call(R,g[D],D,g)}function Y(g,I){for(const R in g)I.call(void 0,g[R],R,g)}function K(g){const I={};for(const R in g)I[R]=g[R];return I}const F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function te(g,I){let R,D;for(let q=1;q<arguments.length;q++){D=arguments[q];for(R in D)g[R]=D[R];for(let X=0;X<F.length;X++)R=F[X],Object.prototype.hasOwnProperty.call(D,R)&&(g[R]=D[R])}}function ie(g){this.src=g,this.g={},this.h=0}ie.prototype.add=function(g,I,R,D,q){const X=g.toString();g=this.g[X],g||(g=this.g[X]=[],this.h++);const he=ue(g,I,D,q);return he>-1?(I=g[he],R||(I.fa=!1)):(I=new z(I,this.src,X,!!D,q),I.fa=R,g.push(I)),I};function pe(g,I){const R=I.type;if(R in g.g){var D=g.g[R],q=Array.prototype.indexOf.call(D,I,void 0),X;(X=q>=0)&&Array.prototype.splice.call(D,q,1),X&&(V(I),g.g[R].length==0&&(delete g.g[R],g.h--))}}function ue(g,I,R,D){for(let q=0;q<g.length;++q){const X=g[q];if(!X.da&&X.listener==I&&X.capture==!!R&&X.ha==D)return q}return-1}var oe="closure_lm_"+(Math.random()*1e6|0),ce={};function Q(g,I,R,D,q){if(D&&D.once)return H(g,I,R,D,q);if(Array.isArray(I)){for(let X=0;X<I.length;X++)Q(g,I[X],R,D,q);return null}return R=an(R),g&&g[B]?g.J(I,R,a(D)?!!D.capture:!!D,q):Z(g,I,R,!1,D,q)}function Z(g,I,R,D,q,X){if(!I)throw Error("Invalid event type");const he=a(q)?!!q.capture:!!q;let Me=ft(g);if(Me||(g[oe]=Me=new ie(g)),R=Me.add(I,R,D,he,X),R.proxy)return R;if(D=se(),R.proxy=D,D.src=g,D.listener=R,g.addEventListener)C||(q=he),q===void 0&&(q=!1),g.addEventListener(I.toString(),D,q);else if(g.attachEvent)g.attachEvent(qe(I.toString()),D);else if(g.addListener&&g.removeListener)g.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return R}function se(){function g(R){return I.call(g.src,g.listener,R)}const I=Ge;return g}function H(g,I,R,D,q){if(Array.isArray(I)){for(let X=0;X<I.length;X++)H(g,I[X],R,D,q);return null}return R=an(R),g&&g[B]?g.K(I,R,a(D)?!!D.capture:!!D,q):Z(g,I,R,!0,D,q)}function Se(g,I,R,D,q){if(Array.isArray(I))for(var X=0;X<I.length;X++)Se(g,I[X],R,D,q);else D=a(D)?!!D.capture:!!D,R=an(R),g&&g[B]?(g=g.i,X=String(I).toString(),X in g.g&&(I=g.g[X],R=ue(I,R,D,q),R>-1&&(V(I[R]),Array.prototype.splice.call(I,R,1),I.length==0&&(delete g.g[X],g.h--)))):g&&(g=ft(g))&&(I=g.g[I.toString()],g=-1,I&&(g=ue(I,R,D,q)),(R=g>-1?I[g]:null)&&be(R))}function be(g){if(typeof g!="number"&&g&&!g.da){var I=g.src;if(I&&I[B])pe(I.i,g);else{var R=g.type,D=g.proxy;I.removeEventListener?I.removeEventListener(R,D,g.capture):I.detachEvent?I.detachEvent(qe(R),D):I.addListener&&I.removeListener&&I.removeListener(D),(R=ft(I))?(pe(R,g),R.h==0&&(R.src=null,I[oe]=null)):V(g)}}}function qe(g){return g in ce?ce[g]:ce[g]="on"+g}function Ge(g,I){if(g.da)g=!0;else{I=new $(I,this);const R=g.listener,D=g.ha||g.src;g.fa&&be(g),g=R.call(D,I)}return g}function ft(g){return g=g[oe],g instanceof ie?g:null}var Rn="__closure_events_fn_"+(Math.random()*1e9>>>0);function an(g){return typeof g=="function"?g:(g[Rn]||(g[Rn]=function(I){return g.handleEvent(I)}),g[Rn])}function et(){O.call(this),this.i=new ie(this),this.M=this,this.G=null}d(et,O),et.prototype[B]=!0,et.prototype.removeEventListener=function(g,I,R,D){Se(this,g,I,R,D)};function lt(g,I){var R,D=g.G;if(D)for(R=[];D;D=D.G)R.push(D);if(g=g.M,D=I.type||I,typeof I=="string")I=new N(I,g);else if(I instanceof N)I.target=I.target||g;else{var q=I;I=new N(D,g),te(I,q)}q=!0;let X,he;if(R)for(he=R.length-1;he>=0;he--)X=I.g=R[he],q=Dn(X,D,!0,I)&&q;if(X=I.g=g,q=Dn(X,D,!0,I)&&q,q=Dn(X,D,!1,I)&&q,R)for(he=0;he<R.length;he++)X=I.g=R[he],q=Dn(X,D,!1,I)&&q}et.prototype.N=function(){if(et.Z.N.call(this),this.i){var g=this.i;for(const I in g.g){const R=g.g[I];for(let D=0;D<R.length;D++)V(R[D]);delete g.g[I],g.h--}}this.G=null},et.prototype.J=function(g,I,R,D){return this.i.add(String(g),I,!1,R,D)},et.prototype.K=function(g,I,R,D){return this.i.add(String(g),I,!0,R,D)};function Dn(g,I,R,D){if(I=g.i.g[String(I)],!I)return!0;I=I.concat();let q=!0;for(let X=0;X<I.length;++X){const he=I[X];if(he&&!he.da&&he.capture==R){const Me=he.listener,un=he.ha||he.src;he.fa&&pe(g.i,he),q=Me.call(un,D)!==!1&&q}}return q&&!D.defaultPrevented}function Ks(g,I){if(typeof g!="function")if(g&&typeof g.handleEvent=="function")g=c(g.handleEvent,g);else throw Error("Invalid listener argument");return Number(I)>2147483647?-1:s.setTimeout(g,I||0)}function Ys(g){g.g=Ks(()=>{g.g=null,g.i&&(g.i=!1,Ys(g))},g.l);const I=g.h;g.h=null,g.m.apply(null,I)}class Nu extends O{constructor(I,R){super(),this.m=I,this.l=R,this.h=null,this.i=!1,this.g=null}j(I){this.h=arguments,this.g?this.i=!0:Ys(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ol(g){O.call(this),this.h=g,this.g={}}d(Ol,O);var Go=[];function Ho(g){L(g.g,function(I,R){this.g.hasOwnProperty(R)&&be(I)},g),g.g={}}Ol.prototype.N=function(){Ol.Z.N.call(this),Ho(this)},Ol.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ko=s.JSON.stringify,zy=s.JSON.parse,uo=class{stringify(g){return s.JSON.stringify(g,void 0)}parse(g){return s.JSON.parse(g,void 0)}};function Dh(){}function Wy(){}var jl={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Rl(){N.call(this,"d")}d(Rl,N);function Ou(){N.call(this,"c")}d(Ou,N);var Yo={},Mh=null;function ju(){return Mh=Mh||new et}Yo.Ia="serverreachability";function qy(g){N.call(this,Yo.Ia,g)}d(qy,N);function Dl(g){const I=ju();lt(I,new qy(I))}Yo.STAT_EVENT="statevent";function ln(g,I){N.call(this,Yo.STAT_EVENT,g),this.stat=I}d(ln,N);function nt(g){const I=ju();lt(I,new ln(I,g))}Yo.Ja="timingevent";function Un(g,I){N.call(this,Yo.Ja,g),this.size=I}d(Un,N);function vr(g,I){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){g()},I)}function _n(){this.g=!0}_n.prototype.ua=function(){this.g=!1};function rr(g,I,R,D,q,X){g.info(function(){if(g.g)if(X){var he="",Me=X.split("&");for(let ht=0;ht<Me.length;ht++){var un=Me[ht].split("=");if(un.length>1){const Sn=un[0];un=un[1];const po=Sn.split("_");he=po.length>=2&&po[1]=="type"?he+(Sn+"="+un+"&"):he+(Sn+"=redacted&")}}}else he=null;else he=X;return"XMLHTTP REQ ("+D+") [attempt "+q+"]: "+I+`
`+R+`
`+he})}function si(g,I,R,D,q,X,he){g.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+q+"]: "+I+`
`+R+`
`+X+" "+he})}function jr(g,I,R,D){g.info(function(){return"XMLHTTP TEXT ("+I+"): "+fo(g,R)+(D?" "+D:"")})}function cn(g,I){g.info(function(){return"TIMEOUT: "+I})}_n.prototype.info=function(){};function fo(g,I){if(!g.g)return I;if(!I)return null;try{const X=JSON.parse(I);if(X){for(g=0;g<X.length;g++)if(Array.isArray(X[g])){var R=X[g];if(!(R.length<2)){var D=R[1];if(Array.isArray(D)&&!(D.length<1)){var q=D[0];if(q!="noop"&&q!="stop"&&q!="close")for(let he=1;he<D.length;he++)D[he]=""}}}}return Ko(X)}catch{return I}}var ir={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ai={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Xs;function Xo(){}d(Xo,Dh),Xo.prototype.g=function(){return new XMLHttpRequest},Xs=new Xo;function xr(g){return encodeURIComponent(String(g))}function Ml(g){var I=1;g=g.split(":");const R=[];for(;I>0&&g.length;)R.push(g.shift()),I--;return g.length&&R.push(g.join(":")),R}function li(g,I,R,D){this.j=g,this.i=I,this.l=R,this.S=D||1,this.V=new Ol(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Xj}function Xj(){this.i=null,this.g="",this.h=!1}var Qj={},H1={};function K1(g,I,R){g.M=1,g.A=Hy(ho(I)),g.u=R,g.R=!0,Jj(g,null)}function Jj(g,I){g.F=Date.now(),Gy(g),g.B=ho(g.A);var R=g.B,D=g.S;Array.isArray(D)||(D=[String(D)]),dR(R.i,"t",D),g.C=0,R=g.j.L,g.h=new Xj,g.g=CR(g.j,R?I:null,!g.u),g.P>0&&(g.O=new Nu(c(g.Y,g,g.g),g.P)),I=g.V,R=g.g,D=g.ba;var q="readystatechange";Array.isArray(q)||(q&&(Go[0]=q.toString()),q=Go);for(let X=0;X<q.length;X++){const he=Q(R,q[X],D||I.handleEvent,!1,I.h||I);if(!he)break;I.g[he.key]=he}I=g.J?K(g.J):{},g.u?(g.v||(g.v="POST"),I["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.B,g.v,g.u,I)):(g.v="GET",g.g.ea(g.B,g.v,null,I)),Dl(),rr(g.i,g.v,g.B,g.l,g.S,g.u)}li.prototype.ba=function(g){g=g.target;const I=this.O;I&&Zs(g)==3?I.j():this.Y(g)},li.prototype.Y=function(g){try{if(g==this.g)e:{const Me=Zs(this.g),un=this.g.ya(),ht=this.g.ca();if(!(Me<3)&&(Me!=3||this.g&&(this.h.h||this.g.la()||vR(this.g)))){this.K||Me!=4||un==7||(un==8||ht<=0?Dl(3):Dl(2)),Y1(this);var I=this.g.ca();this.X=I;var R=lZ(this);if(this.o=I==200,si(this.i,this.v,this.B,this.l,this.S,Me,I),this.o){if(this.U&&!this.L){t:{if(this.g){var D,q=this.g;if((D=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(D)){var X=D;break t}}X=null}if(g=X)jr(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,X1(this,g);else{this.o=!1,this.m=3,nt(12),$l(this),$h(this);break e}}if(this.R){g=!0;let Sn;for(;!this.K&&this.C<R.length;)if(Sn=cZ(this,R),Sn==H1){Me==4&&(this.m=4,nt(14),g=!1),jr(this.i,this.l,null,"[Incomplete Response]");break}else if(Sn==Qj){this.m=4,nt(15),jr(this.i,this.l,R,"[Invalid Chunk]"),g=!1;break}else jr(this.i,this.l,Sn,null),X1(this,Sn);if(Zj(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Me!=4||R.length!=0||this.h.h||(this.m=1,nt(16),g=!1),this.o=this.o&&g,!g)jr(this.i,this.l,R,"[Invalid Chunked Response]"),$l(this),$h(this);else if(R.length>0&&!this.W){this.W=!0;var he=this.j;he.g==this&&he.aa&&!he.P&&(he.j.info("Great, no buffering proxy detected. Bytes received: "+R.length),iS(he),he.P=!0,nt(11))}}else jr(this.i,this.l,R,null),X1(this,R);Me==4&&$l(this),this.o&&!this.K&&(Me==4?ER(this.j,this):(this.o=!1,Gy(this)))}else SZ(this.g),I==400&&R.indexOf("Unknown SID")>0?(this.m=3,nt(12)):(this.m=0,nt(13)),$l(this),$h(this)}}}catch{}finally{}};function lZ(g){if(!Zj(g))return g.g.la();const I=vR(g.g);if(I==="")return"";let R="";const D=I.length,q=Zs(g.g)==4;if(!g.h.i){if(typeof TextDecoder>"u")return $l(g),$h(g),"";g.h.i=new s.TextDecoder}for(let X=0;X<D;X++)g.h.h=!0,R+=g.h.i.decode(I[X],{stream:!(q&&X==D-1)});return I.length=0,g.h.g+=R,g.C=0,g.h.g}function Zj(g){return g.g?g.v=="GET"&&g.M!=2&&g.j.Aa:!1}function cZ(g,I){var R=g.C,D=I.indexOf(`
`,R);return D==-1?H1:(R=Number(I.substring(R,D)),isNaN(R)?Qj:(D+=1,D+R>I.length?H1:(I=I.slice(D,D+R),g.C=D+R,I)))}li.prototype.cancel=function(){this.K=!0,$l(this)};function Gy(g){g.T=Date.now()+g.H,eR(g,g.H)}function eR(g,I){if(g.D!=null)throw Error("WatchDog timer not null");g.D=vr(c(g.aa,g),I)}function Y1(g){g.D&&(s.clearTimeout(g.D),g.D=null)}li.prototype.aa=function(){this.D=null;const g=Date.now();g-this.T>=0?(cn(this.i,this.B),this.M!=2&&(Dl(),nt(17)),$l(this),this.m=2,$h(this)):eR(this,this.T-g)};function $h(g){g.j.I==0||g.K||ER(g.j,g)}function $l(g){Y1(g);var I=g.O;I&&typeof I.dispose=="function"&&I.dispose(),g.O=null,Ho(g.V),g.g&&(I=g.g,g.g=null,I.abort(),I.dispose())}function X1(g,I){try{var R=g.j;if(R.I!=0&&(R.g==g||Q1(R.h,g))){if(!g.L&&Q1(R.h,g)&&R.I==3){try{var D=R.Ba.g.parse(I)}catch{D=null}if(Array.isArray(D)&&D.length==3){var q=D;if(q[0]==0){e:if(!R.v){if(R.g)if(R.g.F+3e3<g.F)Jy(R),Xy(R);else break e;rS(R),nt(18)}}else R.xa=q[1],0<R.xa-R.K&&q[2]<37500&&R.F&&R.A==0&&!R.C&&(R.C=vr(c(R.Va,R),6e3));rR(R.h)<=1&&R.ta&&(R.ta=void 0)}else Vl(R,11)}else if((g.L||R.g==g)&&Jy(R),!j(I))for(q=R.Ba.g.parse(I),I=0;I<q.length;I++){let ht=q[I];const Sn=ht[0];if(!(Sn<=R.K))if(R.K=Sn,ht=ht[1],R.I==2)if(ht[0]=="c"){R.M=ht[1],R.ba=ht[2];const po=ht[3];po!=null&&(R.ka=po,R.j.info("VER="+R.ka));const Fl=ht[4];Fl!=null&&(R.za=Fl,R.j.info("SVER="+R.za));const ea=ht[5];ea!=null&&typeof ea=="number"&&ea>0&&(D=1.5*ea,R.O=D,R.j.info("backChannelRequestTimeoutMs_="+D)),D=R;const ta=g.g;if(ta){const ev=ta.g?ta.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ev){var X=D.h;X.g||ev.indexOf("spdy")==-1&&ev.indexOf("quic")==-1&&ev.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(J1(X,X.h),X.h=null))}if(D.G){const oS=ta.g?ta.g.getResponseHeader("X-HTTP-Session-Id"):null;oS&&(D.wa=oS,St(D.J,D.G,oS))}}R.I=3,R.l&&R.l.ra(),R.aa&&(R.T=Date.now()-g.F,R.j.info("Handshake RTT: "+R.T+"ms")),D=R;var he=g;if(D.na=IR(D,D.L?D.ba:null,D.W),he.L){iR(D.h,he);var Me=he,un=D.O;un&&(Me.H=un),Me.D&&(Y1(Me),Gy(Me)),D.g=he}else SR(D);R.i.length>0&&Qy(R)}else ht[0]!="stop"&&ht[0]!="close"||Vl(R,7);else R.I==3&&(ht[0]=="stop"||ht[0]=="close"?ht[0]=="stop"?Vl(R,7):nS(R):ht[0]!="noop"&&R.l&&R.l.qa(ht),R.A=0)}}Dl(4)}catch{}}var uZ=class{constructor(g,I){this.g=g,this.map=I}};function tR(g){this.l=g||10,s.PerformanceNavigationTiming?(g=s.performance.getEntriesByType("navigation"),g=g.length>0&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function nR(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function rR(g){return g.h?1:g.g?g.g.size:0}function Q1(g,I){return g.h?g.h==I:g.g?g.g.has(I):!1}function J1(g,I){g.g?g.g.add(I):g.h=I}function iR(g,I){g.h&&g.h==I?g.h=null:g.g&&g.g.has(I)&&g.g.delete(I)}tR.prototype.cancel=function(){if(this.i=oR(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function oR(g){if(g.h!=null)return g.i.concat(g.h.G);if(g.g!=null&&g.g.size!==0){let I=g.i;for(const R of g.g.values())I=I.concat(R.G);return I}return p(g.i)}var sR=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dZ(g,I){if(g){g=g.split("&");for(let R=0;R<g.length;R++){const D=g[R].indexOf("=");let q,X=null;D>=0?(q=g[R].substring(0,D),X=g[R].substring(D+1)):q=g[R],I(q,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function Qs(g){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let I;g instanceof Qs?(this.l=g.l,Lh(this,g.j),this.o=g.o,this.g=g.g,Vh(this,g.u),this.h=g.h,Z1(this,fR(g.i)),this.m=g.m):g&&(I=String(g).match(sR))?(this.l=!1,Lh(this,I[1]||"",!0),this.o=Fh(I[2]||""),this.g=Fh(I[3]||"",!0),Vh(this,I[4]),this.h=Fh(I[5]||"",!0),Z1(this,I[6]||"",!0),this.m=Fh(I[7]||"")):(this.l=!1,this.i=new Uh(null,this.l))}Qs.prototype.toString=function(){const g=[];var I=this.j;I&&g.push(Bh(I,aR,!0),":");var R=this.g;return(R||I=="file")&&(g.push("//"),(I=this.o)&&g.push(Bh(I,aR,!0),"@"),g.push(xr(R).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R=this.u,R!=null&&g.push(":",String(R))),(R=this.h)&&(this.g&&R.charAt(0)!="/"&&g.push("/"),g.push(Bh(R,R.charAt(0)=="/"?pZ:hZ,!0))),(R=this.i.toString())&&g.push("?",R),(R=this.m)&&g.push("#",Bh(R,gZ)),g.join("")},Qs.prototype.resolve=function(g){const I=ho(this);let R=!!g.j;R?Lh(I,g.j):R=!!g.o,R?I.o=g.o:R=!!g.g,R?I.g=g.g:R=g.u!=null;var D=g.h;if(R)Vh(I,g.u);else if(R=!!g.h){if(D.charAt(0)!="/")if(this.g&&!this.h)D="/"+D;else{var q=I.h.lastIndexOf("/");q!=-1&&(D=I.h.slice(0,q+1)+D)}if(q=D,q==".."||q==".")D="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){D=q.lastIndexOf("/",0)==0,q=q.split("/");const X=[];for(let he=0;he<q.length;){const Me=q[he++];Me=="."?D&&he==q.length&&X.push(""):Me==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),D&&he==q.length&&X.push("")):(X.push(Me),D=!0)}D=X.join("/")}else D=q}return R?I.h=D:R=g.i.toString()!=="",R?Z1(I,fR(g.i)):R=!!g.m,R&&(I.m=g.m),I};function ho(g){return new Qs(g)}function Lh(g,I,R){g.j=R?Fh(I,!0):I,g.j&&(g.j=g.j.replace(/:$/,""))}function Vh(g,I){if(I){if(I=Number(I),isNaN(I)||I<0)throw Error("Bad port number "+I);g.u=I}else g.u=null}function Z1(g,I,R){I instanceof Uh?(g.i=I,yZ(g.i,g.l)):(R||(I=Bh(I,mZ)),g.i=new Uh(I,g.l))}function St(g,I,R){g.i.set(I,R)}function Hy(g){return St(g,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),g}function Fh(g,I){return g?I?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Bh(g,I,R){return typeof g=="string"?(g=encodeURI(g).replace(I,fZ),R&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function fZ(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var aR=/[#\/\?@]/g,hZ=/[#\?:]/g,pZ=/[#\?]/g,mZ=/[#\?@]/g,gZ=/#/g;function Uh(g,I){this.h=this.g=null,this.i=g||null,this.j=!!I}function Ll(g){g.g||(g.g=new Map,g.h=0,g.i&&dZ(g.i,function(I,R){g.add(decodeURIComponent(I.replace(/\+/g," ")),R)}))}t=Uh.prototype,t.add=function(g,I){Ll(this),this.i=null,g=Ru(this,g);let R=this.g.get(g);return R||this.g.set(g,R=[]),R.push(I),this.h+=1,this};function lR(g,I){Ll(g),I=Ru(g,I),g.g.has(I)&&(g.i=null,g.h-=g.g.get(I).length,g.g.delete(I))}function cR(g,I){return Ll(g),I=Ru(g,I),g.g.has(I)}t.forEach=function(g,I){Ll(this),this.g.forEach(function(R,D){R.forEach(function(q){g.call(I,q,D,this)},this)},this)};function uR(g,I){Ll(g);let R=[];if(typeof I=="string")cR(g,I)&&(R=R.concat(g.g.get(Ru(g,I))));else for(g=Array.from(g.g.values()),I=0;I<g.length;I++)R=R.concat(g[I]);return R}t.set=function(g,I){return Ll(this),this.i=null,g=Ru(this,g),cR(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[I]),this.h+=1,this},t.get=function(g,I){return g?(g=uR(this,g),g.length>0?String(g[0]):I):I};function dR(g,I,R){lR(g,I),R.length>0&&(g.i=null,g.g.set(Ru(g,I),p(R)),g.h+=R.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],I=Array.from(this.g.keys());for(let D=0;D<I.length;D++){var R=I[D];const q=xr(R);R=uR(this,R);for(let X=0;X<R.length;X++){let he=q;R[X]!==""&&(he+="="+xr(R[X])),g.push(he)}}return this.i=g.join("&")};function fR(g){const I=new Uh;return I.i=g.i,g.g&&(I.g=new Map(g.g),I.h=g.h),I}function Ru(g,I){return I=String(I),g.j&&(I=I.toLowerCase()),I}function yZ(g,I){I&&!g.j&&(Ll(g),g.i=null,g.g.forEach(function(R,D){const q=D.toLowerCase();D!=q&&(lR(this,D),dR(this,q,R))},g)),g.j=I}function vZ(g,I){const R=new _n;if(s.Image){const D=new Image;D.onload=u(Js,R,"TestLoadImage: loaded",!0,I,D),D.onerror=u(Js,R,"TestLoadImage: error",!1,I,D),D.onabort=u(Js,R,"TestLoadImage: abort",!1,I,D),D.ontimeout=u(Js,R,"TestLoadImage: timeout",!1,I,D),s.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=g}else I(!1)}function xZ(g,I){const R=new _n,D=new AbortController,q=setTimeout(()=>{D.abort(),Js(R,"TestPingServer: timeout",!1,I)},1e4);fetch(g,{signal:D.signal}).then(X=>{clearTimeout(q),X.ok?Js(R,"TestPingServer: ok",!0,I):Js(R,"TestPingServer: server error",!1,I)}).catch(()=>{clearTimeout(q),Js(R,"TestPingServer: error",!1,I)})}function Js(g,I,R,D,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),D(R)}catch{}}function bZ(){this.g=new uo}function eS(g){this.i=g.Sb||null,this.h=g.ab||!1}d(eS,Dh),eS.prototype.g=function(){return new Ky(this.i,this.h)};function Ky(g,I){et.call(this),this.H=g,this.o=I,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}d(Ky,et),t=Ky.prototype,t.open=function(g,I){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=g,this.D=I,this.readyState=1,Wh(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const I={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};g&&(I.body=g),(this.H||s).fetch(new Request(this.D,I)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,zh(this)),this.readyState=0},t.Pa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Wh(this)),this.g&&(this.readyState=3,Wh(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;hR(this)}else g.text().then(this.Oa.bind(this),this.ga.bind(this))};function hR(g){g.j.read().then(g.Ma.bind(g)).catch(g.ga.bind(g))}t.Ma=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var I=g.value?g.value:new Uint8Array(0);(I=this.B.decode(I,{stream:!g.done}))&&(this.response=this.responseText+=I)}g.done?zh(this):Wh(this),this.readyState==3&&hR(this)}},t.Oa=function(g){this.g&&(this.response=this.responseText=g,zh(this))},t.Na=function(g){this.g&&(this.response=g,zh(this))},t.ga=function(){this.g&&zh(this)};function zh(g){g.readyState=4,g.l=null,g.j=null,g.B=null,Wh(g)}t.setRequestHeader=function(g,I){this.A.append(g,I)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],I=this.h.entries();for(var R=I.next();!R.done;)R=R.value,g.push(R[0]+": "+R[1]),R=I.next();return g.join(`\r
`)};function Wh(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Ky.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function pR(g){let I="";return L(g,function(R,D){I+=D,I+=":",I+=R,I+=`\r
`}),I}function tS(g,I,R){e:{for(D in R){var D=!1;break e}D=!0}D||(R=pR(R),typeof g=="string"?R!=null&&xr(R):St(g,I,R))}function zt(g){et.call(this),this.headers=new Map,this.L=g||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}d(zt,et);var wZ=/^https?$/i,_Z=["POST","PUT"];t=zt.prototype,t.Fa=function(g){this.H=g},t.ea=function(g,I,R,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);I=I?I.toUpperCase():"GET",this.D=g,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Xs.g(),this.g.onreadystatechange=h(c(this.Ca,this));try{this.B=!0,this.g.open(I,String(g),!0),this.B=!1}catch(X){mR(this,X);return}if(g=R||"",R=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var q in D)R.set(q,D[q]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const X of D.keys())R.set(X,D.get(X));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(R.keys()).find(X=>X.toLowerCase()=="content-type"),q=s.FormData&&g instanceof s.FormData,!(Array.prototype.indexOf.call(_Z,I,void 0)>=0)||D||q||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,he]of R)this.g.setRequestHeader(X,he);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(g),this.v=!1}catch(X){mR(this,X)}};function mR(g,I){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=I,g.o=5,gR(g),Yy(g)}function gR(g){g.A||(g.A=!0,lt(g,"complete"),lt(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=g||7,lt(this,"complete"),lt(this,"abort"),Yy(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yy(this,!0)),zt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?yR(this):this.Xa())},t.Xa=function(){yR(this)};function yR(g){if(g.h&&typeof o<"u"){if(g.v&&Zs(g)==4)setTimeout(g.Ca.bind(g),0);else if(lt(g,"readystatechange"),Zs(g)==4){g.h=!1;try{const X=g.ca();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var I=!0;break e;default:I=!1}var R;if(!(R=I)){var D;if(D=X===0){let he=String(g.D).match(sR)[1]||null;!he&&s.self&&s.self.location&&(he=s.self.location.protocol.slice(0,-1)),D=!wZ.test(he?he.toLowerCase():"")}R=D}if(R)lt(g,"complete"),lt(g,"success");else{g.o=6;try{var q=Zs(g)>2?g.g.statusText:""}catch{q=""}g.l=q+" ["+g.ca()+"]",gR(g)}}finally{Yy(g)}}}}function Yy(g,I){if(g.g){g.m&&(clearTimeout(g.m),g.m=null);const R=g.g;g.g=null,I||lt(g,"ready");try{R.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Zs(g){return g.g?g.g.readyState:0}t.ca=function(){try{return Zs(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(g){if(this.g){var I=this.g.responseText;return g&&I.indexOf(g)==0&&(I=I.substring(g.length)),zy(I)}};function vR(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.F){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function SZ(g){const I={};g=(g.g&&Zs(g)>=2&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<g.length;D++){if(j(g[D]))continue;var R=Ml(g[D]);const q=R[0];if(R=R[1],typeof R!="string")continue;R=R.trim();const X=I[q]||[];I[q]=X,X.push(R)}Y(I,function(D){return D.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function qh(g,I,R){return R&&R.internalChannelParams&&R.internalChannelParams[g]||I}function xR(g){this.za=0,this.i=[],this.j=new _n,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=qh("failFast",!1,g),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=qh("baseRetryDelayMs",5e3,g),this.Za=qh("retryDelaySeedMs",1e4,g),this.Ta=qh("forwardChannelMaxRetries",2,g),this.va=qh("forwardChannelRequestTimeoutMs",2e4,g),this.ma=g&&g.xmlHttpFactory||void 0,this.Ua=g&&g.Rb||void 0,this.Aa=g&&g.useFetchStreams||!1,this.O=void 0,this.L=g&&g.supportsCrossDomainXhr||!1,this.M="",this.h=new tR(g&&g.concurrentRequestLimit),this.Ba=new bZ,this.S=g&&g.fastHandshake||!1,this.R=g&&g.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=g&&g.Pb||!1,g&&g.ua&&this.j.ua(),g&&g.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&g&&g.detectBufferingProxy||!1,this.ia=void 0,g&&g.longPollingTimeout&&g.longPollingTimeout>0&&(this.ia=g.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=xR.prototype,t.ka=8,t.I=1,t.connect=function(g,I,R,D){nt(0),this.W=g,this.H=I||{},R&&D!==void 0&&(this.H.OSID=R,this.H.OAID=D),this.F=this.X,this.J=IR(this,null,this.W),Qy(this)};function nS(g){if(bR(g),g.I==3){var I=g.V++,R=ho(g.J);if(St(R,"SID",g.M),St(R,"RID",I),St(R,"TYPE","terminate"),Gh(g,R),I=new li(g,g.j,I),I.M=2,I.A=Hy(ho(R)),R=!1,s.navigator&&s.navigator.sendBeacon)try{R=s.navigator.sendBeacon(I.A.toString(),"")}catch{}!R&&s.Image&&(new Image().src=I.A,R=!0),R||(I.g=CR(I.j,null),I.g.ea(I.A)),I.F=Date.now(),Gy(I)}PR(g)}function Xy(g){g.g&&(iS(g),g.g.cancel(),g.g=null)}function bR(g){Xy(g),g.v&&(s.clearTimeout(g.v),g.v=null),Jy(g),g.h.cancel(),g.m&&(typeof g.m=="number"&&s.clearTimeout(g.m),g.m=null)}function Qy(g){if(!nR(g.h)&&!g.m){g.m=!0;var I=g.Ea;S||A(),P||(S(),P=!0),T.add(I,g),g.D=0}}function TZ(g,I){return rR(g.h)>=g.h.j-(g.m?1:0)?!1:g.m?(g.i=I.G.concat(g.i),!0):g.I==1||g.I==2||g.D>=(g.Sa?0:g.Ta)?!1:(g.m=vr(c(g.Ea,g,I),AR(g,g.D)),g.D++,!0)}t.Ea=function(g){if(this.m)if(this.m=null,this.I==1){if(!g){this.V=Math.floor(Math.random()*1e5),g=this.V++;const q=new li(this,this.j,g);let X=this.o;if(this.U&&(X?(X=K(X),te(X,this.U)):X=this.U),this.u!==null||this.R||(q.J=X,X=null),this.S)e:{for(var I=0,R=0;R<this.i.length;R++){t:{var D=this.i[R];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(I+=D,I>4096){I=R;break e}if(I===4096||R===this.i.length-1){I=R+1;break e}}I=1e3}else I=1e3;I=_R(this,q,I),R=ho(this.J),St(R,"RID",g),St(R,"CVER",22),this.G&&St(R,"X-HTTP-Session-Id",this.G),Gh(this,R),X&&(this.R?I="headers="+xr(pR(X))+"&"+I:this.u&&tS(R,this.u,X)),J1(this.h,q),this.Ra&&St(R,"TYPE","init"),this.S?(St(R,"$req",I),St(R,"SID","null"),q.U=!0,K1(q,R,null)):K1(q,R,I),this.I=2}}else this.I==3&&(g?wR(this,g):this.i.length==0||nR(this.h)||wR(this))};function wR(g,I){var R;I?R=I.l:R=g.V++;const D=ho(g.J);St(D,"SID",g.M),St(D,"RID",R),St(D,"AID",g.K),Gh(g,D),g.u&&g.o&&tS(D,g.u,g.o),R=new li(g,g.j,R,g.D+1),g.u===null&&(R.J=g.o),I&&(g.i=I.G.concat(g.i)),I=_R(g,R,1e3),R.H=Math.round(g.va*.5)+Math.round(g.va*.5*Math.random()),J1(g.h,R),K1(R,D,I)}function Gh(g,I){g.H&&L(g.H,function(R,D){St(I,D,R)}),g.l&&L({},function(R,D){St(I,D,R)})}function _R(g,I,R){R=Math.min(g.i.length,R);const D=g.l?c(g.l.Ka,g.l,g):null;e:{var q=g.i;let Me=-1;for(;;){const un=["count="+R];Me==-1?R>0?(Me=q[0].g,un.push("ofs="+Me)):Me=0:un.push("ofs="+Me);let ht=!0;for(let Sn=0;Sn<R;Sn++){var X=q[Sn].g;const po=q[Sn].map;if(X-=Me,X<0)Me=Math.max(0,q[Sn].g-100),ht=!1;else try{X="req"+X+"_"||"";try{var he=po instanceof Map?po:Object.entries(po);for(const[Fl,ea]of he){let ta=ea;a(ea)&&(ta=Ko(ea)),un.push(X+Fl+"="+encodeURIComponent(ta))}}catch(Fl){throw un.push(X+"type="+encodeURIComponent("_badmap")),Fl}}catch{D&&D(po)}}if(ht){he=un.join("&");break e}}he=void 0}return g=g.i.splice(0,R),I.G=g,he}function SR(g){if(!g.g&&!g.v){g.Y=1;var I=g.Da;S||A(),P||(S(),P=!0),T.add(I,g),g.A=0}}function rS(g){return g.g||g.v||g.A>=3?!1:(g.Y++,g.v=vr(c(g.Da,g),AR(g,g.A)),g.A++,!0)}t.Da=function(){if(this.v=null,TR(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var g=4*this.T;this.j.info("BP detection timer enabled: "+g),this.B=vr(c(this.Wa,this),g)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,nt(10),Xy(this),TR(this))};function iS(g){g.B!=null&&(s.clearTimeout(g.B),g.B=null)}function TR(g){g.g=new li(g,g.j,"rpc",g.Y),g.u===null&&(g.g.J=g.o),g.g.P=0;var I=ho(g.na);St(I,"RID","rpc"),St(I,"SID",g.M),St(I,"AID",g.K),St(I,"CI",g.F?"0":"1"),!g.F&&g.ia&&St(I,"TO",g.ia),St(I,"TYPE","xmlhttp"),Gh(g,I),g.u&&g.o&&tS(I,g.u,g.o),g.O&&(g.g.H=g.O);var R=g.g;g=g.ba,R.M=1,R.A=Hy(ho(I)),R.u=null,R.R=!0,Jj(R,g)}t.Va=function(){this.C!=null&&(this.C=null,Xy(this),rS(this),nt(19))};function Jy(g){g.C!=null&&(s.clearTimeout(g.C),g.C=null)}function ER(g,I){var R=null;if(g.g==I){Jy(g),iS(g),g.g=null;var D=2}else if(Q1(g.h,I))R=I.G,iR(g.h,I),D=1;else return;if(g.I!=0){if(I.o)if(D==1){R=I.u?I.u.length:0,I=Date.now()-I.F;var q=g.D;D=ju(),lt(D,new Un(D,R)),Qy(g)}else SR(g);else if(q=I.m,q==3||q==0&&I.X>0||!(D==1&&TZ(g,I)||D==2&&rS(g)))switch(R&&R.length>0&&(I=g.h,I.i=I.i.concat(R)),q){case 1:Vl(g,5);break;case 4:Vl(g,10);break;case 3:Vl(g,6);break;default:Vl(g,2)}}}function AR(g,I){let R=g.Qa+Math.floor(Math.random()*g.Za);return g.isActive()||(R*=2),R*I}function Vl(g,I){if(g.j.info("Error code "+I),I==2){var R=c(g.bb,g),D=g.Ua;const q=!D;D=new Qs(D||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Lh(D,"https"),Hy(D),q?vZ(D.toString(),R):xZ(D.toString(),R)}else nt(2);g.I=0,g.l&&g.l.pa(I),PR(g),bR(g)}t.bb=function(g){g?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))};function PR(g){if(g.I=0,g.ja=[],g.l){const I=oR(g.h);(I.length!=0||g.i.length!=0)&&(v(g.ja,I),v(g.ja,g.i),g.h.i.length=0,p(g.i),g.i.length=0),g.l.oa()}}function IR(g,I,R){var D=R instanceof Qs?ho(R):new Qs(R);if(D.g!="")I&&(D.g=I+"."+D.g),Vh(D,D.u);else{var q=s.location;D=q.protocol,I=I?I+"."+q.hostname:q.hostname,q=+q.port;const X=new Qs(null);D&&Lh(X,D),I&&(X.g=I),q&&Vh(X,q),R&&(X.h=R),D=X}return R=g.G,I=g.wa,R&&I&&St(D,R,I),St(D,"VER",g.ka),Gh(g,D),D}function CR(g,I,R){if(I&&!g.L)throw Error("Can't create secondary domain capable XhrIo object.");return I=g.Aa&&!g.ma?new zt(new eS({ab:R})):new zt(g.ma),I.Fa(g.L),I}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function kR(){}t=kR.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Zy(){}Zy.prototype.g=function(g,I){return new Rr(g,I)};function Rr(g,I){et.call(this),this.g=new xR(I),this.l=g,this.h=I&&I.messageUrlParams||null,g=I&&I.messageHeaders||null,I&&I.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=I&&I.initMessageHeaders||null,I&&I.messageContentType&&(g?g["X-WebChannel-Content-Type"]=I.messageContentType:g={"X-WebChannel-Content-Type":I.messageContentType}),I&&I.sa&&(g?g["X-WebChannel-Client-Profile"]=I.sa:g={"X-WebChannel-Client-Profile":I.sa}),this.g.U=g,(g=I&&I.Qb)&&!j(g)&&(this.g.u=g),this.A=I&&I.supportsCrossDomainXhr||!1,this.v=I&&I.sendRawJson||!1,(I=I&&I.httpSessionIdParam)&&!j(I)&&(this.g.G=I,g=this.h,g!==null&&I in g&&(g=this.h,I in g&&delete g[I])),this.j=new Du(this)}d(Rr,et),Rr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Rr.prototype.close=function(){nS(this.g)},Rr.prototype.o=function(g){var I=this.g;if(typeof g=="string"){var R={};R.__data__=g,g=R}else this.v&&(R={},R.__data__=Ko(g),g=R);I.i.push(new uZ(I.Ya++,g)),I.I==3&&Qy(I)},Rr.prototype.N=function(){this.g.l=null,delete this.j,nS(this.g),delete this.g,Rr.Z.N.call(this)};function NR(g){Rl.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var I=g.__sm__;if(I){e:{for(const R in I){g=R;break e}g=void 0}(this.i=g)&&(g=this.i,I=I!==null&&g in I?I[g]:void 0),this.data=I}else this.data=g}d(NR,Rl);function OR(){Ou.call(this),this.status=1}d(OR,Ou);function Du(g){this.g=g}d(Du,kR),Du.prototype.ra=function(){lt(this.g,"a")},Du.prototype.qa=function(g){lt(this.g,new NR(g))},Du.prototype.pa=function(g){lt(this.g,new OR)},Du.prototype.oa=function(){lt(this.g,"b")},Zy.prototype.createWebChannel=Zy.prototype.g,Rr.prototype.send=Rr.prototype.o,Rr.prototype.open=Rr.prototype.m,Rr.prototype.close=Rr.prototype.close,Mq=function(){return new Zy},Dq=function(){return ju()},Rq=Yo,KA={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ir.NO_ERROR=0,ir.TIMEOUT=8,ir.HTTP_ERROR=6,C0=ir,ai.COMPLETE="complete",jq=ai,Wy.EventType=jl,jl.OPEN="a",jl.CLOSE="b",jl.ERROR="c",jl.MESSAGE="d",et.prototype.listen=et.prototype.J,Op=Wy,zt.prototype.listenOnce=zt.prototype.K,zt.prototype.getLastError=zt.prototype.Ha,zt.prototype.getLastErrorCode=zt.prototype.ya,zt.prototype.getStatus=zt.prototype.ca,zt.prototype.getResponseJson=zt.prototype.La,zt.prototype.getResponseText=zt.prototype.la,zt.prototype.send=zt.prototype.ea,zt.prototype.setWithCredentials=zt.prototype.Fa,Oq=zt}).apply(typeof Ov<"u"?Ov:typeof self<"u"?self:typeof window<"u"?window:{});const b$="@firebase/firestore",w$="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pn.UNAUTHENTICATED=new Pn(null),Pn.GOOGLE_CREDENTIALS=new Pn("google-credentials-uid"),Pn.FIRST_PARTY=new Pn("first-party-uid"),Pn.MOCK_USER=new Pn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ch="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ol=new p_("@firebase/firestore");function Xu(){return ol.logLevel}function vqe(t){ol.setLogLevel(t)}function re(t,...e){if(ol.logLevel<=ze.DEBUG){const n=e.map(wN);ol.debug(`Firestore (${ch}): ${t}`,...n)}}function Yt(t,...e){if(ol.logLevel<=ze.ERROR){const n=e.map(wN);ol.error(`Firestore (${ch}): ${t}`,...n)}}function Ii(t,...e){if(ol.logLevel<=ze.WARN){const n=e.map(wN);ol.warn(`Firestore (${ch}): ${t}`,...n)}}function wN(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,$q(t,r,n)}function $q(t,e,n){let r=`FIRESTORE (${ch}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Yt(r),new Error(r)}function we(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||$q(e,i,r)}function xqe(t,e){t||ge(57014,e)}function fe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ee extends lo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lq{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Fve{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Pn.UNAUTHENTICATED))}shutdown(){}}class Bve{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Uve{constructor(e){this.t=e,this.currentUser=Pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){we(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Nn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Nn,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Nn)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(we(typeof r.accessToken=="string",31837,{l:r}),new Lq(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return we(e===null||typeof e=="string",2055,{h:e}),new Pn(e)}}class zve{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Pn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Wve{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new zve(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Pn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class YA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qve{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,yi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){we(this.o===void 0,3512);const r=o=>{o.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.m;return this.m=o.token,re("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new YA(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(we(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new YA(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}class bqe{getToken(){return Promise.resolve(new YA(""))}invalidateToken(){}start(e,n){}shutdown(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gve(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Gve(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function ke(t,e){return t<e?-1:t>e?1:0}function XA(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),o=e.charAt(r);if(i!==o)return yT(i)===yT(o)?ke(i,o):yT(i)?1:-1}return ke(t.length,e.length)}const Hve=55296,Kve=57343;function yT(t){const e=t.charCodeAt(0);return e>=Hve&&e<=Kve}function sf(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function Vq(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA="__name__";class yo{constructor(e,n,r){n===void 0?n=0:n>e.length&&ge(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ge(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return yo.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof yo?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=yo.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return ke(e.length,n.length)}static compareSegments(e,n){const r=yo.isNumericId(e),i=yo.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?yo.extractNumericId(e).compare(yo.extractNumericId(n)):XA(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ha.fromString(e.substring(4,e.length-2))}}class Le extends yo{construct(e,n,r){return new Le(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ee(G.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Le(n)}static emptyPath(){return new Le([])}}const Yve=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jt extends yo{construct(e,n,r){return new jt(e,n,r)}static isValidIdentifier(e){return Yve.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===QA}static keyField(){return new jt([QA])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ee(G.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ee(G.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ee(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new ee(G.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jt(n)}static emptyPath(){return new jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.path=e}static fromPath(e){return new de(Le.fromString(e))}static fromName(e){return new de(Le.fromString(e).popFirst(5))}static empty(){return new de(Le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Le.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Le.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new Le(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(t,e,n){if(!n)throw new ee(G.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Xve(t,e,n,r){if(e===!0&&r===!0)throw new ee(G.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function _$(t){if(!de.isDocumentKey(t))throw new ee(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function S$(t){if(de.isDocumentKey(t))throw new ee(G.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Fq(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function v_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ge(12329,{type:typeof t})}function Be(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ee(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=v_(t);throw new ee(G.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Bq(t,e){if(e<=0)throw new ee(G.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(t,e){const n={typeString:t};return e&&(n.value=e),n}function xu(t,e){if(!Fq(t))throw new ee(G.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new ee(G.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T$=-62135596800,E$=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*E$);return new rt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ee(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ee(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<T$)throw new ee(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ee(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/E$}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(xu(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-T$;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:rn("string",rt._jsonSchemaVersion),seconds:rn("number"),nanoseconds:rn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new rt(0,0))}static max(){return new Te(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const af=-1;class lf{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function JA(t){return t.fields.find(e=>e.kind===2)}function Jl(t){return t.fields.filter(e=>e.kind!==2)}function Qve(t,e){let n=ke(t.collectionGroup,e.collectionGroup);if(n!==0)return n;for(let r=0;r<Math.min(t.fields.length,e.fields.length);++r)if(n=Jve(t.fields[r],e.fields[r]),n!==0)return n;return ke(t.fields.length,e.fields.length)}lf.UNKNOWN_ID=-1;class _c{constructor(e,n){this.fieldPath=e,this.kind=n}}function Jve(t,e){const n=jt.comparator(t.fieldPath,e.fieldPath);return n!==0?n:ke(t.kind,e.kind)}class cf{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new cf(0,ri.min())}}function Uq(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Te.fromTimestamp(r===1e9?new rt(n+1,0):new rt(n,r));return new ri(i,de.empty(),e)}function zq(t){return new ri(t.readTime,t.key,af)}class ri{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ri(Te.min(),de.empty(),af)}static max(){return new ri(Te.max(),de.empty(),af)}}function TN(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=de.comparator(t.documentKey,e.documentKey),n!==0?n:ke(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qq{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _l(t){if(t.code!==G.FAILED_PRECONDITION||t.message!==Wq)throw t;re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):W.reject(n)}static resolve(e){return new W((n,r)=>{n(e)})}static reject(e){return new W((n,r)=>{r(e)})}static waitFor(e){return new W((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=W.resolve(!1);for(const r of e)n=n.next(i=>i?W.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new W((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const c=l;n(e[c]).next(u=>{s[c]=u,++a,a===o&&r(s)},u=>i(u))}})}static doWhile(e,n){return new W((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr="SimpleDb";class x_{static open(e,n,r,i){try{return new x_(n,e.transaction(i,r))}catch(o){throw new Zp(n,o)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new Nn,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new Zp(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=EN(r.target.error);this.S.reject(new Zp(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(re(Fr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new e0e(n)}}class Oo{static delete(e){return re(Fr,"Removing database:",e),rc(D7().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!uN())return!1;if(Oo.F())return!0;const e=xn(),n=Oo.M(e),r=0<n&&n<10,i=Gq(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)==null?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,Oo.M(xn())===12.2&&Yt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(re(Fr,"Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const s=o.target.result;n(s)},i.onblocked=()=>{r(new Zp(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const s=o.target.error;s.name==="VersionError"?r(new ee(G.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new ee(G.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new Zp(e,s))},i.onupgradeneeded=o=>{re(Fr,'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const s=o.target.result;this.N.k(s,i.transaction,o.oldVersion,this.version).next(()=>{re(Fr,"Database upgrade to version "+this.version+" complete")})}})),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const o=n==="readonly";let s=0;for(;;){++s;try{this.db=await this.L(e);const a=x_.open(this.db,e,o?"readonly":"readwrite",r),l=i(a).next(c=>(a.C(),c)).catch(c=>(a.abort(c),W.reject(c))).toPromise();return l.catch(()=>{}),await a.D,l}catch(a){const l=a,c=l.name!=="FirebaseError"&&s<3;if(re(Fr,"Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function Gq(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class Zve{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return rc(this.U.delete())}}class Zp extends ee{constructor(e,n){super(G.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Sl(t){return t.name==="IndexedDbTransactionError"}class e0e{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(re(Fr,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(re(Fr,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),rc(r)}add(e){return re(Fr,"ADD",this.store.name,e,e),rc(this.store.add(e))}get(e){return rc(this.store.get(e)).next(n=>(n===void 0&&(n=null),re(Fr,"GET",this.store.name,e,n),n))}delete(e){return re(Fr,"DELETE",this.store.name,e),rc(this.store.delete(e))}count(){return re(Fr,"COUNT",this.store.name),rc(this.store.count())}J(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const o=i.getAll(r.range);return new W((s,a)=>{o.onerror=l=>{a(l.target.error)},o.onsuccess=l=>{s(l.target.result)}})}{const o=this.cursor(r),s=[];return this.H(o,(a,l)=>{s.push(l)}).next(()=>s)}}Y(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new W((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}Z(e,n){re(Fr,"DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const i=this.cursor(r);return this.H(i,(o,s,a)=>a.delete())}ee(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.H(i,n)}te(e){const n=this.cursor({});return new W((r,i)=>{n.onerror=o=>{const s=EN(o.target.error);i(s)},n.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}H(e,n){const r=[];return new W((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void i();const l=new Zve(a),c=n(a.primaryKey,a.value,l);if(c instanceof W){const u=c.catch(d=>(l.done(),W.reject(d)));r.push(u)}l.isDone?i():l.G===null?a.continue():a.continue(l.G)}}).next(()=>W.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function rc(t){return new W((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=EN(r.target.error);n(i)}})}let A$=!1;function EN(t){const e=Oo.M(xn());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new ee("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return A$||(A$=!0,setTimeout(()=>{throw r},0)),r}}return t}const em="IndexBackfiller";class t0e{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){re(em,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const n=await this.ne.ie();re(em,`Documents written: ${n}`)}catch(n){Sl(n)?re(em,"Ignoring IndexedDB error during index backfill: ",n):await _l(n)}await this.re(6e4)})}}class n0e{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.se(n,e))}se(e,n){const r=new Set;let i=n,o=!0;return W.doWhile(()=>o===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(s!==null&&!r.has(s))return re(em,`Processing collection: ${s}`),this.oe(e,s,i).next(a=>{i-=a,r.add(s)});o=!1})).next(()=>n-i)}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this._e(i,o)).next(a=>(re(em,`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>s.size)}))}_e(e,n){let r=e;return n.changes.forEach((i,o)=>{const s=zq(o);TN(s,r)>0&&(r=s)}),new ri(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}_r.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka=-1;function gy(t){return t==null}function Qm(t){return t===0&&1/t==-1/0}function Hq(t){return typeof t=="number"&&Number.isInteger(t)&&!Qm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx="";function er(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=P$(e)),e=r0e(t.get(n),e);return P$(e)}function r0e(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case Gx:n+="";break;default:n+=o}}return n}function P$(t){return t+Gx+""}function _o(t){const e=t.length;if(we(e>=2,64408,{path:t}),e===2)return we(t.charAt(0)===Gx&&t.charAt(1)==="",56145,{path:t}),Le.emptyPath();const n=e-2,r=[];let i="";for(let o=0;o<e;){const s=t.indexOf(Gx,o);switch((s<0||s>n)&&ge(50515,{path:t}),t.charAt(s+1)){case"":const a=t.substring(o,s);let l;i.length===0?l=a:(i+=a,l=i,i=""),r.push(l);break;case"":i+=t.substring(o,s),i+="\0";break;case"":i+=t.substring(o,s+1);break;default:ge(61167,{path:t})}o=s+2}return new Le(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl="remoteDocuments",yy="owner",Fu="owner",Jm="mutationQueues",i0e="userId",Fi="mutations",I$="batchId",fc="userMutationsIndex",C$=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(t,e){return[t,er(e)]}function Kq(t,e,n){return[t,er(e),n]}const o0e={},uf="documentMutations",Hx="remoteDocumentsV14",s0e=["prefixPath","collectionGroup","readTime","documentId"],N0="documentKeyIndex",a0e=["prefixPath","collectionGroup","documentId"],Yq="collectionGroupIndex",l0e=["collectionGroup","readTime","prefixPath","documentId"],Zm="remoteDocumentGlobal",ZA="remoteDocumentGlobalKey",df="targets",Xq="queryTargetsIndex",c0e=["canonicalId","targetId"],ff="targetDocuments",u0e=["targetId","path"],AN="documentTargetsIndex",d0e=["path","targetId"],Kx="targetGlobalKey",Sc="targetGlobal",eg="collectionParents",f0e=["collectionId","parent"],hf="clientMetadata",h0e="clientId",b_="bundles",p0e="bundleId",w_="namedQueries",m0e="name",PN="indexConfiguration",g0e="indexId",eP="collectionGroupIndex",y0e="collectionGroup",tm="indexState",v0e=["indexId","uid"],Qq="sequenceNumberIndex",x0e=["uid","sequenceNumber"],nm="indexEntries",b0e=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Jq="documentKeyIndex",w0e=["indexId","uid","orderedDocumentKey"],__="documentOverlays",_0e=["userId","collectionPath","documentId"],tP="collectionPathOverlayIndex",S0e=["userId","collectionPath","largestBatchId"],Zq="collectionGroupOverlayIndex",T0e=["userId","collectionGroup","largestBatchId"],IN="globals",E0e="name",eG=[Jm,Fi,uf,Zl,df,yy,Sc,ff,hf,Zm,eg,b_,w_],A0e=[...eG,__],tG=[Jm,Fi,uf,Hx,df,yy,Sc,ff,hf,Zm,eg,b_,w_,__],nG=tG,CN=[...nG,PN,tm,nm],P0e=CN,rG=[...CN,IN],I0e=rG;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP extends qq{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function bn(t,e){const n=fe(t);return Oo.O(n.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k$(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Tl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function iG(t,e){const n=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.push(e(t[r],r,t));return n}function oG(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,n){this.comparator=e,this.root=n||Ln.EMPTY}insert(e,n){return new _t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ln.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ln.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jv(this.root,e,this.comparator,!1)}getReverseIterator(){return new jv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jv(this.root,e,this.comparator,!0)}}class jv{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ln{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Ln.RED,this.left=i??Ln.EMPTY,this.right=o??Ln.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Ln(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ln.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ln.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ge(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ge(27949);return e+(this.isRed()?0:1)}}Ln.EMPTY=null,Ln.RED=!0,Ln.BLACK=!1;Ln.EMPTY=new class{constructor(){this.size=0}get key(){throw ge(57766)}get value(){throw ge(16141)}get color(){throw ge(16727)}get left(){throw ge(29726)}get right(){throw ge(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Ln(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new N$(this.data.getIterator())}getIteratorFrom(e){return new N$(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof st)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new st(this.comparator);return n.data=e,n}}class N${constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Bu(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new Sr([])}unionWith(e){let n=new st(jt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Sr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return sf(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sG extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _qe(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new sG("Invalid base64 string: "+o):o}}(e);return new Ht(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Ht(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const C0e=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ks(t){if(we(!!t,39018),typeof t=="string"){let e=0;const n=C0e.exec(t);if(we(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Nt(t.seconds),nanos:Nt(t.nanos)}}function Nt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ns(t){return typeof t=="string"?Ht.fromBase64String(t):Ht.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aG="server_timestamp",lG="__type__",cG="__previous_value__",uG="__local_write_time__";function S_(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[lG])==null?void 0:r.stringValue)===aG}function T_(t){const e=t.mapValue.fields[cG];return S_(e)?T_(e):e}function tg(t){const e=ks(t.mapValue.fields[uG].timestampValue);return new rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0e{constructor(e,n,r,i,o,s,a,l,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u}}const ng="(default)";class zc{constructor(e,n){this.projectId=e,this.database=n||ng}static empty(){return new zc("","")}get isDefaultDatabase(){return this.database===ng}isEqual(e){return e instanceof zc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN="__type__",dG="__max__",ka={mapValue:{fields:{__type__:{stringValue:dG}}}},NN="__vector__",pf="value",O0={nullValue:"NULL_VALUE"};function sl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?S_(t)?4:fG(t)?9007199254740991:E_(t)?10:11:ge(28295,{value:t})}function Bo(t,e){if(t===e)return!0;const n=sl(t);if(n!==sl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return tg(t).isEqual(tg(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=ks(i.timestampValue),a=ks(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Ns(i.bytesValue).isEqual(Ns(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Nt(i.geoPointValue.latitude)===Nt(o.geoPointValue.latitude)&&Nt(i.geoPointValue.longitude)===Nt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Nt(i.integerValue)===Nt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Nt(i.doubleValue),a=Nt(o.doubleValue);return s===a?Qm(s)===Qm(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return sf(t.arrayValue.values||[],e.arrayValue.values||[],Bo);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(k$(s)!==k$(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Bo(s[l],a[l])))return!1;return!0}(t,e);default:return ge(52216,{left:t})}}function rg(t,e){return(t.values||[]).find(n=>Bo(n,e))!==void 0}function al(t,e){if(t===e)return 0;const n=sl(t),r=sl(e);if(n!==r)return ke(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Nt(o.integerValue||o.doubleValue),l=Nt(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return O$(t.timestampValue,e.timestampValue);case 4:return O$(tg(t),tg(e));case 5:return XA(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Ns(o),l=Ns(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=ke(a[c],l[c]);if(u!==0)return u}return ke(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=ke(Nt(o.latitude),Nt(s.latitude));return a!==0?a:ke(Nt(o.longitude),Nt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return j$(t.arrayValue,e.arrayValue);case 10:return function(o,s){var h,p,v,m;const a=o.fields||{},l=s.fields||{},c=(h=a[pf])==null?void 0:h.arrayValue,u=(p=l[pf])==null?void 0:p.arrayValue,d=ke(((v=c==null?void 0:c.values)==null?void 0:v.length)||0,((m=u==null?void 0:u.values)==null?void 0:m.length)||0);return d!==0?d:j$(c,u)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===ka.mapValue&&s===ka.mapValue)return 0;if(o===ka.mapValue)return 1;if(s===ka.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const h=XA(l[d],u[d]);if(h!==0)return h;const p=al(a[l[d]],c[u[d]]);if(p!==0)return p}return ke(l.length,u.length)}(t.mapValue,e.mapValue);default:throw ge(23264,{he:n})}}function O$(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ke(t,e);const n=ks(t),r=ks(e),i=ke(n.seconds,r.seconds);return i!==0?i:ke(n.nanos,r.nanos)}function j$(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=al(n[i],r[i]);if(o)return o}return ke(n.length,r.length)}function mf(t){return rP(t)}function rP(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ks(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ns(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return de.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=rP(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${rP(n.fields[s])}`;return i+"}"}(t.mapValue):ge(61005,{value:t})}function j0(t){switch(sl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=T_(t);return e?16+j0(e):16;case 5:return 2*t.stringValue.length;case 6:return Ns(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+j0(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Tl(r.fields,(o,s)=>{i+=o.length+j0(s)}),i}(t.mapValue);default:throw ge(13486,{value:t})}}function Wc(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function iP(t){return!!t&&"integerValue"in t}function ig(t){return!!t&&"arrayValue"in t}function R$(t){return!!t&&"nullValue"in t}function D$(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function R0(t){return!!t&&"mapValue"in t}function E_(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[kN])==null?void 0:r.stringValue)===NN}function rm(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Tl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=rm(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=rm(t.arrayValue.values[n]);return e}return{...t}}function fG(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===dG}const hG={mapValue:{fields:{[kN]:{stringValue:NN},[pf]:{arrayValue:{}}}}};function N0e(t){return"nullValue"in t?O0:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Wc(zc.empty(),de.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?E_(t)?hG:{mapValue:{}}:ge(35942,{value:t})}function O0e(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Wc(zc.empty(),de.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?hG:"mapValue"in t?E_(t)?{mapValue:{}}:ka:ge(61959,{value:t})}function M$(t,e){const n=al(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function $$(t,e){const n=al(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.value=e}static empty(){return new Vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!R0(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=rm(n)}setAll(e){let n=jt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=rm(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());R0(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Bo(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];R0(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Tl(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Vn(rm(this.value))}}function pG(t){const e=[];return Tl(t.fields,(n,r)=>{const i=new jt([n]);if(R0(r)){const o=pG(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Sr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new It(e,0,Te.min(),Te.min(),Te.min(),Vn.empty(),0)}static newFoundDocument(e,n,r,i){return new It(e,1,n,Te.min(),r,i,0)}static newNoDocument(e,n){return new It(e,2,n,Te.min(),Te.min(),Vn.empty(),0)}static newUnknownDocument(e,n){return new It(e,3,n,Te.min(),Te.min(),Vn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof It&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new It(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e,n){this.position=e,this.inclusive=n}}function L$(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=de.comparator(de.fromName(s.referenceValue),n.key):r=al(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function V$(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Bo(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e,n="asc"){this.field=e,this.dir=n}}function j0e(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mG{}class We extends mG{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new R0e(e,n,r):n==="array-contains"?new $0e(e,r):n==="in"?new wG(e,r):n==="not-in"?new L0e(e,r):n==="array-contains-any"?new V0e(e,r):new We(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new D0e(e,r):new M0e(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(al(n,this.value)):n!==null&&sl(this.value)===sl(n)&&this.matchesComparison(al(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class it extends mG{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new it(e,n)}matches(e){return gf(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function gf(t){return t.op==="and"}function oP(t){return t.op==="or"}function ON(t){return gG(t)&&gf(t)}function gG(t){for(const e of t.filters)if(e instanceof it)return!1;return!0}function sP(t){if(t instanceof We)return t.field.canonicalString()+t.op.toString()+mf(t.value);if(ON(t))return t.filters.map(e=>sP(e)).join(",");{const e=t.filters.map(n=>sP(n)).join(",");return`${t.op}(${e})`}}function yG(t,e){return t instanceof We?function(r,i){return i instanceof We&&r.op===i.op&&r.field.isEqual(i.field)&&Bo(r.value,i.value)}(t,e):t instanceof it?function(r,i){return i instanceof it&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&yG(s,i.filters[a]),!0):!1}(t,e):void ge(19439)}function vG(t,e){const n=t.filters.concat(e);return it.create(n,t.op)}function xG(t){return t instanceof We?function(n){return`${n.field.canonicalString()} ${n.op} ${mf(n.value)}`}(t):t instanceof it?function(n){return n.op.toString()+" {"+n.getFilters().map(xG).join(" ,")+"}"}(t):"Filter"}class R0e extends We{constructor(e,n,r){super(e,n,r),this.key=de.fromName(r.referenceValue)}matches(e){const n=de.comparator(e.key,this.key);return this.matchesComparison(n)}}class D0e extends We{constructor(e,n){super(e,"in",n),this.keys=bG("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class M0e extends We{constructor(e,n){super(e,"not-in",n),this.keys=bG("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function bG(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>de.fromName(r.referenceValue))}class $0e extends We{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ig(n)&&rg(n.arrayValue,this.value)}}class wG extends We{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&rg(this.value.arrayValue,n)}}class L0e extends We{constructor(e,n){super(e,"not-in",n)}matches(e){if(rg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!rg(this.value.arrayValue,n)}}class V0e extends We{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ig(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>rg(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0e{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Te=null}}function aP(t,e=null,n=[],r=[],i=null,o=null,s=null){return new F0e(t,e,n,r,i,o,s)}function qc(t){const e=fe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>sP(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),gy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>mf(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>mf(r)).join(",")),e.Te=n}return e.Te}function vy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!j0e(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!yG(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!V$(t.startAt,e.startAt)&&V$(t.endAt,e.endAt)}function Yx(t){return de.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Xx(t,e){return t.filters.filter(n=>n instanceof We&&n.field.isEqual(e))}function F$(t,e,n){let r=O0,i=!0;for(const o of Xx(t,e)){let s=O0,a=!0;switch(o.op){case"<":case"<=":s=N0e(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=O0}M$({value:r,inclusive:i},{value:s,inclusive:a})<0&&(r=s,i=a)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const s=n.position[o];M$({value:r,inclusive:i},{value:s,inclusive:n.inclusive})<0&&(r=s,i=n.inclusive);break}}return{value:r,inclusive:i}}function B$(t,e,n){let r=ka,i=!0;for(const o of Xx(t,e)){let s=ka,a=!0;switch(o.op){case">=":case">":s=O0e(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=ka}$$({value:r,inclusive:i},{value:s,inclusive:a})>0&&(r=s,i=a)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const s=n.position[o];$$({value:r,inclusive:i},{value:s,inclusive:n.inclusive})>0&&(r=s,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function _G(t,e,n,r,i,o,s,a){return new Fs(t,e,n,r,i,o,s,a)}function uh(t){return new Fs(t)}function U$(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function jN(t){return t.collectionGroup!==null}function Md(t){const e=fe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new st(jt.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new og(o,r))}),n.has(jt.keyField().canonicalString())||e.Ie.push(new og(jt.keyField(),r))}return e.Ie}function tr(t){const e=fe(t);return e.Ee||(e.Ee=TG(e,Md(t))),e.Ee}function SG(t){const e=fe(t);return e.de||(e.de=TG(e,t.explicitOrderBy)),e.de}function TG(t,e){if(t.limitType==="F")return aP(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new og(i.field,o)});const n=t.endAt?new ll(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ll(t.startAt.position,t.startAt.inclusive):null;return aP(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function lP(t,e){const n=t.filters.concat([e]);return new Fs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Qx(t,e,n){return new Fs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function xy(t,e){return vy(tr(t),tr(e))&&t.limitType===e.limitType}function EG(t){return`${qc(tr(t))}|lt:${t.limitType}`}function Qu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>xG(i)).join(", ")}]`),gy(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>mf(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>mf(i)).join(",")),`Target(${r})`}(tr(t))}; limitType=${t.limitType})`}function by(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):de.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Md(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const c=L$(s,a,l);return s.inclusive?c<=0:c<0}(r.startAt,Md(r),i)||r.endAt&&!function(s,a,l){const c=L$(s,a,l);return s.inclusive?c>=0:c>0}(r.endAt,Md(r),i))}(t,e)}function AG(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function PG(t){return(e,n)=>{let r=!1;for(const i of Md(t)){const o=B0e(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function B0e(t,e,n){const r=t.field.isKeyField()?de.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),c=a.data.field(o);return l!==null&&c!==null?al(l,c):ge(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ge(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Tl(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return oG(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0e=new _t(de.comparator);function Tr(){return U0e}const IG=new _t(de.comparator);function jp(...t){let e=IG;for(const n of t)e=e.insert(n.key,n);return e}function CG(t){let e=IG;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function So(){return im()}function kG(){return im()}function im(){return new Bs(t=>t.toString(),(t,e)=>t.isEqual(e))}const z0e=new _t(de.comparator),W0e=new st(de.comparator);function Re(...t){let e=W0e;for(const n of t)e=e.add(n);return e}const q0e=new st(ke);function RN(){return q0e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qm(e)?"-0":e}}function NG(t){return{integerValue:""+t}}function OG(t,e){return Hq(e)?NG(e):DN(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(){this._=void 0}}function G0e(t,e,n){return t instanceof yf?function(i,o){const s={fields:{[lG]:{stringValue:aG},[uG]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&S_(o)&&(o=T_(o)),o&&(s.fields[cG]=o),{mapValue:s}}(n,e):t instanceof Gc?RG(t,e):t instanceof Hc?DG(t,e):function(i,o){const s=jG(i,o),a=z$(s)+z$(i.Ae);return iP(s)&&iP(i.Ae)?NG(a):DN(i.serializer,a)}(t,e)}function H0e(t,e,n){return t instanceof Gc?RG(t,e):t instanceof Hc?DG(t,e):n}function jG(t,e){return t instanceof vf?function(r){return iP(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class yf extends A_{}class Gc extends A_{constructor(e){super(),this.elements=e}}function RG(t,e){const n=MG(e);for(const r of t.elements)n.some(i=>Bo(i,r))||n.push(r);return{arrayValue:{values:n}}}class Hc extends A_{constructor(e){super(),this.elements=e}}function DG(t,e){let n=MG(e);for(const r of t.elements)n=n.filter(i=>!Bo(i,r));return{arrayValue:{values:n}}}class vf extends A_{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function z$(t){return Nt(t.integerValue||t.doubleValue)}function MG(t){return ig(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(e,n){this.field=e,this.transform=n}}function K0e(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Gc&&i instanceof Gc||r instanceof Hc&&i instanceof Hc?sf(r.elements,i.elements,Bo):r instanceof vf&&i instanceof vf?Bo(r.Ae,i.Ae):r instanceof yf&&i instanceof yf}(t.transform,e.transform)}class Y0e{constructor(e,n){this.version=e,this.transformResults=n}}class Rt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Rt}static exists(e){return new Rt(void 0,e)}static updateTime(e){return new Rt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function D0(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class P_{}function $G(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new fh(t.key,Rt.none()):new dh(t.key,t.data,Rt.none());{const n=t.data,r=Vn.empty();let i=new st(jt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Us(t.key,r,new Sr(i.toArray()),Rt.none())}}function X0e(t,e,n){t instanceof dh?function(i,o,s){const a=i.value.clone(),l=q$(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Us?function(i,o,s){if(!D0(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=q$(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(LG(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function om(t,e,n,r){return t instanceof dh?function(o,s,a,l){if(!D0(o.precondition,s))return a;const c=o.value.clone(),u=G$(o.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Us?function(o,s,a,l){if(!D0(o.precondition,s))return a;const c=G$(o.fieldTransforms,l,s),u=s.data;return u.setAll(LG(o)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(o,s,a){return D0(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function Q0e(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=jG(r.transform,i||null);o!=null&&(n===null&&(n=Vn.empty()),n.set(r.field,o))}return n||null}function W$(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&sf(r,i,(o,s)=>K0e(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class dh extends P_{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Us extends P_{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function LG(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function q$(t,e,n){const r=new Map;we(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,H0e(s,a,n[i]))}return r}function G$(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,G0e(o,s,e))}return r}class fh extends P_{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MN extends P_{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&X0e(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=om(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=om(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=kG();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=$G(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(Te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Re())}isEqual(e){return this.batchId===e.batchId&&sf(this.mutations,e.mutations,(n,r)=>W$(n,r))&&sf(this.baseMutations,e.baseMutations,(n,r)=>W$(n,r))}}class LN{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){we(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return z0e}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new LN(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VG{constructor(e,n,r){this.alias=e,this.aggregateType=n,this.fieldPath=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0e{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jt,He;function FG(t){switch(t){case G.OK:return ge(64938);case G.CANCELLED:case G.UNKNOWN:case G.DEADLINE_EXCEEDED:case G.RESOURCE_EXHAUSTED:case G.INTERNAL:case G.UNAVAILABLE:case G.UNAUTHENTICATED:return!1;case G.INVALID_ARGUMENT:case G.NOT_FOUND:case G.ALREADY_EXISTS:case G.PERMISSION_DENIED:case G.FAILED_PRECONDITION:case G.ABORTED:case G.OUT_OF_RANGE:case G.UNIMPLEMENTED:case G.DATA_LOSS:return!0;default:return ge(15467,{code:t})}}function BG(t){if(t===void 0)return Yt("GRPC error has no .code"),G.UNKNOWN;switch(t){case Jt.OK:return G.OK;case Jt.CANCELLED:return G.CANCELLED;case Jt.UNKNOWN:return G.UNKNOWN;case Jt.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case Jt.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case Jt.INTERNAL:return G.INTERNAL;case Jt.UNAVAILABLE:return G.UNAVAILABLE;case Jt.UNAUTHENTICATED:return G.UNAUTHENTICATED;case Jt.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case Jt.NOT_FOUND:return G.NOT_FOUND;case Jt.ALREADY_EXISTS:return G.ALREADY_EXISTS;case Jt.PERMISSION_DENIED:return G.PERMISSION_DENIED;case Jt.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case Jt.ABORTED:return G.ABORTED;case Jt.OUT_OF_RANGE:return G.OUT_OF_RANGE;case Jt.UNIMPLEMENTED:return G.UNIMPLEMENTED;case Jt.DATA_LOSS:return G.DATA_LOSS;default:return ge(39323,{code:t})}}(He=Jt||(Jt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sm=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UG(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0e=new Ha([4294967295,4294967295],0);function H$(t){const e=UG().encode(t),n=new Nq;return n.update(e),new Uint8Array(n.digest())}function K$(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ha([n,r],0),new Ha([i,o],0)]}class FN{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Rp(`Invalid padding: ${n}`);if(r<0)throw new Rp(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Rp(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Rp(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ha.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Ha.fromNumber(r)));return i.compare(Z0e)===1&&(i=new Ha([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=H$(e),[r,i]=K$(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);if(!this.we(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new FN(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.ge===0)return;const n=H$(e),[r,i]=K$(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);this.Se(s)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Rp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Sy.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new _y(Te.min(),i,new _t(ke),Tr(),Re())}}class Sy{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Sy(r,n,Re(),Re(),Re())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class zG{constructor(e,n){this.targetId=e,this.Ce=n}}class WG{constructor(e,n,r=Ht.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Y${constructor(){this.ve=0,this.Fe=X$(),this.Me=Ht.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Re(),n=Re(),r=Re();return this.Fe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ge(38017,{changeType:o})}}),new Sy(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=X$()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,we(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class exe{constructor(e){this.Ge=e,this.ze=new Map,this.je=Tr(),this.Je=Rv(),this.He=Rv(),this.Ye=new _t(ke)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ge(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const o=i.target;if(Yx(o))if(r===0){const s=new de(o.path);this.et(n,s,It.newNoDocument(s,Te.min()))}else we(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const a=this.ut(e),l=a?this.ct(a,e,s):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}sm==null||sm.lt(function(u,d,h,p,v){var b,x,w;const m={localCacheCount:u,existenceFilterCount:d.count,databaseId:h.database,projectId:h.projectId},y=d.unchangedNames;return y&&(m.bloomFilter={applied:v===0,hashCount:(y==null?void 0:y.hashCount)??0,bitmapLength:((x=(b=y==null?void 0:y.bits)==null?void 0:b.bitmap)==null?void 0:x.length)??0,padding:((w=y==null?void 0:y.bits)==null?void 0:w.padding)??0,mightContain:E=>(p==null?void 0:p.mightContain(E))??!1}),m}(s,e.Ce,this.Ge.ht(),a,l))}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Ns(r).toUint8Array()}catch(l){if(l instanceof sG)return Ii("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new FN(s,i,o)}catch(l){return Ii(l instanceof Rp?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Ge.ht(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.et(n,o,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((o,s)=>{const a=this.ot(s);if(a){if(o.current&&Yx(a.target)){const l=new de(a.target.path);this.It(l).has(s)||this.Et(s,l)||this.et(s,l,It.newNoDocument(l,e))}o.Be&&(n.set(s,o.ke()),o.qe())}});let r=Re();this.He.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.je.forEach((o,s)=>s.setReadTime(e));const i=new _y(e,n,this.Ye,this.je,r);return this.je=Tr(),this.Je=Rv(),this.He=Rv(),this.Ye=new _t(ke),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Y$,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new st(ke),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new st(ke),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||re("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Y$),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Rv(){return new _t(de.comparator)}function X$(){return new _t(de.comparator)}const txe=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),nxe=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),rxe=(()=>({and:"AND",or:"OR"}))();class ixe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function cP(t,e){return t.useProto3Json||gy(e)?e:{value:e}}function xf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qG(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function oxe(t,e){return xf(t,e.toTimestamp())}function Qt(t){return we(!!t,49232),Te.fromTimestamp(function(n){const r=ks(n);return new rt(r.seconds,r.nanos)}(t))}function BN(t,e){return uP(t,e).canonicalString()}function uP(t,e){const n=function(i){return new Le(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function GG(t){const e=Le.fromString(t);return we(tH(e),10190,{key:e.toString()}),e}function sg(t,e){return BN(t.databaseId,e.path)}function jo(t,e){const n=GG(e);if(n.get(1)!==t.databaseId.projectId)throw new ee(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ee(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new de(YG(n))}function HG(t,e){return BN(t.databaseId,e)}function KG(t){const e=GG(t);return e.length===4?Le.emptyPath():YG(e)}function dP(t){return new Le(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function YG(t){return we(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Q$(t,e,n){return{name:sg(t,e),fields:n.value.mapValue.fields}}function I_(t,e,n){const r=jo(t,e.name),i=Qt(e.updateTime),o=e.createTime?Qt(e.createTime):Te.min(),s=new Vn({mapValue:{fields:e.fields}}),a=It.newFoundDocument(r,i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function sxe(t,e){return"found"in e?function(r,i){we(!!i.found,43571),i.found.name,i.found.updateTime;const o=jo(r,i.found.name),s=Qt(i.found.updateTime),a=i.found.createTime?Qt(i.found.createTime):Te.min(),l=new Vn({mapValue:{fields:i.found.fields}});return It.newFoundDocument(o,s,a,l)}(t,e):"missing"in e?function(r,i){we(!!i.missing,3894),we(!!i.readTime,22933);const o=jo(r,i.missing),s=Qt(i.readTime);return It.newNoDocument(o,s)}(t,e):ge(7234,{result:e})}function axe(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ge(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(c,u){return c.useProto3Json?(we(u===void 0||typeof u=="string",58123),Ht.fromBase64String(u||"")):(we(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),Ht.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const u=c.code===void 0?G.UNKNOWN:BG(c.code);return new ee(u,c.message||"")}(s);n=new WG(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=jo(t,r.document.name),o=Qt(r.document.updateTime),s=r.document.createTime?Qt(r.document.createTime):Te.min(),a=new Vn({mapValue:{fields:r.document.fields}}),l=It.newFoundDocument(i,o,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new M0(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=jo(t,r.document),o=r.readTime?Qt(r.readTime):Te.min(),s=It.newNoDocument(i,o),a=r.removedTargetIds||[];n=new M0([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=jo(t,r.document),o=r.removedTargetIds||[];n=new M0([],o,i,null)}else{if(!("filter"in e))return ge(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new J0e(i,o),a=r.targetId;n=new zG(a,s)}}return n}function ag(t,e){let n;if(e instanceof dh)n={update:Q$(t,e.key,e.value)};else if(e instanceof fh)n={delete:sg(t,e.key)};else if(e instanceof Us)n={update:Q$(t,e.key,e.data),updateMask:hxe(e.fieldMask)};else{if(!(e instanceof MN))return ge(16599,{Vt:e.type});n={verify:sg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof yf)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Gc)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Hc)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof vf)return{fieldPath:s.field.canonicalString(),increment:a.Ae};throw ge(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:oxe(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ge(27497)}(t,e.precondition)),n}function fP(t,e){const n=e.currentDocument?function(o){return o.updateTime!==void 0?Rt.updateTime(Qt(o.updateTime)):o.exists!==void 0?Rt.exists(o.exists):Rt.none()}(e.currentDocument):Rt.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,a){let l=null;if("setToServerValue"in a)we(a.setToServerValue==="REQUEST_TIME",16630,{proto:a}),l=new yf;else if("appendMissingElements"in a){const u=a.appendMissingElements.values||[];l=new Gc(u)}else if("removeAllFromArray"in a){const u=a.removeAllFromArray.values||[];l=new Hc(u)}else"increment"in a?l=new vf(s,a.increment):ge(16584,{proto:a});const c=jt.fromServerFormat(a.fieldPath);return new wy(c,l)}(t,i)):[];if(e.update){e.update.name;const i=jo(t,e.update.name),o=new Vn({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=function(l){const c=l.fieldPaths||[];return new Sr(c.map(u=>jt.fromServerFormat(u)))}(e.updateMask);return new Us(i,o,s,n,r)}return new dh(i,o,n,r)}if(e.delete){const i=jo(t,e.delete);return new fh(i,n)}if(e.verify){const i=jo(t,e.verify);return new MN(i,n)}return ge(1463,{proto:e})}function lxe(t,e){return t&&t.length>0?(we(e!==void 0,14353),t.map(n=>function(i,o){let s=i.updateTime?Qt(i.updateTime):Qt(o);return s.isEqual(Te.min())&&(s=Qt(o)),new Y0e(s,i.transformResults||[])}(n,e))):[]}function XG(t,e){return{documents:[HG(t,e.path)]}}function C_(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=HG(t,i);const o=function(c){if(c.length!==0)return eH(it.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:Ta(h.field),direction:uxe(h.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=cP(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:i}}function QG(t,e,n,r){const{ft:i,parent:o}=C_(t,e),s={},a=[];let l=0;return n.forEach(c=>{const u=r?c.alias:"aggregate_"+l++;s[u]=c.alias,c.aggregateType==="count"?a.push({alias:u,count:{}}):c.aggregateType==="avg"?a.push({alias:u,avg:{field:Ta(c.fieldPath)}}):c.aggregateType==="sum"&&a.push({alias:u,sum:{field:Ta(c.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:a,structuredQuery:i.structuredQuery},parent:i.parent},gt:s,parent:o}}function JG(t){let e=KG(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){we(r===1,65062);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let o=[];n.where&&(o=function(d){const h=ZG(d);return h instanceof it&&ON(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(d){return d.map(h=>function(v){return new og(Ju(v.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,gy(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,p=d.values||[];return new ll(p,h)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const h=!d.before,p=d.values||[];return new ll(p,h)}(n.endAt)),_G(e,i,s,o,a,"F",l,c)}function cxe(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ZG(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ju(n.unaryFilter.field);return We.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ju(n.unaryFilter.field);return We.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ju(n.unaryFilter.field);return We.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ju(n.unaryFilter.field);return We.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ge(61313);default:return ge(60726)}}(t):t.fieldFilter!==void 0?function(n){return We.create(Ju(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ge(58110);default:return ge(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return it.create(n.compositeFilter.filters.map(r=>ZG(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ge(1026)}}(n.compositeFilter.op))}(t):ge(30097,{filter:t})}function uxe(t){return txe[t]}function dxe(t){return nxe[t]}function fxe(t){return rxe[t]}function Ta(t){return{fieldPath:t.canonicalString()}}function Ju(t){return jt.fromServerFormat(t.fieldPath)}function eH(t){return t instanceof We?function(n){if(n.op==="=="){if(D$(n.value))return{unaryFilter:{field:Ta(n.field),op:"IS_NAN"}};if(R$(n.value))return{unaryFilter:{field:Ta(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(D$(n.value))return{unaryFilter:{field:Ta(n.field),op:"IS_NOT_NAN"}};if(R$(n.value))return{unaryFilter:{field:Ta(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ta(n.field),op:dxe(n.op),value:n.value}}}(t):t instanceof it?function(n){const r=n.getFilters().map(i=>eH(i));return r.length===1?r[0]:{compositeFilter:{op:fxe(n.op),filters:r}}}(t):ge(54877,{filter:t})}function hxe(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function tH(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e,n,r,i,o=Te.min(),s=Te.min(),a=Ht.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ls(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nH{constructor(e){this.yt=e}}function pxe(t,e){let n;if(e.document)n=I_(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=de.fromSegments(e.noDocument.path),i=Yc(e.noDocument.readTime);n=It.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return ge(56709);{const r=de.fromSegments(e.unknownDocument.path),i=Yc(e.unknownDocument.version);n=It.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const o=new rt(i[0],i[1]);return Te.fromTimestamp(o)}(e.readTime)),n}function J$(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Jx(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(o,s){return{name:sg(o,s.key),fields:s.data.value.mapValue.fields,updateTime:xf(o,s.version.toTimestamp()),createTime:xf(o,s.createTime.toTimestamp())}}(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Kc(e.version)};else{if(!e.isUnknownDocument())return ge(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:Kc(e.version)}}return r}function Jx(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Kc(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Yc(t){const e=new rt(t.seconds,t.nanoseconds);return Te.fromTimestamp(e)}function ic(t,e){const n=(e.baseMutations||[]).map(o=>fP(t.yt,o));for(let o=0;o<e.mutations.length-1;++o){const s=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const a=e.mutations[o+1];s.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map(o=>fP(t.yt,o)),i=rt.fromMillis(e.localWriteTimeMs);return new $N(e.batchId,i,n,r)}function Dp(t){const e=Yc(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Yc(t.lastLimboFreeSnapshotVersion):Te.min();let r;return r=function(o){return o.documents!==void 0}(t.query)?function(o){const s=o.documents.length;return we(s===1,1966,{count:s}),tr(uh(KG(o.documents[0])))}(t.query):function(o){return tr(JG(o))}(t.query),new ls(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Ht.fromBase64String(t.resumeToken))}function rH(t,e){const n=Kc(e.snapshotVersion),r=Kc(e.lastLimboFreeSnapshotVersion);let i;i=Yx(e.target)?XG(t.yt,e.target):C_(t.yt,e.target).ft;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:qc(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function k_(t){const e=JG({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Qx(e,e.limit,"L"):e}function vT(t,e){return new VN(e.largestBatchId,fP(t.yt,e.overlayMutation))}function Z$(t,e){const n=e.path.lastSegment();return[t,er(e.path.popLast()),n]}function eL(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Kc(r.readTime),documentKey:er(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mxe{getBundleMetadata(e,n){return tL(e).get(n).next(r=>{if(r)return function(o){return{id:o.bundleId,createTime:Yc(o.createTime),version:o.version}}(r)})}saveBundleMetadata(e,n){return tL(e).put(function(i){return{bundleId:i.id,createTime:Kc(Qt(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return nL(e).get(n).next(r=>{if(r)return function(o){return{name:o.name,query:k_(o.bundledQuery),readTime:Yc(o.readTime)}}(r)})}saveNamedQuery(e,n){return nL(e).put(function(i){return{name:i.name,readTime:Kc(Qt(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function tL(t){return bn(t,b_)}function nL(t){return bn(t,w_)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new N_(e,r)}getOverlay(e,n){return sp(e).get(Z$(this.userId,n)).next(r=>r?vT(this.serializer,r):null)}getOverlays(e,n){const r=So();return W.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((o,s)=>{const a=new VN(n,s);i.push(this.St(e,a))}),W.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(s=>i.add(er(s.getCollectionPath())));const o=[];return i.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,r+1],!1,!0);o.push(sp(e).Z(tP,a))}),W.waitFor(o)}getOverlaysForCollection(e,n,r){const i=So(),o=er(n),s=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return sp(e).J(tP,s).next(a=>{for(const l of a){const c=vT(this.serializer,l);i.set(c.getKey(),c)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const o=So();let s;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return sp(e).ee({index:Zq,range:a},(l,c,u)=>{const d=vT(this.serializer,c);o.size()<i||d.largestBatchId===s?(o.set(d.getKey(),d),s=d.largestBatchId):u.done()}).next(()=>o)}St(e,n){return sp(e).put(function(i,o,s){const[a,l,c]=Z$(o,s.mutation.key);return{userId:o,collectionPath:l,documentId:c,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:ag(i.yt,s.mutation)}}(this.serializer,this.userId,n))}}function sp(t){return bn(t,__)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gxe{bt(e){return bn(e,IN)}getSessionToken(e){return this.bt(e).get("sessionToken").next(n=>{const r=n==null?void 0:n.value;return r?Ht.fromUint8Array(r):Ht.EMPTY_BYTE_STRING})}setSessionToken(e,n){return this.bt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(Nt(e.integerValue));else if("doubleValue"in e){const r=Nt(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),Qm(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=ks(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(Ns(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?fG(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):E_(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):ge(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){const r=e.fields||{};this.Ft(n,55);for(const i of Object.keys(r))this.Ot(i,n),this.Ct(r[i],n)}kt(e,n){var s,a;const r=e.fields||{};this.Ft(n,53);const i=pf,o=((a=(s=r[i].arrayValue)==null?void 0:s.values)==null?void 0:a.length)||0;this.Ft(n,15),n.Mt(Nt(o)),this.Ot(i,n),this.Ct(r[i],n)}Qt(e,n){const r=e.values||[];this.Ft(n,50);for(const i of r)this.Ct(i,n)}Lt(e,n){this.Ft(n,37),de.fromName(e).path.forEach(r=>{this.Ft(n,60),this.Ut(r,n)})}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}oc.Kt=new oc;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uu=255;function yxe(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function rL(t){const e=64-function(r){let i=0;for(let o=0;o<8;++o){const s=yxe(255&r[o]);if(i+=s,s!==8)break}return i}(t);return Math.ceil(e/8)}class vxe{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Ht()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const i=n.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const i=n.codePointAt(0);this.Jt(240|i>>>18),this.Jt(128|63&i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i)}}this.Ht()}Xt(e){const n=this.en(e),r=rL(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}nn(e){const n=this.en(e),r=rL(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}rn(){this.sn(Uu),this.sn(255)}_n(){this.an(Uu),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=function(o){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===Uu?(this.sn(Uu),this.sn(0)):this.sn(n)}Jt(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===Uu?(this.an(Uu),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class xxe{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class bxe{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class ap{constructor(){this.cn=new vxe,this.ln=new xxe(this.cn),this.hn=new bxe(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,n,r,i){this.Tn=e,this.In=n,this.En=r,this.dn=i}An(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new sc(this.Tn,this.In,this.En,r)}Rn(e,n,r){return{indexId:this.Tn,uid:e,arrayValue:$0(this.En),directionalValue:$0(this.dn),orderedDocumentKey:$0(n),documentKey:r.path.toArray()}}Vn(e,n,r){const i=this.Rn(e,n,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function sa(t,e){let n=t.Tn-e.Tn;return n!==0?n:(n=iL(t.En,e.En),n!==0?n:(n=iL(t.dn,e.dn),n!==0?n:de.comparator(t.In,e.In)))}function iL(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function $0(t){return z7()?function(n){let r="";for(let i=0;i<n.length;i++)r+=String.fromCharCode(n[i]);return r}(t):t}function oL(t){return typeof t!="string"?t:function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(t)}class sL{constructor(e){this.mn=new st((n,r)=>jt.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const n of e.filters){const r=n;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(we(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=JA(e);if(n!==void 0&&!this.wn(n))return!1;const r=Jl(e);let i=new Set,o=0,s=0;for(;o<r.length&&this.wn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.mn.size>0){const a=this.mn.getIterator().getNext();if(!i.has(a.field.canonicalString())){const l=r[o];if(!this.Sn(a,l)||!this.bn(this.fn[s++],l))return!1}++o}for(;o<r.length;++o){const a=r[o];if(s>=this.fn.length||!this.bn(this.fn[s++],a))return!1}return!0}Dn(){if(this.pn)return null;let e=new st(jt.comparator);const n=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new _c(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new _c(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new _c(r.field,r.dir==="asc"?0:1)));return new lf(lf.UNKNOWN_ID,this.collectionId,n,cf.empty())}wn(e){for(const n of this.gn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}bn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iH(t){var n,r;if(we(t instanceof We||t instanceof it,20012),t instanceof We){if(t instanceof wG){const i=((r=(n=t.value.arrayValue)==null?void 0:n.values)==null?void 0:r.map(o=>We.create(t.field,"==",o)))||[];return it.create(i,"or")}return t}const e=t.filters.map(i=>iH(i));return it.create(e,t.op)}function wxe(t){if(t.getFilters().length===0)return[];const e=mP(iH(t));return we(oH(e),7391),hP(e)||pP(e)?[e]:e.getFilters()}function hP(t){return t instanceof We}function pP(t){return t instanceof it&&ON(t)}function oH(t){return hP(t)||pP(t)||function(n){if(n instanceof it&&oP(n)){for(const r of n.getFilters())if(!hP(r)&&!pP(r))return!1;return!0}return!1}(t)}function mP(t){if(we(t instanceof We||t instanceof it,34018),t instanceof We)return t;if(t.filters.length===1)return mP(t.filters[0]);const e=t.filters.map(r=>mP(r));let n=it.create(e,t.op);return n=Zx(n),oH(n)?n:(we(n instanceof it,64498),we(gf(n),40251),we(n.filters.length>1,57927),n.filters.reduce((r,i)=>UN(r,i)))}function UN(t,e){let n;return we(t instanceof We||t instanceof it,38388),we(e instanceof We||e instanceof it,25473),n=t instanceof We?e instanceof We?function(i,o){return it.create([i,o],"and")}(t,e):aL(t,e):e instanceof We?aL(e,t):function(i,o){if(we(i.filters.length>0&&o.filters.length>0,48005),gf(i)&&gf(o))return vG(i,o.getFilters());const s=oP(i)?i:o,a=oP(i)?o:i,l=s.filters.map(c=>UN(c,a));return it.create(l,"or")}(t,e),Zx(n)}function aL(t,e){if(gf(e))return vG(e,t.getFilters());{const n=e.filters.map(r=>UN(t,r));return it.create(n,"or")}}function Zx(t){if(we(t instanceof We||t instanceof it,11850),t instanceof We)return t;const e=t.getFilters();if(e.length===1)return Zx(e[0]);if(gG(t))return t;const n=e.map(i=>Zx(i)),r=[];return n.forEach(i=>{i instanceof We?r.push(i):i instanceof it&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:it.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _xe{constructor(){this.Cn=new zN}addToCollectionParentIndex(e,n){return this.Cn.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(ri.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(ri.min())}updateCollectionGroup(e,n,r){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class zN{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new st(Le.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new st(Le.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL="IndexedDbIndexManager",Dv=new Uint8Array(0);class Sxe{constructor(e,n){this.databaseId=n,this.vn=new zN,this.Fn=new Bs(r=>qc(r),(r,i)=>vy(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.vn.add(n)});const o={collectionId:r,parent:er(i)};return cL(e).put(o)}return W.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[Vq(n),""],!1,!0);return cL(e).J(i).next(o=>{for(const s of o){if(s.collectionId!==n)break;r.push(_o(s.parent))}return r})}addFieldIndex(e,n){const r=lp(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete i.indexId;const o=r.add(i);if(n.indexState){const s=Wu(e);return o.next(a=>{s.put(eL(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return o.next()}deleteFieldIndex(e,n){const r=lp(e),i=Wu(e),o=zu(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=lp(e),r=zu(e),i=Wu(e);return n.Z().next(()=>r.Z()).next(()=>i.Z())}createTargetIndexes(e,n){return W.forEach(this.Mn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const o=new sL(r).Dn();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,n){const r=zu(e);let i=!0;const o=new Map;return W.forEach(this.Mn(n),s=>this.xn(e,s).next(a=>{i&&(i=!!a),o.set(s,a)})).next(()=>{if(i){let s=Re();const a=[];return W.forEach(o,(l,c)=>{re(lL,`Using index ${function(w){return`id=${w.indexId}|cg=${w.collectionGroup}|f=${w.fields.map(E=>`${E.fieldPath}:${E.kind}`).join(",")}`}(l)} to execute ${qc(n)}`);const u=function(w,E){const S=JA(E);if(S===void 0)return null;for(const P of Xx(w,S.fieldPath))switch(P.op){case"array-contains-any":return P.value.arrayValue.values||[];case"array-contains":return[P.value]}return null}(c,l),d=function(w,E){const S=new Map;for(const P of Jl(E))for(const T of Xx(w,P.fieldPath))switch(T.op){case"==":case"in":S.set(P.fieldPath.canonicalString(),T.value);break;case"not-in":case"!=":return S.set(P.fieldPath.canonicalString(),T.value),Array.from(S.values())}return null}(c,l),h=function(w,E){const S=[];let P=!0;for(const T of Jl(E)){const A=T.kind===0?F$(w,T.fieldPath,w.startAt):B$(w,T.fieldPath,w.startAt);S.push(A.value),P&&(P=A.inclusive)}return new ll(S,P)}(c,l),p=function(w,E){const S=[];let P=!0;for(const T of Jl(E)){const A=T.kind===0?B$(w,T.fieldPath,w.endAt):F$(w,T.fieldPath,w.endAt);S.push(A.value),P&&(P=A.inclusive)}return new ll(S,P)}(c,l),v=this.On(l,c,h),m=this.On(l,c,p),y=this.Nn(l,c,d),b=this.Bn(l.indexId,u,v,h.inclusive,m,p.inclusive,y);return W.forEach(b,x=>r.Y(x,n.limit).next(w=>{w.forEach(E=>{const S=de.fromSegments(E.documentKey);s.has(S)||(s=s.add(S),a.push(S))})}))}).next(()=>a)}return W.resolve(null)})}Mn(e){let n=this.Fn.get(e);return n||(e.filters.length===0?n=[e]:n=wxe(it.create(e.filters,"and")).map(r=>aP(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Fn.set(e,n),n)}Bn(e,n,r,i,o,s,a){const l=(n!=null?n.length:1)*Math.max(r.length,o.length),c=l/(n!=null?n.length:1),u=[];for(let d=0;d<l;++d){const h=n?this.Ln(n[d/c]):Dv,p=this.kn(e,h,r[d%c],i),v=this.qn(e,h,o[d%c],s),m=a.map(y=>this.kn(e,h,y,!0));u.push(...this.createRange(p,v,m))}return u}kn(e,n,r,i){const o=new sc(e,de.empty(),n,r);return i?o:o.An()}qn(e,n,r,i){const o=new sc(e,de.empty(),n,r);return i?o.An():o}xn(e,n){const r=new sL(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let s=null;for(const a of o)r.yn(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,n){let r=2;const i=this.Mn(n);return W.forEach(i,o=>this.xn(e,o).next(s=>{s?r!==0&&s.fields.length<function(l){let c=new st(jt.comparator),u=!1;for(const d of l.filters)for(const h of d.getFlattenedFilters())h.field.isKeyField()||(h.op==="array-contains"||h.op==="array-contains-any"?u=!0:c=c.add(h.field));for(const d of l.orderBy)d.field.isKeyField()||(c=c.add(d.field));return c.size+(u?1:0)}(o)&&(r=1):r=0})).next(()=>function(s){return s.limit!==null}(n)&&i.length>1&&r===2?1:r)}Qn(e,n){const r=new ap;for(const i of Jl(e)){const o=n.data.field(i.fieldPath);if(o==null)return null;const s=r.Pn(i.kind);oc.Kt.Dt(o,s)}return r.un()}Ln(e){const n=new ap;return oc.Kt.Dt(e,n.Pn(0)),n.un()}$n(e,n){const r=new ap;return oc.Kt.Dt(Wc(this.databaseId,n),r.Pn(function(o){const s=Jl(o);return s.length===0?0:s[s.length-1].kind}(e))),r.un()}Nn(e,n,r){if(r===null)return[];let i=[];i.push(new ap);let o=0;for(const s of Jl(e)){const a=r[o++];for(const l of i)if(this.Un(n,s.fieldPath)&&ig(a))i=this.Kn(i,s,a);else{const c=l.Pn(s.kind);oc.Kt.Dt(a,c)}}return this.Wn(i)}On(e,n,r){return this.Nn(e,n,r.position)}Wn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Kn(e,n,r){const i=[...e],o=[];for(const s of r.arrayValue.values||[])for(const a of i){const l=new ap;l.seed(a.un()),oc.Kt.Dt(s,l.Pn(n.kind)),o.push(l)}return o}Un(e,n){return!!e.filters.find(r=>r instanceof We&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=lp(e),i=Wu(e);return(n?r.J(eP,IDBKeyRange.bound(n,n)):r.J()).next(o=>{const s=[];return W.forEach(o,a=>i.get([a.indexId,this.uid]).next(l=>{s.push(function(u,d){const h=d?new cf(d.sequenceNumber,new ri(Yc(d.readTime),new de(_o(d.documentKey)),d.largestBatchId)):cf.empty(),p=u.fields.map(([v,m])=>new _c(jt.fromServerFormat(v),m));return new lf(u.indexId,u.collectionGroup,p,h)}(a,l))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return o!==0?o:ke(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=lp(e),o=Wu(e);return this.Gn(e).next(s=>i.J(eP,IDBKeyRange.bound(n,n)).next(a=>W.forEach(a,l=>o.put(eL(l.indexId,this.uid,s,r)))))}updateIndexEntries(e,n){const r=new Map;return W.forEach(n,(i,o)=>{const s=r.get(i.collectionGroup);return(s?W.resolve(s):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),W.forEach(a,l=>this.zn(e,i,l).next(c=>{const u=this.jn(o,l);return c.isEqual(u)?W.resolve():this.Jn(e,o,l,c,u)}))))})}Hn(e,n,r,i){return zu(e).put(i.Rn(this.uid,this.$n(r,n.key),n.key))}Yn(e,n,r,i){return zu(e).delete(i.Vn(this.uid,this.$n(r,n.key),n.key))}zn(e,n,r){const i=zu(e);let o=new st(sa);return i.ee({index:Jq,range:IDBKeyRange.only([r.indexId,this.uid,$0(this.$n(r,n))])},(s,a)=>{o=o.add(new sc(r.indexId,n,oL(a.arrayValue),oL(a.directionalValue)))}).next(()=>o)}jn(e,n){let r=new st(sa);const i=this.Qn(n,e);if(i==null)return r;const o=JA(n);if(o!=null){const s=e.data.field(o.fieldPath);if(ig(s))for(const a of s.arrayValue.values||[])r=r.add(new sc(n.indexId,e.key,this.Ln(a),i))}else r=r.add(new sc(n.indexId,e.key,Dv,i));return r}Jn(e,n,r,i,o){re(lL,"Updating index entries for document '%s'",n.key);const s=[];return function(l,c,u,d,h){const p=l.getIterator(),v=c.getIterator();let m=Bu(p),y=Bu(v);for(;m||y;){let b=!1,x=!1;if(m&&y){const w=u(m,y);w<0?x=!0:w>0&&(b=!0)}else m!=null?x=!0:b=!0;b?(d(y),y=Bu(v)):x?(h(m),m=Bu(p)):(m=Bu(p),y=Bu(v))}}(i,o,sa,a=>{s.push(this.Hn(e,n,r,a))},a=>{s.push(this.Yn(e,n,r,a))}),W.waitFor(s)}Gn(e){let n=1;return Wu(e).ee({index:Qq,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((s,a)=>sa(s,a)).filter((s,a,l)=>!a||sa(s,l[a-1])!==0);const i=[];i.push(e);for(const s of r){const a=sa(s,e),l=sa(s,n);if(a===0)i[0]=e.An();else if(a>0&&l<0)i.push(s),i.push(s.An());else if(l>0)break}i.push(n);const o=[];for(let s=0;s<i.length;s+=2){if(this.Zn(i[s],i[s+1]))return[];const a=i[s].Vn(this.uid,Dv,de.empty()),l=i[s+1].Vn(this.uid,Dv,de.empty());o.push(IDBKeyRange.bound(a,l))}return o}Zn(e,n){return sa(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(uL)}getMinOffset(e,n){return W.mapArray(this.Mn(n),r=>this.xn(e,r).next(i=>i||ge(44426))).next(uL)}}function cL(t){return bn(t,eg)}function zu(t){return bn(t,nm)}function lp(t){return bn(t,PN)}function Wu(t){return bn(t,tm)}function uL(t){we(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;TN(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new ri(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dL={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sH=41943040;class Kn{static withCacheSize(e){return new Kn(e,Kn.DEFAULT_COLLECTION_PERCENTILE,Kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aH(t,e,n){const r=t.store(Fi),i=t.store(uf),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const l=r.ee({range:s},(u,d,h)=>(a++,h.delete()));o.push(l.next(()=>{we(a===1,47070,{batchId:n.batchId})}));const c=[];for(const u of n.mutations){const d=Kq(e,u.key.path,n.batchId);o.push(i.delete(d)),c.push(u.key)}return W.waitFor(o).next(()=>c)}function eb(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ge(14731);e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kn.DEFAULT_COLLECTION_PERCENTILE=10,Kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Kn.DEFAULT=new Kn(sH,Kn.DEFAULT_COLLECTION_PERCENTILE,Kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Kn.DISABLED=new Kn(-1,0,0);class O_{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Xn={}}static wt(e,n,r,i){we(e.uid!=="",64387);const o=e.isAuthenticated()?e.uid:"";return new O_(o,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return aa(e).ee({index:fc,range:r},(i,o,s)=>{n=!1,s.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const o=Zu(e),s=aa(e);return s.add({}).next(a=>{we(typeof a=="number",49019);const l=new $N(a,n,r,i),c=function(p,v,m){const y=m.baseMutations.map(x=>ag(p.yt,x)),b=m.mutations.map(x=>ag(p.yt,x));return{userId:v,batchId:m.batchId,localWriteTimeMs:m.localWriteTime.toMillis(),baseMutations:y,mutations:b}}(this.serializer,this.userId,l),u=[];let d=new st((h,p)=>ke(h.canonicalString(),p.canonicalString()));for(const h of i){const p=Kq(this.userId,h.key.path,a);d=d.add(h.key.path.popLast()),u.push(s.put(c)),u.push(o.put(p,o0e))}return d.forEach(h=>{u.push(this.indexManager.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.Xn[a]=l.keys()}),W.waitFor(u).next(()=>l)})}lookupMutationBatch(e,n){return aa(e).get(n).next(r=>r?(we(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),ic(this.serializer,r)):null)}er(e,n){return this.Xn[n]?W.resolve(this.Xn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Xn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return aa(e).ee({index:fc,range:i},(s,a,l)=>{a.userId===this.userId&&(we(a.batchId>=r,47524,{tr:r}),o=ic(this.serializer,a)),l.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Ka;return aa(e).ee({index:fc,range:n,reverse:!0},(i,o,s)=>{r=o.batchId,s.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,Ka],[this.userId,Number.POSITIVE_INFINITY]);return aa(e).J(fc,n).next(r=>r.map(i=>ic(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=k0(this.userId,n.path),i=IDBKeyRange.lowerBound(r),o=[];return Zu(e).ee({range:i},(s,a,l)=>{const[c,u,d]=s,h=_o(u);if(c===this.userId&&n.path.isEqual(h))return aa(e).get(d).next(p=>{if(!p)throw ge(61480,{nr:s,batchId:d});we(p.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:p.userId,batchId:d}),o.push(ic(this.serializer,p))});l.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new st(ke);const i=[];return n.forEach(o=>{const s=k0(this.userId,o.path),a=IDBKeyRange.lowerBound(s),l=Zu(e).ee({range:a},(c,u,d)=>{const[h,p,v]=c,m=_o(p);h===this.userId&&o.path.isEqual(m)?r=r.add(v):d.done()});i.push(l)}),W.waitFor(i).next(()=>this.rr(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,o=k0(this.userId,r),s=IDBKeyRange.lowerBound(o);let a=new st(ke);return Zu(e).ee({range:s},(l,c,u)=>{const[d,h,p]=l,v=_o(h);d===this.userId&&r.isPrefixOf(v)?v.length===i&&(a=a.add(p)):u.done()}).next(()=>this.rr(e,a))}rr(e,n){const r=[],i=[];return n.forEach(o=>{i.push(aa(e).get(o).next(s=>{if(s===null)throw ge(35274,{batchId:o});we(s.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:s.userId,batchId:o}),r.push(ic(this.serializer,s))}))}),W.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return aH(e.le,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.ir(n.batchId)}),W.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return W.resolve();const r=IDBKeyRange.lowerBound(function(s){return[s]}(this.userId)),i=[];return Zu(e).ee({range:r},(o,s,a)=>{if(o[0]===this.userId){const l=_o(o[1]);i.push(l)}else a.done()}).next(()=>{we(i.length===0,56720,{sr:i.map(o=>o.canonicalString())})})})}containsKey(e,n){return lH(e,this.userId,n)}_r(e){return cH(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:Ka,lastStreamToken:""})}}function lH(t,e,n){const r=k0(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return Zu(t).ee({range:o,X:!0},(a,l,c)=>{const[u,d,h]=a;u===e&&d===i&&(s=!0),c.done()}).next(()=>s)}function aa(t){return bn(t,Fi)}function Zu(t){return bn(t,uf)}function cH(t){return bn(t,Jm)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Xc(0)}static cr(){return new Xc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Txe{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.lr(e).next(n=>{const r=new Xc(n.highestTargetId);return n.highestTargetId=r.next(),this.hr(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.lr(e).next(n=>Te.fromTimestamp(new rt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.lr(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.lr(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.hr(e,i)))}addTargetData(e,n){return this.Pr(e,n).next(()=>this.lr(e).next(r=>(r.targetCount+=1,this.Tr(n,r),this.hr(e,r))))}updateTargetData(e,n){return this.Pr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>qu(e).delete(n.targetId)).next(()=>this.lr(e)).next(r=>(we(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r)))}removeTargets(e,n,r){let i=0;const o=[];return qu(e).ee((s,a)=>{const l=Dp(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,o.push(this.removeTargetData(e,l)))}).next(()=>W.waitFor(o)).next(()=>i)}forEachTarget(e,n){return qu(e).ee((r,i)=>{const o=Dp(i);n(o)})}lr(e){return fL(e).get(Kx).next(n=>(we(n!==null,2888),n))}hr(e,n){return fL(e).put(Kx,n)}Pr(e,n){return qu(e).put(rH(this.serializer,n))}Tr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next(n=>n.targetCount)}getTargetData(e,n){const r=qc(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return qu(e).ee({range:i,index:Xq},(s,a,l)=>{const c=Dp(a);vy(n,c.target)&&(o=c,l.done())}).next(()=>o)}addMatchingKeys(e,n,r){const i=[],o=Ea(e);return n.forEach(s=>{const a=er(s.path);i.push(o.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,s))}),W.waitFor(i)}removeMatchingKeys(e,n,r){const i=Ea(e);return W.forEach(n,o=>{const s=er(o.path);return W.waitFor([i.delete([r,s]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,n){const r=Ea(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Ea(e);let o=Re();return i.ee({range:r,X:!0},(s,a,l)=>{const c=_o(s[1]),u=new de(c);o=o.add(u)}).next(()=>o)}containsKey(e,n){const r=er(n.path),i=IDBKeyRange.bound([r],[Vq(r)],!1,!0);let o=0;return Ea(e).ee({index:AN,X:!0,range:i},([s,a],l,c)=>{s!==0&&(o++,c.done())}).next(()=>o>0)}At(e,n){return qu(e).get(n).next(r=>r?Dp(r):null)}}function qu(t){return bn(t,df)}function fL(t){return bn(t,Sc)}function Ea(t){return bn(t,ff)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL="LruGarbageCollector",uH=1048576;function pL([t,e],[n,r]){const i=ke(t,n);return i===0?ke(e,r):i}class Exe{constructor(e){this.Ir=e,this.buffer=new st(pL),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();pL(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class dH{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){re(hL,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Sl(n)?re(hL,"Ignoring IndexedDB error during garbage collection: ",n):await _l(n)}await this.Vr(3e5)})}}class Axe{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return W.resolve(_r.ce);const r=new Exe(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(re("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(dL)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(re("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dL):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,o,s,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,s=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(o=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(c=Date.now(),Xu()<=ze.DEBUG&&re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:d})))}}function fH(t,e){return new Axe(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pxe{constructor(e,n){this.db=e,this.garbageCollector=fH(this,n)}gr(e){const n=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}pr(e,n){return this.Sr(e,(r,i)=>n(i))}addReference(e,n,r){return Mv(e,r)}removeReference(e,n,r){return Mv(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Mv(e,n)}br(e,n){return function(i,o){let s=!1;return cH(i).te(a=>lH(i,a,o).next(l=>(l&&(s=!0),W.resolve(!l)))).next(()=>s)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.Sr(e,(s,a)=>{if(a<=n){const l=this.br(e,s).next(c=>{if(!c)return o++,r.getEntry(e,s).next(()=>(r.removeEntry(s,Te.min()),Ea(e).delete(function(d){return[0,er(d.path)]}(s))))});i.push(l)}}).next(()=>W.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Mv(e,n)}Sr(e,n){const r=Ea(e);let i,o=_r.ce;return r.ee({index:AN},([s,a],{path:l,sequenceNumber:c})=>{s===0?(o!==_r.ce&&n(new de(_o(i)),o),o=c,i=l):o=_r.ce}).next(()=>{o!==_r.ce&&n(new de(_o(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Mv(t,e){return Ea(t).put(function(r,i){return{targetId:0,path:er(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hH{constructor(){this.changes=new Bs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,It.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?W.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ixe{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Ul(e).put(r)}removeEntry(e,n,r){return Ul(e).delete(function(o,s){const a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Jx(s),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.Dr(e,r)))}getEntry(e,n){let r=It.newInvalidDocument(n);return Ul(e).ee({index:N0,range:IDBKeyRange.only(cp(n))},(i,o)=>{r=this.Cr(n,o)}).next(()=>r)}vr(e,n){let r={size:0,document:It.newInvalidDocument(n)};return Ul(e).ee({index:N0,range:IDBKeyRange.only(cp(n))},(i,o)=>{r={document:this.Cr(n,o),size:eb(o)}}).next(()=>r)}getEntries(e,n){let r=Tr();return this.Fr(e,n,(i,o)=>{const s=this.Cr(i,o);r=r.insert(i,s)}).next(()=>r)}Mr(e,n){let r=Tr(),i=new _t(de.comparator);return this.Fr(e,n,(o,s)=>{const a=this.Cr(o,s);r=r.insert(o,a),i=i.insert(o,eb(s))}).next(()=>({documents:r,Or:i}))}Fr(e,n,r){if(n.isEmpty())return W.resolve();let i=new st(yL);n.forEach(l=>i=i.add(l));const o=IDBKeyRange.bound(cp(i.first()),cp(i.last())),s=i.getIterator();let a=s.getNext();return Ul(e).ee({index:N0,range:o},(l,c,u)=>{const d=de.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&yL(a,d)<0;)r(a,null),a=s.getNext();a&&a.isEqual(d)&&(r(a,c),a=s.hasNext()?s.getNext():null),a?u.j(cp(a)):u.done()}).next(()=>{for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,o){const s=n.path,a=[s.popLast().toArray(),s.lastSegment(),Jx(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ul(e).J(IDBKeyRange.bound(a,l,!0)).next(c=>{o==null||o.incrementDocumentReadCount(c.length);let u=Tr();for(const d of c){const h=this.Cr(de.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);h.isFoundDocument()&&(by(n,h)||i.has(h.key))&&(u=u.insert(h.key,h))}return u})}getAllFromCollectionGroup(e,n,r,i){let o=Tr();const s=gL(n,r),a=gL(n,ri.max());return Ul(e).ee({index:Yq,range:IDBKeyRange.bound(s,a,!0)},(l,c,u)=>{const d=this.Cr(de.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);o=o.insert(d.key,d),o.size===i&&u.done()}).next(()=>o)}newChangeBuffer(e){return new Cxe(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return mL(e).get(ZA).next(n=>(we(!!n,20021),n))}Dr(e,n){return mL(e).put(ZA,n)}Cr(e,n){if(n){const r=pxe(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Te.min())))return r}return It.newInvalidDocument(e)}}function pH(t){return new Ixe(t)}class Cxe extends hH{constructor(e,n){super(),this.Nr=e,this.trackRemovals=n,this.Br=new Bs(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new st((o,s)=>ke(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.Br.get(o);if(n.push(this.Nr.removeEntry(e,o,a.readTime)),s.isValidDocument()){const l=J$(this.Nr.serializer,s);i=i.add(o.path.popLast());const c=eb(l);r+=c-a.size,n.push(this.Nr.addEntry(e,o,l))}else if(r-=a.size,this.trackRemovals){const l=J$(this.Nr.serializer,s.convertToNoDocument(Te.min()));n.push(this.Nr.addEntry(e,o,l))}}),i.forEach(o=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(e,o))}),n.push(this.Nr.updateMetadata(e,r)),W.waitFor(n)}getFromCache(e,n){return this.Nr.vr(e,n).next(r=>(this.Br.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.Nr.Mr(e,n).next(({documents:r,Or:i})=>(i.forEach((o,s)=>{this.Br.set(o,{size:s,readTime:r.get(o).readTime})}),r))}}function mL(t){return bn(t,Zm)}function Ul(t){return bn(t,Hx)}function cp(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function gL(t,e){const n=e.documentKey.path.toArray();return[t,Jx(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function yL(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=ke(n[o],r[o]),i)return i;return i=ke(n.length,r.length),i||(i=ke(n[n.length-2],r[r.length-2]),i||ke(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kxe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mH{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&om(r.mutation,i,Sr.empty(),rt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Re()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Re()){const i=So();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=jp();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=So();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Re()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Tr();const s=im(),a=function(){return im()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof Us)?o=o.insert(c.key,c):u!==void 0?(s.set(c.key,u.mutation.getFieldMask()),om(u.mutation,c,u.mutation.getFieldMask(),rt.now())):s.set(c.key,Sr.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((c,u)=>s.set(c,u)),n.forEach((c,u)=>a.set(c,new kxe(u,s.get(c)??null))),a))}recalculateAndSaveOverlays(e,n){const r=im();let i=new _t((s,a)=>s-a),o=Re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Sr.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(i.get(a.batchId)||Re()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=kG();u.forEach(h=>{if(!o.has(h)){const p=$G(n.get(h),r.get(h));p!==null&&d.set(h,p),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,d))}return W.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return de.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):jN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):W.resolve(So());let a=af,l=o;return s.next(c=>W.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(u)?W.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,l,c,Re())).next(u=>({batchId:a,changes:CG(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new de(n)).next(r=>{let i=jp();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=jp();return this.indexManager.getCollectionParents(e,o).next(a=>W.forEach(a,l=>{const c=function(d,h){return new Fs(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((d,h)=>{s=s.insert(d,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,c)=>{const u=c.getKey();s.get(u)===null&&(s=s.insert(u,It.newInvalidDocument(u)))});let a=jp();return s.forEach((l,c)=>{const u=o.get(l);u!==void 0&&om(u.mutation,c,Sr.empty(),rt.now()),by(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nxe{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return W.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Qt(i.createTime)}}(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:k_(i.bundledQuery),readTime:Qt(i.readTime)}}(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oxe{constructor(){this.overlays=new _t(de.comparator),this.qr=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const r=So();return W.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.St(e,n,o)}),W.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(r)),W.resolve()}getOverlaysForCollection(e,n,r){const i=So(),o=n.length+1,s=new de(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return W.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new _t((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=o.get(c.largestBatchId);u===null&&(u=So(),o=o.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=So(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return W.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new VN(n,r));let o=this.qr.get(n);o===void 0&&(o=Re(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jxe{constructor(){this.sessionToken=Ht.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(){this.Qr=new st(Tn.$r),this.Ur=new st(Tn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Tn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Tn(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new de(new Le([])),r=new Tn(n,e),i=new Tn(n,e+1),o=[];return this.Ur.forEachInRange([r,i],s=>{this.Gr(s),o.push(s.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new de(new Le([])),r=new Tn(n,e),i=new Tn(n,e+1);let o=Re();return this.Ur.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Tn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Tn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return de.comparator(e.key,n.key)||ke(e.Yr,n.Yr)}static Kr(e,n){return ke(e.Yr,n.Yr)||de.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rxe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new st(Tn.$r)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new $N(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Zr=this.Zr.add(new Tn(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return W.resolve(s)}lookupMutationBatch(e,n){return W.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),o=i<0?0:i;return W.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?Ka:this.tr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Tn(n,0),i=new Tn(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],s=>{const a=this.Xr(s.Yr);o.push(a)}),W.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new st(ke);return n.forEach(i=>{const o=new Tn(i,0),s=new Tn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,s],a=>{r=r.add(a.Yr)})}),W.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;de.isDocumentKey(o)||(o=o.child(""));const s=new Tn(new de(o),0);let a=new st(ke);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Yr)),!0)},s),W.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){we(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return W.forEach(n.mutations,i=>{const o=new Tn(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Tn(n,0),i=this.Zr.firstAfterOrEqual(r);return W.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dxe{constructor(e){this.ri=e,this.docs=function(){return new _t(de.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return W.resolve(r?r.document.mutableCopy():It.newInvalidDocument(n))}getEntries(e,n){let r=Tr();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():It.newInvalidDocument(i))}),W.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Tr();const s=n.path,a=new de(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||TN(zq(u),r)<=0||(i.has(u.key)||by(n,u))&&(o=o.insert(u.key,u.mutableCopy()))}return W.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ge(9500)}ii(e,n){return W.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Mxe(this)}getSize(e){return W.resolve(this.size)}}class Mxe extends hH{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),W.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $xe{constructor(e){this.persistence=e,this.si=new Bs(n=>qc(n),vy),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.oi=0,this._i=new WN,this.targetCount=0,this.ai=Xc.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),W.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Xc(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.Pr(n),W.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.si.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),W.waitFor(o).next(()=>i)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return W.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),W.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),W.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return W.resolve(r)}containsKey(e,n){return W.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e,n){this.ui={},this.overlays={},this.ci=new _r(0),this.li=!1,this.li=!0,this.hi=new jxe,this.referenceDelegate=e(this),this.Pi=new $xe(this),this.indexManager=new _xe,this.remoteDocumentCache=function(i){return new Dxe(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new nH(n),this.Ii=new Nxe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Oxe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new Rxe(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){re("MemoryPersistence","Starting transaction:",e);const i=new Lxe(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ai(e,n){return W.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class Lxe extends qq{constructor(e){super(),this.currentSequenceNumber=e}}class j_{constructor(e){this.persistence=e,this.Ri=new WN,this.Vi=null}static mi(e){return new j_(e)}get fi(){if(this.Vi)return this.Vi;throw ge(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),W.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),W.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.fi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.fi,r=>{const i=de.fromPath(r);return this.gi(e,i).next(o=>{o||n.removeEntry(i,Te.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return W.or([()=>W.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class tb{constructor(e,n){this.persistence=e,this.pi=new Bs(r=>er(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=fH(this,n)}static mi(e,n){return new tb(e,n)}Ei(){}di(e){return W.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return W.forEach(this.pi,(r,i)=>this.br(e,r,i).next(o=>o?W.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,s=>this.br(e,s,n).next(a=>{a||(r++,o.removeEntry(s,Te.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),W.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),W.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),W.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=j0(e.data.value)),n}br(e,n,r){return W.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return W.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vxe{constructor(e){this.serializer=e}k(e,n,r,i){const o=new x_("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore(yy)}(e),function(l){l.createObjectStore(Jm,{keyPath:i0e}),l.createObjectStore(Fi,{keyPath:I$,autoIncrement:!0}).createIndex(fc,C$,{unique:!0}),l.createObjectStore(uf)}(e),vL(e),function(l){l.createObjectStore(Zl)}(e));let s=W.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore(ff),l.deleteObjectStore(df),l.deleteObjectStore(Sc)}(e),vL(e)),s=s.next(()=>function(l){const c=l.store(Sc),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Te.min().toTimestamp(),targetCount:0};return c.put(Kx,u)}(o))),r<4&&i>=4&&(r!==0&&(s=s.next(()=>function(l,c){return c.store(Fi).J().next(d=>{l.deleteObjectStore(Fi),l.createObjectStore(Fi,{keyPath:I$,autoIncrement:!0}).createIndex(fc,C$,{unique:!0});const h=c.store(Fi),p=d.map(v=>h.put(v));return W.waitFor(p)})}(e,o))),s=s.next(()=>{(function(l){l.createObjectStore(hf,{keyPath:h0e})})(e)})),r<5&&i>=5&&(s=s.next(()=>this.yi(o))),r<6&&i>=6&&(s=s.next(()=>(function(l){l.createObjectStore(Zm)}(e),this.wi(o)))),r<7&&i>=7&&(s=s.next(()=>this.Si(o))),r<8&&i>=8&&(s=s.next(()=>this.bi(e,o))),r<9&&i>=9&&(s=s.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(s=s.next(()=>this.Di(o))),r<11&&i>=11&&(s=s.next(()=>{(function(l){l.createObjectStore(b_,{keyPath:p0e})})(e),function(l){l.createObjectStore(w_,{keyPath:m0e})}(e)})),r<12&&i>=12&&(s=s.next(()=>{(function(l){const c=l.createObjectStore(__,{keyPath:_0e});c.createIndex(tP,S0e,{unique:!1}),c.createIndex(Zq,T0e,{unique:!1})})(e)})),r<13&&i>=13&&(s=s.next(()=>function(l){const c=l.createObjectStore(Hx,{keyPath:s0e});c.createIndex(N0,a0e),c.createIndex(Yq,l0e)}(e)).next(()=>this.Ci(e,o)).next(()=>e.deleteObjectStore(Zl))),r<14&&i>=14&&(s=s.next(()=>this.Fi(e,o))),r<15&&i>=15&&(s=s.next(()=>function(l){l.createObjectStore(PN,{keyPath:g0e,autoIncrement:!0}).createIndex(eP,y0e,{unique:!1}),l.createObjectStore(tm,{keyPath:v0e}).createIndex(Qq,x0e,{unique:!1}),l.createObjectStore(nm,{keyPath:b0e}).createIndex(Jq,w0e,{unique:!1})}(e))),r<16&&i>=16&&(s=s.next(()=>{n.objectStore(tm).clear()}).next(()=>{n.objectStore(nm).clear()})),r<17&&i>=17&&(s=s.next(()=>{(function(l){l.createObjectStore(IN,{keyPath:E0e})})(e)})),r<18&&i>=18&&z7()&&(s=s.next(()=>{n.objectStore(tm).clear()}).next(()=>{n.objectStore(nm).clear()})),s}wi(e){let n=0;return e.store(Zl).ee((r,i)=>{n+=eb(i)}).next(()=>{const r={byteSize:n};return e.store(Zm).put(ZA,r)})}yi(e){const n=e.store(Jm),r=e.store(Fi);return n.J().next(i=>W.forEach(i,o=>{const s=IDBKeyRange.bound([o.userId,Ka],[o.userId,o.lastAcknowledgedBatchId]);return r.J(fc,s).next(a=>W.forEach(a,l=>{we(l.userId===o.userId,18650,"Cannot process batch from unexpected user",{batchId:l.batchId});const c=ic(this.serializer,l);return aH(e,o.userId,c).next(()=>{})}))}))}Si(e){const n=e.store(ff),r=e.store(Zl);return e.store(Sc).get(Kx).next(i=>{const o=[];return r.ee((s,a)=>{const l=new Le(s),c=function(d){return[0,er(d)]}(l);o.push(n.get(c).next(u=>u?W.resolve():(d=>n.put({targetId:0,path:er(d),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>W.waitFor(o))})}bi(e,n){e.createObjectStore(eg,{keyPath:f0e});const r=n.store(eg),i=new zN,o=s=>{if(i.add(s)){const a=s.lastSegment(),l=s.popLast();return r.put({collectionId:a,parent:er(l)})}};return n.store(Zl).ee({X:!0},(s,a)=>{const l=new Le(s);return o(l.popLast())}).next(()=>n.store(uf).ee({X:!0},([s,a,l],c)=>{const u=_o(a);return o(u.popLast())}))}Di(e){const n=e.store(df);return n.ee((r,i)=>{const o=Dp(i),s=rH(this.serializer,o);return n.put(s)})}Ci(e,n){const r=n.store(Zl),i=[];return r.ee((o,s)=>{const a=n.store(Hx),l=function(d){return d.document?new de(Le.fromString(d.document.name).popFirst(5)):d.noDocument?de.fromSegments(d.noDocument.path):d.unknownDocument?de.fromSegments(d.unknownDocument.path):ge(36783)}(s).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};i.push(a.put(c))}).next(()=>W.waitFor(i))}Fi(e,n){const r=n.store(Fi),i=pH(this.serializer),o=new qN(j_.mi,this.serializer.yt);return r.J().next(s=>{const a=new Map;return s.forEach(l=>{let c=a.get(l.userId)??Re();ic(this.serializer,l).keys().forEach(u=>c=c.add(u)),a.set(l.userId,c)}),W.forEach(a,(l,c)=>{const u=new Pn(c),d=N_.wt(this.serializer,u),h=o.getIndexManager(u),p=O_.wt(u,this.serializer,h,o.referenceDelegate);return new mH(i,p,d,h).recalculateAndSaveOverlaysForDocumentKeys(new nP(n,_r.ce),l).next()})})}}function vL(t){t.createObjectStore(ff,{keyPath:u0e}).createIndex(AN,d0e,{unique:!0}),t.createObjectStore(df,{keyPath:"targetId"}).createIndex(Xq,c0e,{unique:!0}),t.createObjectStore(Sc)}const la="IndexedDbPersistence",xT=18e5,bT=5e3,wT="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",gH="main";class GN{constructor(e,n,r,i,o,s,a,l,c,u,d=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Mi=o,this.window=s,this.document=a,this.xi=c,this.Oi=u,this.Ni=d,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=h=>Promise.resolve(),!GN.v())throw new ee(G.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Pxe(this,i),this.$i=n+gH,this.serializer=new nH(l),this.Ui=new Oo(this.$i,this.Ni,new Vxe(this.serializer)),this.hi=new gxe,this.Pi=new Txe(this.referenceDelegate,this.serializer),this.remoteDocumentCache=pH(this.serializer),this.Ii=new mxe,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,u===!1&&Yt(la,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ee(G.FAILED_PRECONDITION,wT);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Pi.getHighestSequenceNumber(e))}).then(e=>{this.ci=new _r(e,this.xi)}).then(()=>{this.li=!0}).catch(e=>(this.Ui&&this.Ui.close(),Promise.reject(e)))}Ji(e){return this.Qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget(async()=>{this.started&&await this.Wi()}))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>$v(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Hi(e).next(n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable(()=>this.Qi(!1)))})}).next(()=>this.Yi(e)).next(n=>this.isPrimary&&!n?this.Zi(e).next(()=>!1):!!n&&this.Xi(e).next(()=>!0))).catch(e=>{if(Sl(e))return re(la,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return re(la,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable(()=>this.Qi(e)),this.isPrimary=e})}Hi(e){return up(e).get(Fu).next(n=>W.resolve(this.es(n)))}ts(e){return $v(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,xT)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=bn(n,hf);return r.J().next(i=>{const o=this.ss(i,xT),s=i.filter(a=>o.indexOf(a)===-1);return W.forEach(s,a=>r.delete(a.clientId)).next(()=>s)})}).catch(()=>[]);if(this.Ki)for(const n of e)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Wi().then(()=>this.ns()).then(()=>this.ji()))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?W.resolve(!0):up(e).get(Fu).next(n=>{if(n!==null&&this.rs(n.leaseTimestampMs,bT)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new ee(G.FAILED_PRECONDITION,wT);return!1}}return!(!this.networkEnabled||!this.inForeground)||$v(e).J().next(r=>this.ss(r,bT).find(i=>{if(this.clientId!==i.clientId){const o=!this.networkEnabled&&i.networkEnabled,s=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(o||s&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&re(la,`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[yy,hf],e=>{const n=new nP(e,_r.ce);return this.Zi(n).next(()=>this.ts(n))}),this.Ui.close(),this.Ps()}ss(e,n){return e.filter(r=>this.rs(r.updateTimeMs,n)&&!this.us(r.clientId))}Ts(){return this.runTransaction("getActiveClients","readonly",e=>$v(e).J().next(n=>this.ss(n,xT).map(r=>r.clientId)))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,n){return O_.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Sxe(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return N_.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,n,r){re(la,"Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",o=function(l){return l===18?I0e:l===17?rG:l===16?P0e:l===15?CN:l===14?nG:l===13?tG:l===12?A0e:l===11?eG:void ge(60245)}(this.Ni);let s;return this.Ui.runTransaction(e,i,o,a=>(s=new nP(a,this.ci?this.ci.next():_r.ce),n==="readwrite-primary"?this.Hi(s).next(l=>!!l||this.Yi(s)).next(l=>{if(!l)throw Yt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable(()=>this.Qi(!1)),new ee(G.FAILED_PRECONDITION,Wq);return r(s)}).next(l=>this.Xi(s).next(()=>l)):this.Is(s).next(()=>r(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}Is(e){return up(e).get(Fu).next(n=>{if(n!==null&&this.rs(n.leaseTimestampMs,bT)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new ee(G.FAILED_PRECONDITION,wT)})}Xi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return up(e).put(Fu,n)}static v(){return Oo.v()}Zi(e){const n=up(e);return n.get(Fu).next(r=>this.es(r)?(re(la,"Releasing primary lease."),n.delete(Fu)):W.resolve())}rs(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Yt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi()))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){var e;typeof((e=this.window)==null?void 0:e.addEventListener)=="function"&&(this.Bi=()=>{this.cs();const n=/(?:Version|Mobile)\/1[456]/;U7()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){var n;try{const r=((n=this.Ki)==null?void 0:n.getItem(this._s(e)))!==null;return re(la,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Yt(la,"Failed to get zombied client id.",r),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){Yt("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function up(t){return bn(t,yy)}function $v(t){return bn(t,hf)}function HN(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Re(),i=Re();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new KN(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fxe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yH{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return U7()?8:Gq(xn())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ys(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ws(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new Fxe;return this.Ss(e,n,s).next(a=>{if(o.result=a,this.Vs)return this.bs(e,n,s,a.size)})}).next(()=>o.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(Xu()<=ze.DEBUG&&re("QueryEngine","SDK will not create cache indexes for query:",Qu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),W.resolve()):(Xu()<=ze.DEBUG&&re("QueryEngine","Query:",Qu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Xu()<=ze.DEBUG&&re("QueryEngine","The SDK decides to create cache indexes for query:",Qu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,tr(n))):W.resolve())}ys(e,n){if(U$(n))return W.resolve(null);let r=tr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Qx(n,null,"F"),r=tr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Re(...o);return this.ps.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Ds(n,a);return this.Cs(n,c,s,l.readTime)?this.ys(e,Qx(n,null,"F")):this.vs(e,c,n,l)}))})))}ws(e,n,r,i){return U$(n)||i.isEqual(Te.min())?W.resolve(null):this.ps.getDocuments(e,r).next(o=>{const s=this.Ds(n,o);return this.Cs(n,s,r,i)?W.resolve(null):(Xu()<=ze.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Qu(n)),this.vs(e,s,n,Uq(i,af)).next(a=>a))})}Ds(e,n){let r=new st(PG(e));return n.forEach((i,o)=>{by(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return Xu()<=ze.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",Qu(n)),this.ps.getDocumentsMatchingQuery(e,n,ri.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN="LocalStore",Bxe=3e8;class Uxe{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new _t(ke),this.xs=new Bs(o=>qc(o),vy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mH(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function vH(t,e,n,r){return new Uxe(t,e,n,r)}async function xH(t,e){const n=fe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Re();for(const c of i){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of o){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ls:c,removedBatchIds:s,addedBatchIds:a}))})})}function zxe(t,e){const n=fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const d=c.batch,h=d.keys();let p=W.resolve();return h.forEach(v=>{p=p.next(()=>u.getEntry(l,v)).next(m=>{const y=c.docVersions.get(v);we(y!==null,48541),m.version.compareTo(y)<0&&(d.applyToRemoteDocument(m,c),m.isValidDocument()&&(m.setReadTime(c.commitVersion),u.addEntry(m)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Re();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function bH(t){const e=fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function Wxe(t,e){const n=fe(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];e.targetChanges.forEach((u,d)=>{const h=i.get(d);if(!h)return;a.push(n.Pi.removeMatchingKeys(o,u.removedDocuments,d).next(()=>n.Pi.addMatchingKeys(o,u.addedDocuments,d)));let p=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(Ht.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),i=i.insert(d,p),function(m,y,b){return m.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=Bxe?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(h,p,u)&&a.push(n.Pi.updateTargetData(o,p))});let l=Tr(),c=Re();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(wH(o,s,e.documentUpdates).next(u=>{l=u.ks,c=u.qs})),!r.isEqual(Te.min())){const u=n.Pi.getLastRemoteSnapshotVersion(o).next(d=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(u)}return W.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(n.Ms=i,o))}function wH(t,e,n){let r=Re(),i=Re();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Tr();return n.forEach((a,l)=>{const c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Te.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):re(YN,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{ks:s,qs:i}})}function qxe(t,e){const n=fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Ka),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function bf(t,e){const n=fe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(o=>o?(i=o,W.resolve(i)):n.Pi.allocateTargetId(r).next(s=>(i=new ls(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function wf(t,e,n){const r=fe(t),i=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Sl(s))throw s;re(YN,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function nb(t,e,n){const r=fe(t);let i=Te.min(),o=Re();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){const d=fe(l),h=d.xs.get(u);return h!==void 0?W.resolve(d.Ms.get(h)):d.Pi.getTargetData(c,u)}(r,s,tr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(s,e,n?i:Te.min(),n?o:Re())).next(a=>(TH(r,AG(e),a),{documents:a,Qs:o})))}function _H(t,e){const n=fe(t),r=fe(n.Pi),i=n.Ms.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",o=>r.At(o,e).next(s=>s?s.target:null))}function SH(t,e){const n=fe(t),r=n.Os.get(e)||Te.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.Ns.getAllFromCollectionGroup(i,e,Uq(r,af),Number.MAX_SAFE_INTEGER)).then(i=>(TH(n,e,i),i))}function TH(t,e,n){let r=t.Os.get(e)||Te.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Os.set(e,r)}async function Gxe(t,e,n,r){const i=fe(t);let o=Re(),s=Tr();for(const c of n){const u=e.$s(c.metadata.name);c.document&&(o=o.add(u));const d=e.Us(c);d.setReadTime(e.Ks(c.metadata.readTime)),s=s.insert(u,d)}const a=i.Ns.newChangeBuffer({trackRemovals:!0}),l=await bf(i,function(u){return tr(uh(Le.fromString(`__bundle__/docs/${u}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",c=>wH(c,a,s).next(u=>(a.apply(c),u)).next(u=>i.Pi.removeMatchingKeysForTargetId(c,l.targetId).next(()=>i.Pi.addMatchingKeys(c,o,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,u.ks,u.qs)).next(()=>u.ks)))}async function Hxe(t,e,n=Re()){const r=await bf(t,tr(k_(e.bundledQuery))),i=fe(t);return i.persistence.runTransaction("Save named query","readwrite",o=>{const s=Qt(e.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Ii.saveNamedQuery(o,e);const a=r.withResumeToken(Ht.EMPTY_BYTE_STRING,s);return i.Ms=i.Ms.insert(a.targetId,a),i.Pi.updateTargetData(o,a).next(()=>i.Pi.removeMatchingKeysForTargetId(o,r.targetId)).next(()=>i.Pi.addMatchingKeys(o,n,r.targetId)).next(()=>i.Ii.saveNamedQuery(o,e))})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EH="firestore_clients";function xL(t,e){return`${EH}_${t}_${e}`}const AH="firestore_mutations";function bL(t,e,n){let r=`${AH}_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const PH="firestore_targets";function _T(t,e){return`${PH}_${t}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo="SharedClientState";class rb{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Ws(e,n,r){const i=JSON.parse(r);let o,s=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return s&&i.error&&(s=typeof i.error.message=="string"&&typeof i.error.code=="string",s&&(o=new ee(i.error.code,i.error.message))),s?new rb(e,n,i.state,o):(Yt(vo,`Failed to parse mutation state for ID '${n}': ${r}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class am{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Ws(e,n){const r=JSON.parse(n);let i,o=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return o&&r.error&&(o=typeof r.error.message=="string"&&typeof r.error.code=="string",o&&(i=new ee(r.error.code,r.error.message))),o?new am(e,r.state,i):(Yt(vo,`Failed to parse target state for ID '${e}': ${n}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ib{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ws(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,o=RN();for(let s=0;i&&s<r.activeTargetIds.length;++s)i=Hq(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new ib(e,o):(Yt(vo,`Failed to parse client data for instance '${e}': ${n}`),null)}}class XN{constructor(e,n){this.clientId=e,this.onlineState=n}static Ws(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new XN(n.clientId,n.onlineState):(Yt(vo,`Failed to parse online state: ${e}`),null)}}class gP{constructor(){this.activeTargetIds=RN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ST{constructor(e,n,r,i,o){this.window=e,this.Mi=n,this.persistenceKey=r,this.Js=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Hs=this.Ys.bind(this),this.Zs=new _t(ke),this.started=!1,this.Xs=[];const s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.eo=xL(this.persistenceKey,this.Js),this.no=function(l){return`firestore_sequence_number_${l}`}(this.persistenceKey),this.Zs=this.Zs.insert(this.Js,new gP),this.ro=new RegExp(`^${EH}_${s}_([^_]*)$`),this.io=new RegExp(`^${AH}_${s}_(\\d+)(?:_(.*))?$`),this.so=new RegExp(`^${PH}_${s}_(\\d+)$`),this.oo=function(l){return`firestore_online_state_${l}`}(this.persistenceKey),this._o=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.Hs)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Ts();for(const r of e){if(r===this.Js)continue;const i=this.getItem(xL(this.persistenceKey,r));if(i){const o=ib.Ws(r,i);o&&(this.Zs=this.Zs.insert(o.clientId,o))}}this.ao();const n=this.storage.getItem(this.oo);if(n){const r=this.uo(n);r&&this.co(r)}for(const r of this.Xs)this.Ys(r);this.Xs=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.no,JSON.stringify(e))}getAllActiveQueryTargets(){return this.lo(this.Zs)}isActiveQueryTarget(e){let n=!1;return this.Zs.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.ho(e,"pending")}updateMutationState(e,n,r){this.ho(e,n,r),this.Po(e)}addLocalQueryTarget(e,n=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(_T(this.persistenceKey,e));if(i){const o=am.Ws(e,i);o&&(r=o.state)}}return n&&this.To.zs(e),this.ao(),r}removeLocalQueryTarget(e){this.To.js(e),this.ao()}isLocalQueryTarget(e){return this.To.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(_T(this.persistenceKey,e))}updateQueryState(e,n,r){this.Io(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Po(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Eo(e)}notifyBundleLoaded(e){this.Ao(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Hs),this.removeItem(this.eo),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return re(vo,"READ",e,n),n}setItem(e,n){re(vo,"SET",e,n),this.storage.setItem(e,n)}removeItem(e){re(vo,"REMOVE",e),this.storage.removeItem(e)}Ys(e){const n=e;if(n.storageArea===this.storage){if(re(vo,"EVENT",n.key,n.newValue),n.key===this.eo)return void Yt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Mi.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.ro.test(n.key)){if(n.newValue==null){const r=this.Ro(n.key);return this.Vo(r,null)}{const r=this.mo(n.key,n.newValue);if(r)return this.Vo(r.clientId,r)}}else if(this.io.test(n.key)){if(n.newValue!==null){const r=this.fo(n.key,n.newValue);if(r)return this.po(r)}}else if(this.so.test(n.key)){if(n.newValue!==null){const r=this.yo(n.key,n.newValue);if(r)return this.wo(r)}}else if(n.key===this.oo){if(n.newValue!==null){const r=this.uo(n.newValue);if(r)return this.co(r)}}else if(n.key===this.no){const r=function(o){let s=_r.ce;if(o!=null)try{const a=JSON.parse(o);we(typeof a=="number",30636,{So:o}),s=a}catch(a){Yt(vo,"Failed to read sequence number from WebStorage",a)}return s}(n.newValue);r!==_r.ce&&this.sequenceNumberHandler(r)}else if(n.key===this._o){const r=this.bo(n.newValue);await Promise.all(r.map(i=>this.syncEngine.Do(i)))}}}else this.Xs.push(n)})}}get To(){return this.Zs.get(this.Js)}ao(){this.setItem(this.eo,this.To.Gs())}ho(e,n,r){const i=new rb(this.currentUser,e,n,r),o=bL(this.persistenceKey,this.currentUser,e);this.setItem(o,i.Gs())}Po(e){const n=bL(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Eo(e){const n={clientId:this.Js,onlineState:e};this.storage.setItem(this.oo,JSON.stringify(n))}Io(e,n,r){const i=_T(this.persistenceKey,e),o=new am(e,n,r);this.setItem(i,o.Gs())}Ao(e){const n=JSON.stringify(Array.from(e));this.setItem(this._o,n)}Ro(e){const n=this.ro.exec(e);return n?n[1]:null}mo(e,n){const r=this.Ro(e);return ib.Ws(r,n)}fo(e,n){const r=this.io.exec(e),i=Number(r[1]),o=r[2]!==void 0?r[2]:null;return rb.Ws(new Pn(o),i,n)}yo(e,n){const r=this.so.exec(e),i=Number(r[1]);return am.Ws(i,n)}uo(e){return XN.Ws(e)}bo(e){return JSON.parse(e)}async po(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Co(e.batchId,e.state,e.error);re(vo,`Ignoring mutation for non-active user ${e.user.uid}`)}wo(e){return this.syncEngine.vo(e.targetId,e.state,e.error)}Vo(e,n){const r=n?this.Zs.insert(e,n):this.Zs.remove(e),i=this.lo(this.Zs),o=this.lo(r),s=[],a=[];return o.forEach(l=>{i.has(l)||s.push(l)}),i.forEach(l=>{o.has(l)||a.push(l)}),this.syncEngine.Fo(s,a).then(()=>{this.Zs=r})}co(e){this.Zs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}lo(e){let n=RN();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class IH{constructor(){this.Mo=new gP,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new gP,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kxe{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wL="ConnectivityMonitor";class _L{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){re(wL,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){re(wL,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lv=null;function yP(){return Lv===null?Lv=function(){return 268435456+Math.round(2147483648*Math.random())}():Lv++,"0x"+Lv.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="RestConnection",Yxe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Xxe{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===ng?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,o){const s=yP(),a=this.zo(e,n.toUriEncodedString());re(TT,`Sending RPC '${e}' ${s}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,o);const{host:c}=new URL(a),u=gu(c);return this.Jo(e,a,l,r,u).then(d=>(re(TT,`Received RPC '${e}' ${s}: `,d),d),d=>{throw Ii(TT,`RPC '${e}' ${s} failed with error: `,d,"url: ",a,"request:",r),d})}Ho(e,n,r,i,o,s){return this.Go(e,n,r,i,o)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ch}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}zo(e,n){const r=Yxe[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qxe{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qn="WebChannelConnection";class Jxe extends Xxe{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){const s=yP();return new Promise((a,l)=>{const c=new Oq;c.setWithCredentials(!0),c.listenOnce(jq.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case C0.NO_ERROR:const d=c.getResponseJson();re(qn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),a(d);break;case C0.TIMEOUT:re(qn,`RPC '${e}' ${s} timed out`),l(new ee(G.DEADLINE_EXCEEDED,"Request time out"));break;case C0.HTTP_ERROR:const h=c.getStatus();if(re(qn,`RPC '${e}' ${s} failed with status:`,h,"response text:",c.getResponseText()),h>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const v=p==null?void 0:p.error;if(v&&v.status&&v.message){const m=function(b){const x=b.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(x)>=0?x:G.UNKNOWN}(v.status);l(new ee(m,v.message))}else l(new ee(G.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new ee(G.UNAVAILABLE,"Connection failed."));break;default:ge(9055,{l_:e,streamId:s,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{re(qn,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);re(qn,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}T_(e,n,r){const i=yP(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Mq(),a=Dq(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=o.join("");re(qn,`Creating RPC '${e}' stream ${i}: ${u}`,l);const d=s.createWebChannel(u,l);this.I_(d);let h=!1,p=!1;const v=new Qxe({Yo:y=>{p?re(qn,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(re(qn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),re(qn,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},Zo:()=>d.close()}),m=(y,b,x)=>{y.listen(b,w=>{try{x(w)}catch(E){setTimeout(()=>{throw E},0)}})};return m(d,Op.EventType.OPEN,()=>{p||(re(qn,`RPC '${e}' stream ${i} transport opened.`),v.o_())}),m(d,Op.EventType.CLOSE,()=>{p||(p=!0,re(qn,`RPC '${e}' stream ${i} transport closed`),v.a_(),this.E_(d))}),m(d,Op.EventType.ERROR,y=>{p||(p=!0,Ii(qn,`RPC '${e}' stream ${i} transport errored. Name:`,y.name,"Message:",y.message),v.a_(new ee(G.UNAVAILABLE,"The operation could not be completed")))}),m(d,Op.EventType.MESSAGE,y=>{var b;if(!p){const x=y.data[0];we(!!x,16349);const w=x,E=(w==null?void 0:w.error)||((b=w[0])==null?void 0:b.error);if(E){re(qn,`RPC '${e}' stream ${i} received error:`,E);const S=E.status;let P=function(k){const O=Jt[k];if(O!==void 0)return BG(O)}(S),T=E.message;P===void 0&&(P=G.INTERNAL,T="Unknown error status: "+S+" with message "+E.message),p=!0,v.a_(new ee(P,T)),d.close()}else re(qn,`RPC '${e}' stream ${i} received:`,x),v.u_(x)}}),m(a,Rq.STAT_EVENT,y=>{y.stat===KA.PROXY?re(qn,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===KA.NOPROXY&&re(qn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.__()},0),v}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CH(){return typeof window<"u"?window:null}function L0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(t){return new ixe(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&re("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL="PersistentStream";class kH{constructor(e,n,r,i,o,s,a,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new QN(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===G.RESOURCE_EXHAUSTED?(Yt(n.toString()),Yt("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===G.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new ee(G.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return re(SL,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(re(SL,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Zxe extends kH{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=axe(this.serializer,e),r=function(o){if(!("targetChange"in o))return Te.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Te.min():s.readTime?Qt(s.readTime):Te.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=dP(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=Yx(l)?{documents:XG(o,l)}:{query:C_(o,l).ft},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=qG(o,s.resumeToken);const c=cP(o,s.expectedCount);c!==null&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(Te.min())>0){a.readTime=xf(o,s.snapshotVersion.toTimestamp());const c=cP(o,s.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=cxe(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=dP(this.serializer),n.removeTarget=e,this.q_(n)}}class ebe extends kH{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return we(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,we(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){we(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=lxe(e.writeResults,e.commitTime),r=Qt(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=dP(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>ag(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tbe{}class nbe extends tbe{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ee(G.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Go(e,uP(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ee(G.UNKNOWN,o.toString())})}Ho(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Ho(e,uP(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ee(G.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class rbe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Yt(n),this.aa=!1):re("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qc="RemoteStore";class ibe{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(s=>{r.enqueueAndForget(async()=>{El(this)&&(re(Qc,"Restarting streams for network reachability change."),await async function(l){const c=fe(l);c.Ea.add(4),await hh(c),c.Ra.set("Unknown"),c.Ea.delete(4),await Ty(c)}(this))})}),this.Ra=new rbe(r,i)}}async function Ty(t){if(El(t))for(const e of t.da)await e(!0)}async function hh(t){for(const e of t.da)await e(!1)}function R_(t,e){const n=fe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),eO(n)?ZN(n):mh(n).O_()&&JN(n,e))}function _f(t,e){const n=fe(t),r=mh(n);n.Ia.delete(e),r.O_()&&NH(n,e),n.Ia.size===0&&(r.O_()?r.L_():El(n)&&n.Ra.set("Unknown"))}function JN(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}mh(t).Y_(e)}function NH(t,e){t.Va.Ue(e),mh(t).Z_(e)}function ZN(t){t.Va=new exe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),mh(t).start(),t.Ra.ua()}function eO(t){return El(t)&&!mh(t).x_()&&t.Ia.size>0}function El(t){return fe(t).Ea.size===0}function OH(t){t.Va=void 0}async function obe(t){t.Ra.set("Online")}async function sbe(t){t.Ia.forEach((e,n)=>{JN(t,e)})}async function abe(t,e){OH(t),eO(t)?(t.Ra.ha(e),ZN(t)):t.Ra.set("Unknown")}async function lbe(t,e,n){if(t.Ra.set("Online"),e instanceof WG&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.Ia.delete(a),i.Va.removeTarget(a))}(t,e)}catch(r){re(Qc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ob(t,r)}else if(e instanceof M0?t.Va.Ze(e):e instanceof zG?t.Va.st(e):t.Va.tt(e),!n.isEqual(Te.min()))try{const r=await bH(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.Va.Tt(s);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=o.Ia.get(c);u&&o.Ia.set(c,u.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,c)=>{const u=o.Ia.get(l);if(!u)return;o.Ia.set(l,u.withResumeToken(Ht.EMPTY_BYTE_STRING,u.snapshotVersion)),NH(o,l);const d=new ls(u.target,l,c,u.sequenceNumber);JN(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){re(Qc,"Failed to raise snapshot:",r),await ob(t,r)}}async function ob(t,e,n){if(!Sl(e))throw e;t.Ea.add(1),await hh(t),t.Ra.set("Offline"),n||(n=()=>bH(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{re(Qc,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Ty(t)})}function jH(t,e){return e().catch(n=>ob(t,n,e))}async function ph(t){const e=fe(t),n=cl(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ka;for(;cbe(e);)try{const i=await qxe(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,ube(e,i)}catch(i){await ob(e,i)}RH(e)&&DH(e)}function cbe(t){return El(t)&&t.Ta.length<10}function ube(t,e){t.Ta.push(e);const n=cl(t);n.O_()&&n.X_&&n.ea(e.mutations)}function RH(t){return El(t)&&!cl(t).x_()&&t.Ta.length>0}function DH(t){cl(t).start()}async function dbe(t){cl(t).ra()}async function fbe(t){const e=cl(t);for(const n of t.Ta)e.ea(n.mutations)}async function hbe(t,e,n){const r=t.Ta.shift(),i=LN.from(r,e,n);await jH(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await ph(t)}async function pbe(t,e){e&&cl(t).X_&&await async function(r,i){if(function(s){return FG(s)&&s!==G.ABORTED}(i.code)){const o=r.Ta.shift();cl(r).B_(),await jH(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await ph(r)}}(t,e),RH(t)&&DH(t)}async function TL(t,e){const n=fe(t);n.asyncQueue.verifyOperationInProgress(),re(Qc,"RemoteStore received new credentials");const r=El(n);n.Ea.add(3),await hh(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Ty(n)}async function vP(t,e){const n=fe(t);e?(n.Ea.delete(2),await Ty(n)):e||(n.Ea.add(2),await hh(n),n.Ra.set("Unknown"))}function mh(t){return t.ma||(t.ma=function(n,r,i){const o=fe(n);return o.sa(),new Zxe(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Xo:obe.bind(null,t),t_:sbe.bind(null,t),r_:abe.bind(null,t),H_:lbe.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),eO(t)?ZN(t):t.Ra.set("Unknown")):(await t.ma.stop(),OH(t))})),t.ma}function cl(t){return t.fa||(t.fa=function(n,r,i){const o=fe(n);return o.sa(),new ebe(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:dbe.bind(null,t),r_:pbe.bind(null,t),ta:fbe.bind(null,t),na:hbe.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await ph(t)):(await t.fa.stop(),t.Ta.length>0&&(re(Qc,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Nn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new tO(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ee(G.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gh(t,e){if(Yt("AsyncQueue",`${e}: ${t}`),Sl(t))return new ee(G.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{static emptySet(e){return new Tc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||de.comparator(n.key,r.key):(n,r)=>de.comparator(n.key,r.key),this.keyedMap=jp(),this.sortedSet=new _t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Tc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Tc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(){this.ga=new _t(de.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ge(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Jc{constructor(e,n,r,i,o,s,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Jc(e,n,Tc.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mbe{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class gbe{constructor(){this.queries=AL(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=fe(n),o=i.queries;i.queries=AL(),o.forEach((s,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new ee(G.ABORTED,"Firestore shutting down"))}}function AL(){return new Bs(t=>EG(t),xy)}async function nO(t,e){const n=fe(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new mbe,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=gh(s,`Initialization of query '${Qu(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&iO(n)}async function rO(t,e){const n=fe(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function ybe(t,e){const n=fe(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.Sa)a.Fa(i)&&(r=!0);s.wa=i}}r&&iO(n)}function vbe(t,e,n){const r=fe(t),i=r.queries.get(e);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(e)}function iO(t){t.Ca.forEach(e=>{e.next()})}var xP,PL;(PL=xP||(xP={})).Ma="default",PL.Cache="cache";class oO{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Jc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Jc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==xP.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MH{constructor(e,n){this.Qa=e,this.byteLength=n}$a(){return"metadata"in this.Qa}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e){this.serializer=e}$s(e){return jo(this.serializer,e)}Us(e){return e.metadata.exists?I_(this.serializer,e.document,!1):It.newNoDocument(this.$s(e.metadata.name),this.Ks(e.metadata.readTime))}Ks(e){return Qt(e)}}class sO{constructor(e,n){this.Ua=e,this.serializer=n,this.Ka=[],this.Wa=[],this.collectionGroups=new Set,this.progress=$H(e)}get queries(){return this.Ka}get documents(){return this.Wa}Ga(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Qa.namedQuery)this.Ka.push(e.Qa.namedQuery);else if(e.Qa.documentMetadata){this.Wa.push({metadata:e.Qa.documentMetadata}),e.Qa.documentMetadata.exists||++n;const r=Le.fromString(e.Qa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Qa.document&&(this.Wa[this.Wa.length-1].document=e.Qa.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,{...this.progress}):null}za(e){const n=new Map,r=new IL(this.serializer);for(const i of e)if(i.metadata.queries){const o=r.$s(i.metadata.name);for(const s of i.metadata.queries){const a=(n.get(s)||Re()).add(o);n.set(s,a)}}return n}async ja(e){const n=await Gxe(e,new IL(this.serializer),this.Wa,this.Ua.id),r=this.za(this.documents);for(const i of this.Ka)await Hxe(e,i,r.get(i.name));return this.progress.taskState="Success",{progress:this.progress,Ja:this.collectionGroups,Ha:n}}}function $H(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LH{constructor(e){this.key=e}}class VH{constructor(e){this.key=e}}class FH{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Re(),this.mutatedKeys=Re(),this.eu=PG(e),this.tu=new Tc(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new EL,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const h=i.get(u),p=by(this.query,d)?d:null,v=!!h&&this.mutatedKeys.has(h.key),m=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let y=!1;h&&p?h.data.isEqual(p.data)?v!==m&&(r.track({type:3,doc:p}),y=!0):this.su(h,p)||(r.track({type:2,doc:p}),y=!0,(l&&this.eu(p,l)>0||c&&this.eu(p,c)<0)&&(a=!0)):!h&&p?(r.track({type:0,doc:p}),y=!0):h&&!p&&(r.track({type:1,doc:h}),y=!0,(l||c)&&(a=!0)),y&&(p?(s=s.add(p),o=m?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),r.track({type:1,doc:u})}return{tu:s,iu:r,Cs:a,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((u,d)=>function(p,v){const m=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge(20277,{Rt:y})}};return m(p)-m(v)}(u.type,d.type)||this.eu(u.doc,d.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,c=l!==this.Za;return this.Za=l,s.length!==0||c?{snapshot:new Jc(this.query,e.tu,o,s,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new EL,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Re(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new VH(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new LH(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Re();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Jc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Al="SyncEngine";class xbe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class bbe{constructor(e){this.key=e,this.hu=!1}}class wbe{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Bs(a=>EG(a),xy),this.Iu=new Map,this.Eu=new Set,this.du=new _t(de.comparator),this.Au=new Map,this.Ru=new WN,this.Vu={},this.mu=new Map,this.fu=Xc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function _be(t,e,n=!0){const r=D_(t);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await BH(r,e,n,!0),i}async function Sbe(t,e){const n=D_(t);await BH(n,e,!0,!1)}async function BH(t,e,n,r){const i=await bf(t.localStore,tr(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await aO(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&R_(t.remoteStore,i),a}async function aO(t,e,n,r,i){t.pu=(d,h,p)=>async function(m,y,b,x){let w=y.view.ru(b);w.Cs&&(w=await nb(m.localStore,y.query,!1).then(({documents:T})=>y.view.ru(T,w)));const E=x&&x.targetChanges.get(y.targetId),S=x&&x.targetMismatches.get(y.targetId)!=null,P=y.view.applyChanges(w,m.isPrimaryClient,E,S);return bP(m,y.targetId,P.au),P.snapshot}(t,d,h,p);const o=await nb(t.localStore,e,!0),s=new FH(e,o.Qs),a=s.ru(o.documents),l=Sy.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(a,t.isPrimaryClient,l);bP(t,n,c.au);const u=new xbe(e,n,s);return t.Tu.set(e,u),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function Tbe(t,e,n){const r=fe(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(s=>!xy(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await wf(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&_f(r.remoteStore,i.targetId),Sf(r,i.targetId)}).catch(_l)):(Sf(r,i.targetId),await wf(r.localStore,i.targetId,!0))}async function Ebe(t,e){const n=fe(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),_f(n.remoteStore,r.targetId))}async function Abe(t,e,n){const r=dO(t);try{const i=await function(s,a){const l=fe(s),c=rt.now(),u=a.reduce((p,v)=>p.add(v.key),Re());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let v=Tr(),m=Re();return l.Ns.getEntries(p,u).next(y=>{v=y,v.forEach((b,x)=>{x.isValidDocument()||(m=m.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,v)).next(y=>{d=y;const b=[];for(const x of a){const w=Q0e(x,d.get(x.key).overlayedDocument);w!=null&&b.push(new Us(x.key,w,pG(w.value.mapValue),Rt.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,b,a)}).next(y=>{h=y;const b=y.applyToLocalDocumentSet(d,m);return l.documentOverlayCache.saveOverlays(p,y.batchId,b)})}).then(()=>({batchId:h.batchId,changes:CG(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let c=s.Vu[s.currentUser.toKey()];c||(c=new _t(ke)),c=c.insert(a,l),s.Vu[s.currentUser.toKey()]=c}(r,i.batchId,n),await zs(r,i.changes),await ph(r.remoteStore)}catch(i){const o=gh(i,"Failed to persist write");n.reject(o)}}async function UH(t,e){const n=fe(t);try{const r=await Wxe(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Au.get(o);s&&(we(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?we(s.hu,14607):i.removedDocuments.size>0&&(we(s.hu,42227),s.hu=!1))}),await zs(n,r,e)}catch(r){await _l(r)}}function CL(t,e,n){const r=fe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((o,s)=>{const a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=fe(s);l.onlineState=a;let c=!1;l.queries.forEach((u,d)=>{for(const h of d.Sa)h.va(a)&&(c=!0)}),c&&iO(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Pbe(t,e,n){const r=fe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),o=i&&i.key;if(o){let s=new _t(de.comparator);s=s.insert(o,It.newNoDocument(o,Te.min()));const a=Re().add(o),l=new _y(Te.min(),new Map,new _t(ke),s,a);await UH(r,l),r.du=r.du.remove(o),r.Au.delete(e),uO(r)}else await wf(r.localStore,e,!1).then(()=>Sf(r,e,n)).catch(_l)}async function Ibe(t,e){const n=fe(t),r=e.batch.batchId;try{const i=await zxe(n.localStore,e);cO(n,r,null),lO(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await zs(n,i)}catch(i){await _l(i)}}async function Cbe(t,e,n){const r=fe(t);try{const i=await function(s,a){const l=fe(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(we(d!==null,37113),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);cO(r,e,n),lO(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await zs(r,i)}catch(i){await _l(i)}}async function kbe(t,e){const n=fe(t);El(n.remoteStore)||re(Al,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(s){const a=fe(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(n.localStore);if(r===Ka)return void e.resolve();const i=n.mu.get(r)||[];i.push(e),n.mu.set(r,i)}catch(r){const i=gh(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function lO(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function cO(t,e,n){const r=fe(t);let i=r.Vu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function Sf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||zH(t,r)})}function zH(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(_f(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),uO(t))}function bP(t,e,n){for(const r of n)r instanceof LH?(t.Ru.addReference(r.key,e),Nbe(t,r)):r instanceof VH?(re(Al,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||zH(t,r.key)):ge(19791,{wu:r})}function Nbe(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(re(Al,"New document in limbo: "+n),t.Eu.add(r),uO(t))}function uO(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new de(Le.fromString(e)),r=t.fu.next();t.Au.set(r,new bbe(n)),t.du=t.du.insert(n,r),R_(t.remoteStore,new ls(tr(uh(n.path)),r,"TargetPurposeLimboResolution",_r.ce))}}async function zs(t,e,n){const r=fe(t),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{s.push(r.pu(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const d=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){i.push(c);const d=KN.As(l.targetId,c);o.push(d)}}))}),await Promise.all(s),r.Pu.H_(i),await async function(l,c){const u=fe(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>W.forEach(c,h=>W.forEach(h.Es,p=>u.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>W.forEach(h.ds,p=>u.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!Sl(d))throw d;re(YN,"Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const p=u.Ms.get(h),v=p.snapshotVersion,m=p.withLastLimboFreeSnapshotVersion(v);u.Ms=u.Ms.insert(h,m)}}}(r.localStore,o))}async function Obe(t,e){const n=fe(t);if(!n.currentUser.isEqual(e)){re(Al,"User change. New user:",e.toKey());const r=await xH(n.localStore,e);n.currentUser=e,function(o,s){o.mu.forEach(a=>{a.forEach(l=>{l.reject(new ee(G.CANCELLED,s))})}),o.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await zs(n,r.Ls)}}function jbe(t,e){const n=fe(t),r=n.Au.get(e);if(r&&r.hu)return Re().add(r.key);{let i=Re();const o=n.Iu.get(e);if(!o)return i;for(const s of o){const a=n.Tu.get(s);i=i.unionWith(a.view.nu)}return i}}async function Rbe(t,e){const n=fe(t),r=await nb(n.localStore,e.query,!0),i=e.view.cu(r);return n.isPrimaryClient&&bP(n,e.targetId,i.au),i}async function Dbe(t,e){const n=fe(t);return SH(n.localStore,e).then(r=>zs(n,r))}async function Mbe(t,e,n,r){const i=fe(t),o=await function(a,l){const c=fe(a),u=fe(c.mutationQueue);return c.persistence.runTransaction("Lookup mutation documents","readonly",d=>u.er(d,l).next(h=>h?c.localDocuments.getDocuments(d,h):W.resolve(null)))}(i.localStore,e);o!==null?(n==="pending"?await ph(i.remoteStore):n==="acknowledged"||n==="rejected"?(cO(i,e,r||null),lO(i,e),function(a,l){fe(fe(a).mutationQueue).ir(l)}(i.localStore,e)):ge(6720,"Unknown batchState",{Su:n}),await zs(i,o)):re(Al,"Cannot apply mutation batch with id: "+e)}async function $be(t,e){const n=fe(t);if(D_(n),dO(n),e===!0&&n.gu!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await kL(n,r.toArray());n.gu=!0,await vP(n.remoteStore,!0);for(const o of i)R_(n.remoteStore,o)}else if(e===!1&&n.gu!==!1){const r=[];let i=Promise.resolve();n.Iu.forEach((o,s)=>{n.sharedClientState.isLocalQueryTarget(s)?r.push(s):i=i.then(()=>(Sf(n,s),wf(n.localStore,s,!0))),_f(n.remoteStore,s)}),await i,await kL(n,r),function(s){const a=fe(s);a.Au.forEach((l,c)=>{_f(a.remoteStore,c)}),a.Ru.Jr(),a.Au=new Map,a.du=new _t(de.comparator)}(n),n.gu=!1,await vP(n.remoteStore,!1)}}async function kL(t,e,n){const r=fe(t),i=[],o=[];for(const s of e){let a;const l=r.Iu.get(s);if(l&&l.length!==0){a=await bf(r.localStore,tr(l[0]));for(const c of l){const u=r.Tu.get(c),d=await Rbe(r,u);d.snapshot&&o.push(d.snapshot)}}else{const c=await _H(r.localStore,s);a=await bf(r.localStore,c),await aO(r,WH(c),s,!1,a.resumeToken)}i.push(a)}return r.Pu.H_(o),i}function WH(t){return _G(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Lbe(t){return function(n){return fe(fe(n).persistence).Ts()}(fe(t).localStore)}async function Vbe(t,e,n,r){const i=fe(t);if(i.gu)return void re(Al,"Ignoring unexpected query state notification.");const o=i.Iu.get(e);if(o&&o.length>0)switch(n){case"current":case"not-current":{const s=await SH(i.localStore,AG(o[0])),a=_y.createSynthesizedRemoteEventForCurrentChange(e,n==="current",Ht.EMPTY_BYTE_STRING);await zs(i,s,a);break}case"rejected":await wf(i.localStore,e,!0),Sf(i,e,r);break;default:ge(64155,n)}}async function Fbe(t,e,n){const r=D_(t);if(r.gu){for(const i of e){if(r.Iu.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){re(Al,"Adding an already active target "+i);continue}const o=await _H(r.localStore,i),s=await bf(r.localStore,o);await aO(r,WH(o),s.targetId,!1,s.resumeToken),R_(r.remoteStore,s)}for(const i of n)r.Iu.has(i)&&await wf(r.localStore,i,!1).then(()=>{_f(r.remoteStore,i),Sf(r,i)}).catch(_l)}}function D_(t){const e=fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=UH.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jbe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Pbe.bind(null,e),e.Pu.H_=ybe.bind(null,e.eventManager),e.Pu.yu=vbe.bind(null,e.eventManager),e}function dO(t){const e=fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ibe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Cbe.bind(null,e),e}function Bbe(t,e,n){const r=fe(t);(async function(o,s,a){try{const l=await s.getMetadata();if(await function(p,v){const m=fe(p),y=Qt(v.createTime);return m.persistence.runTransaction("hasNewerBundle","readonly",b=>m.Ii.getBundleMetadata(b,v.id)).then(b=>!!b&&b.createTime.compareTo(y)>=0)}(o.localStore,l))return await s.close(),a._completeWith(function(p){return{taskState:"Success",documentsLoaded:p.totalDocuments,bytesLoaded:p.totalBytes,totalDocuments:p.totalDocuments,totalBytes:p.totalBytes}}(l)),Promise.resolve(new Set);a._updateProgress($H(l));const c=new sO(l,s.serializer);let u=await s.bu();for(;u;){const h=await c.Ga(u);h&&a._updateProgress(h),u=await s.bu()}const d=await c.ja(o.localStore);return await zs(o,d.Ha,void 0),await function(p,v){const m=fe(p);return m.persistence.runTransaction("Save bundle","readwrite",y=>m.Ii.saveBundleMetadata(y,v))}(o.localStore,l),a._completeWith(d.progress),Promise.resolve(d.Ja)}catch(l){return Ii(Al,`Loading bundle failed with ${l}`),a._failWith(l),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class Tf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=bu(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return vH(this.persistence,new yH,e.initialUser,this.serializer)}Cu(e){return new qN(j_.mi,this.serializer)}Du(e){return new IH}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Tf.provider={build:()=>new Tf};class fO extends Tf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){we(this.persistence.referenceDelegate instanceof tb,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new dH(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Kn.withCacheSize(this.cacheSizeBytes):Kn.DEFAULT;return new qN(r=>tb.mi(r,n),this.serializer)}}class hO extends Tf{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await dO(this.xu.syncEngine),await ph(this.xu.remoteStore),await this.persistence.Ji(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}vu(e){return vH(this.persistence,new yH,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new dH(r,e.asyncQueue,n)}Mu(e,n){const r=new n0e(n,this.persistence);return new t0e(e.asyncQueue,r)}Cu(e){const n=HN(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Kn.withCacheSize(this.cacheSizeBytes):Kn.DEFAULT;return new GN(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,CH(),L0(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new IH}}class qH extends hO{constructor(e,n){super(e,n,!1),this.xu=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.xu.syncEngine;this.sharedClientState instanceof ST&&(this.sharedClientState.syncEngine={Co:Mbe.bind(null,n),vo:Vbe.bind(null,n),Fo:Fbe.bind(null,n),Ts:Lbe.bind(null,n),Do:Dbe.bind(null,n)},await this.sharedClientState.start()),await this.persistence.Ji(async r=>{await $be(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}Du(e){const n=CH();if(!ST.v(n))throw new ee(G.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=HN(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ST(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class ul{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>CL(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Obe.bind(null,this.syncEngine),await vP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new gbe}()}createDatastore(e){const n=bu(e.databaseInfo.databaseId),r=function(o){return new Jxe(o)}(e.databaseInfo);return function(o,s,a,l){return new nbe(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new ibe(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>CL(this.syncEngine,n,0),function(){return _L.v()?new _L:new Kxe}())}createSyncEngine(e,n){return function(i,o,s,a,l,c,u){const d=new wbe(i,o,s,a,l,c);return u&&(d.gu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=fe(i);re(Qc,"RemoteStore shutting down."),o.Ea.add(5),await hh(o),o.Aa.shutdown(),o.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}ul.provider={build:()=>new ul};function NL(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Yt("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ube{constructor(e,n){this.Bu=e,this.serializer=n,this.metadata=new Nn,this.buffer=new Uint8Array,this.Lu=function(){return new TextDecoder("utf-8")}(),this.ku().then(r=>{r&&r.$a()?this.metadata.resolve(r.Qa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.Qa)}`))},r=>this.metadata.reject(r))}close(){return this.Bu.cancel()}async getMetadata(){return this.metadata.promise}async bu(){return await this.getMetadata(),this.ku()}async ku(){const e=await this.qu();if(e===null)return null;const n=this.Lu.decode(e),r=Number(n);isNaN(r)&&this.Qu(`length string (${n}) is not valid number`);const i=await this.$u(r);return new MH(JSON.parse(i),e.length+r)}Uu(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}async qu(){for(;this.Uu()<0&&!await this.Ku(););if(this.buffer.length===0)return null;const e=this.Uu();e<0&&this.Qu("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async $u(e){for(;this.buffer.length<e;)await this.Ku()&&this.Qu("Reached the end of bundle when more is expected.");const n=this.Lu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}Qu(e){throw this.Bu.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ku(){const e=await this.Bu.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zbe{constructor(e,n){this.bundleData=e,this.serializer=n,this.cursor=0,this.elements=[];let r=this.bu();if(!r||!r.$a())throw new Error(`The first element of the bundle is not a metadata object, it is
         ${JSON.stringify(r==null?void 0:r.Qa)}`);this.metadata=r;do r=this.bu(),r!==null&&this.elements.push(r);while(r!==null)}getMetadata(){return this.metadata}Wu(){return this.elements}bu(){if(this.cursor===this.bundleData.length)return null;const e=this.qu(),n=this.$u(e);return new MH(JSON.parse(n),e)}$u(e){if(this.cursor+e>this.bundleData.length)throw new ee(G.INTERNAL,"Reached the end of bundle when more is expected.");return this.bundleData.slice(this.cursor,this.cursor+=e)}qu(){const e=this.cursor;let n=this.cursor;for(;n<this.bundleData.length;){if(this.bundleData[n]==="{"){if(n===e)throw new Error("First character is a bracket and not a number");return this.cursor=n,Number(this.bundleData.slice(e,n))}n++}throw new Error("Reached the end of bundle when more is expected.")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wbe{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ee(G.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(i,o){const s=fe(i),a={documents:o.map(d=>sg(s.serializer,d))},l=await s.Ho("BatchGetDocuments",s.serializer.databaseId,Le.emptyPath(),a,o.length),c=new Map;l.forEach(d=>{const h=sxe(s.serializer,d);c.set(h.key.toString(),h)});const u=[];return o.forEach(d=>{const h=c.get(d.toString());we(!!h,55234,{key:d}),u.push(h)}),u}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new fh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=de.fromPath(r);this.mutations.push(new MN(i,this.precondition(i)))}),await async function(r,i){const o=fe(r),s={writes:i.map(a=>ag(o.serializer,a))};await o.Go("Commit",o.serializer.databaseId,Le.emptyPath(),s)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw ge(50498,{Gu:e.constructor.name});n=Te.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new ee(G.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Te.min())?Rt.exists(!1):Rt.updateTime(n):Rt.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Te.min()))throw new ee(G.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Rt.updateTime(n)}return Rt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qbe{constructor(e,n,r,i,o){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=o,this.zu=r.maxAttempts,this.M_=new QN(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_(async()=>{const e=new Wbe(this.datastore),n=this.Hu(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Yu(i)}))}).catch(r=>{this.Yu(r)})})}Hu(e){try{const n=this.updateFunction(e);return!gy(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ju(),Promise.resolve()))):this.deferred.reject(e)}Zu(e){if((e==null?void 0:e.name)==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!FG(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dl="FirestoreClient";class Gbe{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Pn.UNAUTHENTICATED,this.clientId=_N.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{re(dl,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(re(dl,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Nn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=gh(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ET(t,e){t.asyncQueue.verifyOperationInProgress(),re(dl,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await xH(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function OL(t,e){t.asyncQueue.verifyOperationInProgress();const n=await pO(t);re(dl,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>TL(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>TL(e.remoteStore,i)),t._onlineComponents=e}async function pO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){re(dl,"Using user provided OfflineComponentProvider");try{await ET(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===G.FAILED_PRECONDITION||i.code===G.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ii("Error using user provided cache. Falling back to memory cache: "+n),await ET(t,new Tf)}}else re(dl,"Using default OfflineComponentProvider"),await ET(t,new fO(void 0));return t._offlineComponents}async function $_(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(re(dl,"Using user provided OnlineComponentProvider"),await OL(t,t._uninitializedComponentsProvider._online)):(re(dl,"Using default OnlineComponentProvider"),await OL(t,new ul))),t._onlineComponents}function GH(t){return pO(t).then(e=>e.persistence)}function yh(t){return pO(t).then(e=>e.localStore)}function HH(t){return $_(t).then(e=>e.remoteStore)}function mO(t){return $_(t).then(e=>e.syncEngine)}function KH(t){return $_(t).then(e=>e.datastore)}async function Ef(t){const e=await $_(t),n=e.eventManager;return n.onListen=_be.bind(null,e.syncEngine),n.onUnlisten=Tbe.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Sbe.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Ebe.bind(null,e.syncEngine),n}function Hbe(t){return t.asyncQueue.enqueue(async()=>{const e=await GH(t),n=await HH(t);return e.setNetworkEnabled(!0),function(i){const o=fe(i);return o.Ea.delete(0),Ty(o)}(n)})}function Kbe(t){return t.asyncQueue.enqueue(async()=>{const e=await GH(t),n=await HH(t);return e.setNetworkEnabled(!1),async function(i){const o=fe(i);o.Ea.add(0),await hh(o),o.Ra.set("Offline")}(n)})}function Ybe(t,e){const n=new Nn;return t.asyncQueue.enqueueAndForget(async()=>async function(i,o,s){try{const a=await function(c,u){const d=fe(c);return d.persistence.runTransaction("read document","readonly",h=>d.localDocuments.getDocument(h,u))}(i,o);a.isFoundDocument()?s.resolve(a):a.isNoDocument()?s.resolve(null):s.reject(new ee(G.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){const l=gh(a,`Failed to get document '${o} from cache`);s.reject(l)}}(await yh(t),e,n)),n.promise}function YH(t,e,n={}){const r=new Nn;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,c){const u=new M_({next:h=>{u.Nu(),s.enqueueAndForget(()=>rO(o,d));const p=h.docs.has(a);!p&&h.fromCache?c.reject(new ee(G.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?c.reject(new ee(G.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new oO(uh(a.path),u,{includeMetadataChanges:!0,qa:!0});return nO(o,d)}(await Ef(t),t.asyncQueue,e,n,r)),r.promise}function Xbe(t,e){const n=new Nn;return t.asyncQueue.enqueueAndForget(async()=>async function(i,o,s){try{const a=await nb(i,o,!0),l=new FH(o,a.Qs),c=l.ru(a.documents),u=l.applyChanges(c,!1);s.resolve(u.snapshot)}catch(a){const l=gh(a,`Failed to execute query '${o} against cache`);s.reject(l)}}(await yh(t),e,n)),n.promise}function XH(t,e,n={}){const r=new Nn;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,c){const u=new M_({next:h=>{u.Nu(),s.enqueueAndForget(()=>rO(o,d)),h.fromCache&&l.source==="server"?c.reject(new ee(G.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new oO(a,u,{includeMetadataChanges:!0,qa:!0});return nO(o,d)}(await Ef(t),t.asyncQueue,e,n,r)),r.promise}function Qbe(t,e,n){const r=new Nn;return t.asyncQueue.enqueueAndForget(async()=>{try{const i=await KH(t);r.resolve(async function(s,a,l){var m;const c=fe(s),{request:u,gt:d,parent:h}=QG(c.serializer,SG(a),l);c.connection.$o||delete u.parent;const p=(await c.Ho("RunAggregationQuery",c.serializer.databaseId,h,u,1)).filter(y=>!!y.result);we(p.length===1,64727);const v=(m=p[0].result)==null?void 0:m.aggregateFields;return Object.keys(v).reduce((y,b)=>(y[d[b]]=v[b],y),{})}(i,e,n))}catch(i){r.reject(i)}}),r.promise}function Jbe(t,e){const n=new M_(e);return t.asyncQueue.enqueueAndForget(async()=>function(i,o){fe(i).Ca.add(o),o.next()}(await Ef(t),n)),()=>{n.Nu(),t.asyncQueue.enqueueAndForget(async()=>function(i,o){fe(i).Ca.delete(o)}(await Ef(t),n))}}function Zbe(t,e,n,r){const i=function(s,a){let l;return l=typeof s=="string"?UG().encode(s):s,function(u,d){return new Ube(u,d)}(function(u,d){if(u instanceof Uint8Array)return NL(u,d);if(u instanceof ArrayBuffer)return NL(new Uint8Array(u),d);if(u instanceof ReadableStream)return u.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),a)}(n,bu(e));t.asyncQueue.enqueueAndForget(async()=>{Bbe(await mO(t),i,r)})}function ewe(t,e){return t.asyncQueue.enqueue(async()=>function(r,i){const o=fe(r);return o.persistence.runTransaction("Get named query","readonly",s=>o.Ii.getNamedQuery(s,i))}(await yh(t),e))}function QH(t,e){return function(r,i){return new zbe(r,i)}(t,e)}function twe(t,e){return t.asyncQueue.enqueue(async()=>async function(r,i){const o=fe(r),s=o.indexManager,a=[];return o.persistence.runTransaction("Configure indexes","readwrite",l=>s.getFieldIndexes(l).next(c=>function(d,h,p,v,m){d=[...d],h=[...h],d.sort(p),h.sort(p);const y=d.length,b=h.length;let x=0,w=0;for(;x<b&&w<y;){const E=p(d[w],h[x]);E<0?m(d[w++]):E>0?v(h[x++]):(x++,w++)}for(;x<b;)v(h[x++]);for(;w<y;)m(d[w++])}(c,i,Qve,u=>{a.push(s.addFieldIndex(l,u))},u=>{a.push(s.deleteFieldIndex(l,u))})).next(()=>W.waitFor(a)))}(await yh(t),e))}function nwe(t,e){return t.asyncQueue.enqueue(async()=>function(r,i){fe(r).Fs.Vs=i}(await yh(t),e))}function rwe(t){return t.asyncQueue.enqueue(async()=>function(n){const r=fe(n),i=r.indexManager;return r.persistence.runTransaction("Delete All Indexes","readwrite",o=>i.deleteAllFieldIndexes(o))}(await yh(t)))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JH(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jL=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZH="firestore.googleapis.com",RL=!0;class DL{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ee(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ZH,this.ssl=RL}else this.host=e.host,this.ssl=e.ssl??RL;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=sH;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<uH)throw new ee(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Xve("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=JH(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ee(G.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ee(G.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ee(G.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ey{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DL({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ee(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ee(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DL(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Fve;switch(r.type){case"firstParty":return new Wve(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ee(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=jL.get(n);r&&(re("ComponentProvider","Removing Datastore"),jL.delete(n),r.terminate())}(this),Promise.resolve()}}function iwe(t,e,n,r={}){var c;t=Be(t,Ey);const i=gu(e),o=t._getSettings(),s={...o,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(cN(`https://${a}`),V7("Firestore",!0)),o.host!==ZH&&o.host!==a&&Ii("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...o,host:a,ssl:i,emulatorOptions:r};if(!Pi(l,s)&&(t._setSettings(l),r.mockUserToken)){let u,d;if(typeof r.mockUserToken=="string")u=r.mockUserToken,d=Pn.MOCK_USER;else{u=Jpe(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new ee(G.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Pn(h)}t._authCredentials=new Bve(new Lq(u,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new On(this.firestore,e,this._query)}}class dt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ro(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dt(this.firestore,e,this._key)}toJSON(){return{type:dt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(xu(n,dt._jsonSchema))return new dt(e,r||null,new de(Le.fromString(n.referencePath)))}}dt._jsonSchemaVersion="firestore/documentReference/1.0",dt._jsonSchema={type:rn("string",dt._jsonSchemaVersion),referencePath:rn("string")};class Ro extends On{constructor(e,n,r){super(e,n,uh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dt(this.firestore,null,new de(e))}withConverter(e){return new Ro(this.firestore,e,this._path)}}function dp(t,e,...n){if(t=Je(t),SN("collection","path",e),t instanceof Ey){const r=Le.fromString(e,...n);return S$(r),new Ro(t,null,r)}{if(!(t instanceof dt||t instanceof Ro))throw new ee(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Le.fromString(e,...n));return S$(r),new Ro(t.firestore,null,r)}}function Sqe(t,e){if(t=Be(t,Ey),SN("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ee(G.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new On(t,null,function(r){return new Fs(Le.emptyPath(),r)}(e))}function da(t,e,...n){if(t=Je(t),arguments.length===1&&(e=_N.newId()),SN("doc","path",e),t instanceof Ey){const r=Le.fromString(e,...n);return _$(r),new dt(t,null,new de(r))}{if(!(t instanceof dt||t instanceof Ro))throw new ee(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Le.fromString(e,...n));return _$(r),new dt(t.firestore,t instanceof Ro?t.converter:null,new de(r))}}function Tqe(t,e){return t=Je(t),e=Je(e),(t instanceof dt||t instanceof Ro)&&(e instanceof dt||e instanceof Ro)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function eK(t,e){return t=Je(t),e=Je(e),t instanceof On&&e instanceof On&&t.firestore===e.firestore&&xy(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML="AsyncQueue";class $L{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new QN(this,"async_queue_retry"),this._c=()=>{const r=L0();r&&re(ML,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=L0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=L0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Nn;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Sl(e))throw e;re(ML,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Yt("INTERNAL UNHANDLED ERROR: ",LL(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=tO.createAndSchedule(this,e,n,r,o=>this.hc(o));return this.tc.push(i),i}uc(){this.nc&&ge(47125,{Pc:LL(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function LL(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $d(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class owe{constructor(){this._progressObserver={},this._taskCompletionResolver=new Nn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eqe=-1;class gt extends Ey{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new $L,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $L(e),this._firestoreClient=void 0,await e}}}function Aqe(t,e,n){n||(n=ng);const r=Vs(t,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),o=r.getOptions(n);if(Pi(o,e))return i;throw new ee(G.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new ee(G.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<uH)throw new ee(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&gu(e.host)&&cN(e.host),r.initialize({options:e,instanceIdentifier:n})}function swe(t,e){const n=typeof t=="object"?t:fN(),r=typeof t=="string"?t:e||ng,i=Vs(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=Xpe("firestore");o&&iwe(i,...o)}return i}function Ut(t){if(t._terminated)throw new ee(G.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||tK(t),t._firestoreClient}function tK(t){var r,i,o;const e=t._freezeSettings(),n=function(a,l,c,u){return new k0e(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,JH(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Gbe(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}function Pqe(t,e){Ii("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return nK(t,ul.provider,{build:r=>new hO(r,n.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function Iqe(t){Ii("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=t._freezeSettings();nK(t,ul.provider,{build:n=>new qH(n,e.cacheSizeBytes)})}function nK(t,e,n){if((t=Be(t,gt))._firestoreClient||t._terminated)throw new ee(G.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new ee(G.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},tK(t)}function Cqe(t){if(t._initialized&&!t._terminated)throw new ee(G.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Nn;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!Oo.v())return Promise.resolve();const i=r+gH;await Oo.delete(i)}(HN(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function kqe(t){return function(n){const r=new Nn;return n.asyncQueue.enqueueAndForget(async()=>kbe(await mO(n),r)),r.promise}(Ut(t=Be(t,gt)))}function Nqe(t){return Hbe(Ut(t=Be(t,gt)))}function Oqe(t){return Kbe(Ut(t=Be(t,gt)))}function jqe(t){return fge(t.app,"firestore",t._databaseId.database),t._delete()}function VL(t,e){const n=Ut(t=Be(t,gt)),r=new owe;return Zbe(n,t._databaseId,e,r),r}function awe(t,e){return ewe(Ut(t=Be(t,gt)),e).then(n=>n?new On(t,null,n.query):null)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class lwe{constructor(e,n,r){this._userDataWriter=n,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zr(Ht.fromBase64String(e))}catch(n){throw new ee(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zr(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:zr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(xu(e,zr._jsonSchema))return zr.fromBase64String(e.bytes)}}zr._jsonSchemaVersion="firestore/bytes/1.0",zr._jsonSchema={type:rn("string",zr._jsonSchemaVersion),bytes:rn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ee(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function Rqe(){return new wu(QA)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ee(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ee(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Do._jsonSchemaVersion}}static fromJSON(e){if(xu(e,Do._jsonSchema))return new Do(e.latitude,e.longitude)}}Do._jsonSchemaVersion="firestore/geoPoint/1.0",Do._jsonSchema={type:rn("string",Do._jsonSchemaVersion),latitude:rn("number"),longitude:rn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Xi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(xu(e,Xi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Xi(e.vectorValues);throw new ee(G.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Xi._jsonSchemaVersion="firestore/vectorValue/1.0",Xi._jsonSchema={type:rn("string",Xi._jsonSchemaVersion),vectorValues:rn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cwe=/^__.*__$/;class uwe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Us(e,this.data,this.fieldMask,n,this.fieldTransforms):new dh(e,this.data,n,this.fieldTransforms)}}class rK{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Us(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function iK(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge(40011,{Ac:t})}}class L_{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new L_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return sb(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(iK(this.Ac)&&cwe.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class dwe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||bu(e)}Cc(e,n,r,i=!1){return new L_({Ac:e,methodName:n,Dc:r,path:jt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Su(t){const e=t._freezeSettings(),n=bu(t._databaseId);return new dwe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function V_(t,e,n,r,i,o={}){const s=t.Cc(o.merge||o.mergeFields?2:0,e,n,i);_O("Data must be an object, but it was:",s,r);const a=aK(r,s);let l,c;if(o.merge)l=new Sr(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const u=[];for(const d of o.mergeFields){const h=cg(e,d,n);if(!s.contains(h))throw new ee(G.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);cK(u,h)||u.push(h)}l=new Sr(u),c=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=s.fieldTransforms;return new uwe(new Vn(a),l,c)}class Ay extends _u{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ay}}function oK(t,e,n){return new L_({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class gO extends _u{_toFieldTransform(e){return new wy(e.path,new yf)}isEqual(e){return e instanceof gO}}class yO extends _u{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=oK(this,e,!0),r=this.vc.map(o=>Tu(o,n)),i=new Gc(r);return new wy(e.path,i)}isEqual(e){return e instanceof yO&&Pi(this.vc,e.vc)}}class vO extends _u{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=oK(this,e,!0),r=this.vc.map(o=>Tu(o,n)),i=new Hc(r);return new wy(e.path,i)}isEqual(e){return e instanceof vO&&Pi(this.vc,e.vc)}}class xO extends _u{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new vf(e.serializer,OG(e.serializer,this.Fc));return new wy(e.path,n)}isEqual(e){return e instanceof xO&&this.Fc===e.Fc}}function bO(t,e,n,r){const i=t.Cc(1,e,n);_O("Data must be an object, but it was:",i,r);const o=[],s=Vn.empty();Tl(r,(l,c)=>{const u=F_(e,l,n);c=Je(c);const d=i.yc(u);if(c instanceof Ay)o.push(u);else{const h=Tu(c,d);h!=null&&(o.push(u),s.set(u,h))}});const a=new Sr(o);return new rK(s,a,i.fieldTransforms)}function wO(t,e,n,r,i,o){const s=t.Cc(1,e,n),a=[cg(e,r,n)],l=[i];if(o.length%2!=0)throw new ee(G.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(cg(e,o[h])),l.push(o[h+1]);const c=[],u=Vn.empty();for(let h=a.length-1;h>=0;--h)if(!cK(c,a[h])){const p=a[h];let v=l[h];v=Je(v);const m=s.yc(p);if(v instanceof Ay)c.push(p);else{const y=Tu(v,m);y!=null&&(c.push(p),u.set(p,y))}}const d=new Sr(c);return new rK(u,d,s.fieldTransforms)}function sK(t,e,n,r=!1){return Tu(n,t.Cc(r?4:3,e))}function Tu(t,e){if(lK(t=Je(t)))return _O("Unsupported field value:",e,t),aK(t,e);if(t instanceof _u)return function(r,i){if(!iK(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=Tu(a,i.wc(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Je(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return OG(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=rt.fromDate(r);return{timestampValue:xf(i.serializer,o)}}if(r instanceof rt){const o=new rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:xf(i.serializer,o)}}if(r instanceof Do)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof zr)return{bytesValue:qG(i.serializer,r._byteString)};if(r instanceof dt){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:BN(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Xi)return function(s,a){return{mapValue:{fields:{[kN]:{stringValue:NN},[pf]:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw a.Sc("VectorValues must only contain numeric values.");return DN(a.serializer,c)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${v_(r)}`)}(t,e)}function aK(t,e){const n={};return oG(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Tl(t,(r,i)=>{const o=Tu(i,e.mc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function lK(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rt||t instanceof Do||t instanceof zr||t instanceof dt||t instanceof _u||t instanceof Xi)}function _O(t,e,n){if(!lK(n)||!Fq(n)){const r=v_(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function cg(t,e,n){if((e=Je(e))instanceof wu)return e._internalPath;if(typeof e=="string")return F_(t,e);throw sb("Field path arguments must be of type string or ",t,!1,void 0,n)}const fwe=new RegExp("[~\\*/\\[\\]]");function F_(t,e,n){if(e.search(fwe)>=0)throw sb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new wu(...e.split("."))._internalPath}catch{throw sb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function sb(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new ee(G.INVALID_ARGUMENT,a+t+l)}function cK(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new hwe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(B_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class hwe extends ug{data(){return super.data()}}function B_(t,e){return typeof e=="string"?F_(t,e):e instanceof wu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uK(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ee(G.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class SO{}class Py extends SO{}function Vv(t,e,...n){let r=[];e instanceof SO&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof vh).length,a=o.filter(l=>l instanceof Iy).length;if(s>1||s>0&&a>0)throw new ee(G.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Iy extends Py{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Iy(e,n,r)}_apply(e){const n=this._parse(e);return fK(e._query,n),new On(e.firestore,e.converter,lP(e._query,n))}_parse(e){const n=Su(e.firestore);return function(o,s,a,l,c,u,d){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new ee(G.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){BL(d,u);const v=[];for(const m of d)v.push(FL(l,o,m));h={arrayValue:{values:v}}}else h=FL(l,o,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||BL(d,u),h=sK(a,s,d,u==="in"||u==="not-in");return We.create(c,u,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function pwe(t,e,n){const r=e,i=B_("where",t);return Iy._create(i,r,n)}class vh extends SO{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new vh(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:it.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)fK(s,l),s=lP(s,l)}(e._query,n),new On(e.firestore,e.converter,lP(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Dqe(...t){return t.forEach(e=>hK("or",e)),vh._create("or",t)}function Mqe(...t){return t.forEach(e=>hK("and",e)),vh._create("and",t)}class TO extends Py{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new TO(e,n)}_apply(e){const n=function(i,o,s){if(i.startAt!==null)throw new ee(G.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ee(G.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new og(o,s)}(e._query,this._field,this._direction);return new On(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new Fs(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function AT(t,e="asc"){const n=e,r=B_("orderBy",t);return TO._create(r,n)}class U_ extends Py{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new U_(e,n,r)}_apply(e){return new On(e.firestore,e.converter,Qx(e._query,this._limit,this._limitType))}}function mwe(t){return Bq("limit",t),U_._create("limit",t,"F")}function $qe(t){return Bq("limitToLast",t),U_._create("limitToLast",t,"L")}class z_ extends Py{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new z_(e,n,r)}_apply(e){const n=dK(e,this.type,this._docOrFields,this._inclusive);return new On(e.firestore,e.converter,function(i,o){return new Fs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(e._query,n))}}function Lqe(...t){return z_._create("startAt",t,!0)}function Vqe(...t){return z_._create("startAfter",t,!1)}class W_ extends Py{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new W_(e,n,r)}_apply(e){const n=dK(e,this.type,this._docOrFields,this._inclusive);return new On(e.firestore,e.converter,function(i,o){return new Fs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)}(e._query,n))}}function Fqe(...t){return W_._create("endBefore",t,!1)}function Bqe(...t){return W_._create("endAt",t,!0)}function dK(t,e,n,r){if(n[0]=Je(n[0]),n[0]instanceof ug)return function(o,s,a,l,c){if(!l)throw new ee(G.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const u=[];for(const d of Md(o))if(d.field.isKeyField())u.push(Wc(s,l.key));else{const h=l.data.field(d.field);if(S_(h))throw new ee(G.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){const p=d.field.canonicalString();throw new ee(G.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${p}' (used as the orderBy) does not exist.`)}u.push(h)}return new ll(u,c)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Su(t.firestore);return function(s,a,l,c,u,d){const h=s.explicitOrderBy;if(u.length>h.length)throw new ee(G.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const p=[];for(let v=0;v<u.length;v++){const m=u[v];if(h[v].field.isKeyField()){if(typeof m!="string")throw new ee(G.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof m}`);if(!jN(s)&&m.indexOf("/")!==-1)throw new ee(G.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${m}' contains a slash.`);const y=s.path.child(Le.fromString(m));if(!de.isDocumentKey(y))throw new ee(G.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${y}' is not because it contains an odd number of segments.`);const b=new de(y);p.push(Wc(a,b))}else{const y=sK(l,c,m);p.push(y)}}return new ll(p,d)}(t._query,t.firestore._databaseId,i,e,n,r)}}function FL(t,e,n){if(typeof(n=Je(n))=="string"){if(n==="")throw new ee(G.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jN(e)&&n.indexOf("/")!==-1)throw new ee(G.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Le.fromString(n));if(!de.isDocumentKey(r))throw new ee(G.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Wc(t,new de(r))}if(n instanceof dt)return Wc(t,n._key);throw new ee(G.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${v_(n)}.`)}function BL(t,e){if(!Array.isArray(t)||t.length===0)throw new ee(G.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function fK(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ee(G.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ee(G.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function hK(t,e){if(!(e instanceof Iy||e instanceof vh))throw new ee(G.INVALID_ARGUMENT,`Function ${t}() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'.`)}class pK{convertValue(e,n="none"){switch(sl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ns(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ge(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Tl(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var r,i,o;const n=(o=(i=(r=e.fields)==null?void 0:r[pf].arrayValue)==null?void 0:i.values)==null?void 0:o.map(s=>Nt(s.doubleValue));return new Xi(n)}convertGeoPoint(e){return new Do(Nt(e.latitude),Nt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=T_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(tg(e));default:return null}}convertTimestamp(e){const n=ks(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Le.fromString(e);we(tH(r),9688,{name:e});const i=new zc(r.get(1),r.get(3)),o=new de(r.popFirst(5));return i.isEqual(n)||Yt(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class EO extends pK{constructor(e){super(),this.firestore=e}convertBytes(e){return new zr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new dt(this.firestore,null,n)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uqe(t){return new lg("sum",cg("sum",t))}function zqe(t){return new lg("avg",cg("average",t))}function gwe(){return new lg("count")}function Wqe(t,e){var n,r;return t instanceof lg&&e instanceof lg&&t.aggregateType===e.aggregateType&&((n=t._internalFieldPath)==null?void 0:n.canonicalString())===((r=e._internalFieldPath)==null?void 0:r.canonicalString())}function qqe(t,e){return eK(t.query,e.query)&&Pi(t.data(),e.data())}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mK="NOT SUPPORTED";class Na{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Yr extends ug{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new V0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(B_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ee(G.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Yr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}function Gqe(t,e,n){if(xu(e,Yr._jsonSchema)){if(e.bundle===mK)throw new ee(G.INVALID_ARGUMENT,"The provided JSON object was created in a client environment, which is not supported.");const r=bu(t._databaseId),i=QH(e.bundle,r),o=i.Wu(),s=new sO(i.getMetadata(),r);for(const u of o)s.Ga(u);const a=s.documents;if(a.length!==1)throw new ee(G.INVALID_ARGUMENT,`Expected bundle data to contain 1 document, but it contains ${a.length} documents.`);const l=I_(r,a[0].document),c=new de(Le.fromString(e.bundleName));return new Yr(t,new EO(t),c,l,new Na(!1,!1),n||null)}}Yr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Yr._jsonSchema={type:rn("string",Yr._jsonSchemaVersion),bundleSource:rn("string","DocumentSnapshot"),bundleName:rn("string"),bundle:rn("string")};class V0 extends Yr{data(e={}){return super.data(e)}}class Xr{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Na(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new V0(this._firestore,this._userDataWriter,r.key,r,new Na(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ee(G.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new V0(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Na(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new V0(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Na(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return a.type!==0&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),u=s.indexOf(a.doc.key)),{type:ywe(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ee(G.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Xr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=_N.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Hqe(t,e,n){if(xu(e,Xr._jsonSchema)){if(e.bundle===mK)throw new ee(G.INVALID_ARGUMENT,"The provided JSON object was created in a client environment, which is not supported.");const r=bu(t._databaseId),i=QH(e.bundle,r),o=i.Wu(),s=new sO(i.getMetadata(),r);for(const h of o)s.Ga(h);if(s.queries.length!==1)throw new ee(G.INVALID_ARGUMENT,`Snapshot data expected 1 query but found ${s.queries.length} queries.`);const a=k_(s.queries[0].bundledQuery),l=s.documents;let c=new Tc;l.map(h=>{const p=I_(r,h.document);c=c.add(p)});const u=Jc.fromInitialDocuments(a,c,Re(),!1,!1),d=new On(t,n||null,a);return new Xr(t,new EO(t),d,u)}}function ywe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge(61501,{type:t})}}function Kqe(t,e){return t instanceof Yr&&e instanceof Yr?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Xr&&e instanceof Xr&&t._firestore===e._firestore&&eK(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vwe(t){t=Be(t,dt);const e=Be(t.firestore,gt);return YH(Ut(e),t._key).then(n=>AO(e,t,n))}Xr._jsonSchemaVersion="firestore/querySnapshot/1.0",Xr._jsonSchema={type:rn("string",Xr._jsonSchemaVersion),bundleSource:rn("string","QuerySnapshot"),bundleName:rn("string"),bundle:rn("string")};class Pl extends pK{constructor(e){super(),this.firestore=e}convertBytes(e){return new zr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new dt(this.firestore,null,n)}}function Yqe(t){t=Be(t,dt);const e=Be(t.firestore,gt),n=Ut(e),r=new Pl(e);return Ybe(n,t._key).then(i=>new Yr(e,r,t._key,i,new Na(i!==null&&i.hasLocalMutations,!0),t.converter))}function Xqe(t){t=Be(t,dt);const e=Be(t.firestore,gt);return YH(Ut(e),t._key,{source:"server"}).then(n=>AO(e,t,n))}function PT(t){t=Be(t,On);const e=Be(t.firestore,gt),n=Ut(e),r=new Pl(e);return uK(t._query),XH(n,t._query).then(i=>new Xr(e,r,t,i))}function Qqe(t){t=Be(t,On);const e=Be(t.firestore,gt),n=Ut(e),r=new Pl(e);return Xbe(n,t._query).then(i=>new Xr(e,r,t,i))}function Jqe(t){t=Be(t,On);const e=Be(t.firestore,gt),n=Ut(e),r=new Pl(e);return XH(n,t._query,{source:"server"}).then(i=>new Xr(e,r,t,i))}function xwe(t,e,n){t=Be(t,dt);const r=Be(t.firestore,gt),i=q_(t.converter,e,n);return Cy(r,[V_(Su(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Rt.none())])}function Fv(t,e,n,...r){t=Be(t,dt);const i=Be(t.firestore,gt),o=Su(i);let s;return s=typeof(e=Je(e))=="string"||e instanceof wu?wO(o,"updateDoc",t._key,e,n,r):bO(o,"updateDoc",t._key,e),Cy(i,[s.toMutation(t._key,Rt.exists(!0))])}function bwe(t){return Cy(Be(t.firestore,gt),[new fh(t._key,Rt.none())])}function UL(t,e){const n=Be(t.firestore,gt),r=da(t),i=q_(t.converter,e);return Cy(n,[V_(Su(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Rt.exists(!1))]).then(()=>r)}function zL(t,...e){var l,c,u;t=Je(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||$d(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if($d(e[r])){const d=e[r];e[r]=(l=d.next)==null?void 0:l.bind(d),e[r+1]=(c=d.error)==null?void 0:c.bind(d),e[r+2]=(u=d.complete)==null?void 0:u.bind(d)}let o,s,a;if(t instanceof dt)s=Be(t.firestore,gt),a=uh(t._key.path),o={next:d=>{e[r]&&e[r](AO(s,t,d))},error:e[r+1],complete:e[r+2]};else{const d=Be(t,On);s=Be(d.firestore,gt),a=d._query;const h=new Pl(s);o={next:p=>{e[r]&&e[r](new Xr(s,h,d,p))},error:e[r+1],complete:e[r+2]},uK(t._query)}return function(h,p,v,m){const y=new M_(m),b=new oO(p,y,v);return h.asyncQueue.enqueueAndForget(async()=>nO(await Ef(h),b)),()=>{y.Nu(),h.asyncQueue.enqueueAndForget(async()=>rO(await Ef(h),b))}}(Ut(s),a,i,o)}function Zqe(t,e,...n){const r=Je(t),i=function(l){const c={bundle:"",bundleName:"",bundleSource:""},u=["bundle","bundleName","bundleSource"];for(const d of u){if(!(d in l)){c.error=`snapshotJson missing required field: ${d}`;break}const h=l[d];if(typeof h!="string"){c.error=`snapshotJson field '${d}' must be a string.`;break}if(h.length===0){c.error=`snapshotJson field '${d}' cannot be an empty string.`;break}d==="bundle"?c.bundle=h:d==="bundleName"?c.bundleName=h:d==="bundleSource"&&(c.bundleSource=h)}return c}(e);if(i.error)throw new ee(G.INVALID_ARGUMENT,i.error);let o,s=0;if(typeof n[s]!="object"||$d(n[s])||(o=n[s++]),i.bundleSource==="QuerySnapshot"){let a=null;if(typeof n[s]=="object"&&$d(n[s])){const l=n[s++];a={next:l.next,error:l.error,complete:l.complete}}else a={next:n[s++],error:n[s++],complete:n[s++]};return function(c,u,d,h,p){let v,m=!1;return VL(c,u.bundle).then(()=>awe(c,u.bundleName)).then(b=>{b&&!m&&(p&&b.withConverter(p),v=zL(b,d||{},h))}).catch(b=>(h.error&&h.error(b),()=>{})),()=>{m||(m=!0,v&&v())}}(r,i,o,a,n[s])}if(i.bundleSource==="DocumentSnapshot"){let a=null;if(typeof n[s]=="object"&&$d(n[s])){const l=n[s++];a={next:l.next,error:l.error,complete:l.complete}}else a={next:n[s++],error:n[s++],complete:n[s++]};return function(c,u,d,h,p){let v,m=!1;return VL(c,u.bundle).then(()=>{if(!m){const b=new dt(c,p||null,de.fromPath(u.bundleName));v=zL(b,d||{},h)}}).catch(b=>(h.error&&h.error(b),()=>{})),()=>{m||(m=!0,v&&v())}}(r,i,o,a,n[s])}throw new ee(G.INVALID_ARGUMENT,`unsupported bundle source: ${i.bundleSource}`)}function eGe(t,e){return Jbe(Ut(t=Be(t,gt)),$d(e)?e:{next:e})}function Cy(t,e){return function(r,i){const o=new Nn;return r.asyncQueue.enqueueAndForget(async()=>Abe(await mO(r),i,o)),o.promise}(Ut(t),e)}function AO(t,e,n){const r=n.docs.get(e._key),i=new Pl(t);return new Yr(t,i,e._key,r,new Na(n.hasPendingWrites,n.fromCache),e.converter)}function tGe(t){return wwe(t,{count:gwe()})}function wwe(t,e){const n=Be(t.firestore,gt),r=Ut(n),i=iG(e,(o,s)=>new VG(s,o.aggregateType,o._internalFieldPath));return Qbe(r,t._query,i).then(o=>function(a,l,c){const u=new Pl(a);return new lwe(l,u,c)}(n,t,o))}class _we{constructor(e){this.kind="memory",this._onlineComponentProvider=ul.provider,this._offlineComponentProvider=e!=null&&e.garbageCollector?e.garbageCollector._offlineComponentProvider:{build:()=>new fO(void 0)}}toJSON(){return{kind:this.kind}}}class Swe{constructor(e){let n;this.kind="persistent",e!=null&&e.tabManager?(e.tabManager._initialize(e),n=e.tabManager):(n=Iwe(void 0),n._initialize(e)),this._onlineComponentProvider=n._onlineComponentProvider,this._offlineComponentProvider=n._offlineComponentProvider}toJSON(){return{kind:this.kind}}}class Twe{constructor(){this.kind="memoryEager",this._offlineComponentProvider=Tf.provider}toJSON(){return{kind:this.kind}}}class Ewe{constructor(e){this.kind="memoryLru",this._offlineComponentProvider={build:()=>new fO(e)}}toJSON(){return{kind:this.kind}}}function nGe(){return new Twe}function rGe(t){return new Ewe(t==null?void 0:t.cacheSizeBytes)}function iGe(t){return new _we(t)}function oGe(t){return new Swe(t)}class Awe{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=ul.provider,this._offlineComponentProvider={build:n=>new hO(n,e==null?void 0:e.cacheSizeBytes,this.forceOwnership)}}}class Pwe{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=ul.provider,this._offlineComponentProvider={build:n=>new qH(n,e==null?void 0:e.cacheSizeBytes)}}}function Iwe(t){return new Awe(t==null?void 0:t.forceOwnership)}function sGe(){return new Pwe}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cwe={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kwe{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Su(e)}set(e,n,r){this._verifyNotCommitted();const i=Oa(e,this._firestore),o=q_(i.converter,n,r),s=V_(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,Rt.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const o=Oa(e,this._firestore);let s;return s=typeof(n=Je(n))=="string"||n instanceof wu?wO(this._dataReader,"WriteBatch.update",o._key,n,r,i):bO(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,Rt.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Oa(e,this._firestore);return this._mutations=this._mutations.concat(new fh(n._key,Rt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ee(G.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Oa(t,e){if((t=Je(t)).firestore!==e)throw new ee(G.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nwe{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Su(e)}get(e){const n=Oa(e,this._firestore),r=new EO(this._firestore);return this._transaction.lookup([n._key]).then(i=>{if(!i||i.length!==1)return ge(24041);const o=i[0];if(o.isFoundDocument())return new ug(this._firestore,r,o.key,o,n.converter);if(o.isNoDocument())return new ug(this._firestore,r,n._key,null,n.converter);throw ge(18433,{doc:o})})}set(e,n,r){const i=Oa(e,this._firestore),o=q_(i.converter,n,r),s=V_(this._dataReader,"Transaction.set",i._key,o,i.converter!==null,r);return this._transaction.set(i._key,s),this}update(e,n,r,...i){const o=Oa(e,this._firestore);let s;return s=typeof(n=Je(n))=="string"||n instanceof wu?wO(this._dataReader,"Transaction.update",o._key,n,r,i):bO(this._dataReader,"Transaction.update",o._key,n),this._transaction.update(o._key,s),this}delete(e){const n=Oa(e,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Owe extends Nwe{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Oa(e,this._firestore),r=new Pl(this._firestore);return super.get(e).then(i=>new Yr(this._firestore,r,n._key,i._document,new Na(!1,!1),n.converter))}}function aGe(t,e,n){t=Be(t,gt);const r={...Cwe,...n};return function(o){if(o.maxAttempts<1)throw new ee(G.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,s,a){const l=new Nn;return o.asyncQueue.enqueueAndForget(async()=>{const c=await KH(o);new qbe(o.asyncQueue,c,a,s,l).ju()}),l.promise}(Ut(t),i=>e(new Owe(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lGe(){return new Ay("deleteField")}function cGe(){return new gO("serverTimestamp")}function uGe(...t){return new yO("arrayUnion",t)}function dGe(...t){return new vO("arrayRemove",t)}function jwe(t){return new xO("increment",t)}function fGe(t){return new Xi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hGe(t){return Ut(t=Be(t,gt)),new kwe(t,e=>Cy(t,e))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pGe(t,e){const n=Ut(t=Be(t,gt));if(!n._uninitializedComponentsProvider||n._uninitializedComponentsProvider._offline.kind==="memory")return Ii("Cannot enable indexes when persistence is disabled"),Promise.resolve();const r=function(o){const s=typeof o=="string"?function(c){try{return JSON.parse(c)}catch(u){throw new ee(G.INVALID_ARGUMENT,"Failed to parse JSON: "+(u==null?void 0:u.message))}}(o):o,a=[];if(Array.isArray(s.indexes))for(const l of s.indexes){const c=WL(l,"collectionGroup"),u=[];if(Array.isArray(l.fields))for(const d of l.fields){const h=F_("setIndexConfiguration",WL(d,"fieldPath"));d.arrayConfig==="CONTAINS"?u.push(new _c(h,2)):d.order==="ASCENDING"?u.push(new _c(h,0)):d.order==="DESCENDING"&&u.push(new _c(h,1))}a.push(new lf(lf.UNKNOWN_ID,c,u,cf.empty()))}return a}(e);return twe(n,r)}function WL(t,e){if(typeof t[e]!="string")throw new ee(G.INVALID_ARGUMENT,"Missing string value for: "+e);return t[e]}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rwe{constructor(e){this._firestore=e,this.type="PersistentCacheIndexManager"}}function mGe(t){var i;t=Be(t,gt);const e=qL.get(t);if(e)return e;if(((i=Ut(t)._uninitializedComponentsProvider)==null?void 0:i._offline.kind)!=="persistent")return null;const r=new Rwe(t);return qL.set(t,r),r}function gGe(t){gK(t,!0)}function yGe(t){gK(t,!1)}function vGe(t){rwe(Ut(t._firestore)).then(e=>re("deleting all persistent cache indexes succeeded")).catch(e=>Ii("deleting all persistent cache indexes failed",e))}function gK(t,e){nwe(Ut(t._firestore),e).then(n=>re(`setting persistent cache index auto creation isEnabled=${e} succeeded`)).catch(n=>Ii(`setting persistent cache index auto creation isEnabled=${e} failed`,n))}const qL=new WeakMap;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xGe(t){var r;const e=Ut(Be(t.firestore,gt)),n=(r=e._onlineComponents)==null?void 0:r.datastore.serializer;return n===void 0?null:C_(n,tr(t._query)).ft}function bGe(t,e){var o;const n=iG(e,(s,a)=>new VG(a,s.aggregateType,s._internalFieldPath)),r=Ut(Be(t.firestore,gt)),i=(o=r._onlineComponents)==null?void 0:o.datastore.serializer;return i===void 0?null:QG(i,SG(t._query),n,!0).request}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wGe{constructor(){throw new Error("instances of this class should not be created")}static onExistenceFilterMismatch(e){return PO.instance.onExistenceFilterMismatch(e)}}class PO{constructor(){this.Mc=new Map}static get instance(){return Bv||(Bv=new PO,function(n){if(sm)throw new Error("a TestingHooksSpi instance is already set");sm=n}(Bv)),Bv}lt(e){this.Mc.forEach(n=>n(e))}onExistenceFilterMismatch(e){const n=Symbol(),r=this.Mc;return r.set(n,e),()=>r.delete(n)}}let Bv=null;(function(e,n=!0){(function(i){ch=i})(ah),Fo(new no("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new gt(new Uve(r.getProvider("auth-internal")),new qve(s,r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ee(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zc(c.options.projectId,u)}(s,i),s);return o={useFetchStreams:n,...o},a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Ti(b$,w$,e),Ti(b$,w$,"esm2020")})();var Dwe="firebase",Mwe="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ti(Dwe,Mwe,"app");const yK="@firebase/installations",IO="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vK=1e4,xK=`w:${IO}`,bK="FIS_v2",$we="https://firebaseinstallations.googleapis.com/v1",Lwe=60*60*1e3,Vwe="installations",Fwe="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bwe={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Zc=new yu(Vwe,Fwe,Bwe);function wK(t){return t instanceof lo&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _K({projectId:t}){return`${$we}/projects/${t}/installations`}function SK(t){return{token:t.token,requestStatus:2,expiresIn:zwe(t.expiresIn),creationTime:Date.now()}}async function TK(t,e){const r=(await e.json()).error;return Zc.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function EK({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Uwe(t,{refreshToken:e}){const n=EK(t);return n.append("Authorization",Wwe(e)),n}async function AK(t){const e=await t();return e.status>=500&&e.status<600?t():e}function zwe(t){return Number(t.replace("s","000"))}function Wwe(t){return`${bK} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qwe({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=_K(t),i=EK(t),o=e.getImmediate({optional:!0});if(o){const c=await o.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const s={fid:n,authVersion:bK,appId:t.appId,sdkVersion:xK},a={method:"POST",headers:i,body:JSON.stringify(s)},l=await AK(()=>fetch(r,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:SK(c.authToken)}}else throw await TK("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PK(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gwe(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hwe=/^[cdef][\w-]{21}$/,wP="";function Kwe(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=Ywe(t);return Hwe.test(n)?n:wP}catch{return wP}}function Ywe(t){return Gwe(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G_(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IK=new Map;function CK(t,e){const n=G_(t);kK(n,e),Xwe(n,e)}function kK(t,e){const n=IK.get(t);if(n)for(const r of n)r(e)}function Xwe(t,e){const n=Qwe();n&&n.postMessage({key:t,fid:e}),Jwe()}let hc=null;function Qwe(){return!hc&&"BroadcastChannel"in self&&(hc=new BroadcastChannel("[Firebase] FID Change"),hc.onmessage=t=>{kK(t.data.key,t.data.fid)}),hc}function Jwe(){IK.size===0&&hc&&(hc.close(),hc=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zwe="firebase-installations-database",e_e=1,eu="firebase-installations-store";let IT=null;function CO(){return IT||(IT=H7(Zwe,e_e,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(eu)}}})),IT}async function ab(t,e){const n=G_(t),i=(await CO()).transaction(eu,"readwrite"),o=i.objectStore(eu),s=await o.get(n);return await o.put(e,n),await i.done,(!s||s.fid!==e.fid)&&CK(t,e.fid),e}async function NK(t){const e=G_(t),r=(await CO()).transaction(eu,"readwrite");await r.objectStore(eu).delete(e),await r.done}async function H_(t,e){const n=G_(t),i=(await CO()).transaction(eu,"readwrite"),o=i.objectStore(eu),s=await o.get(n),a=e(s);return a===void 0?await o.delete(n):await o.put(a,n),await i.done,a&&(!s||s.fid!==a.fid)&&CK(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kO(t){let e;const n=await H_(t.appConfig,r=>{const i=t_e(r),o=n_e(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===wP?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function t_e(t){const e=t||{fid:Kwe(),registrationStatus:0};return OK(e)}function n_e(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Zc.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=r_e(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:i_e(t)}:{installationEntry:e}}async function r_e(t,e){try{const n=await qwe(t,e);return ab(t.appConfig,n)}catch(n){throw wK(n)&&n.customData.serverCode===409?await NK(t.appConfig):await ab(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function i_e(t){let e=await GL(t.appConfig);for(;e.registrationStatus===1;)await PK(100),e=await GL(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await kO(t);return r||n}return e}function GL(t){return H_(t,e=>{if(!e)throw Zc.create("installation-not-found");return OK(e)})}function OK(t){return o_e(t)?{fid:t.fid,registrationStatus:0}:t}function o_e(t){return t.registrationStatus===1&&t.registrationTime+vK<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s_e({appConfig:t,heartbeatServiceProvider:e},n){const r=a_e(t,n),i=Uwe(t,n),o=e.getImmediate({optional:!0});if(o){const c=await o.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const s={installation:{sdkVersion:xK,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(s)},l=await AK(()=>fetch(r,a));if(l.ok){const c=await l.json();return SK(c)}else throw await TK("Generate Auth Token",l)}function a_e(t,{fid:e}){return`${_K(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NO(t,e=!1){let n;const r=await H_(t.appConfig,o=>{if(!jK(o))throw Zc.create("not-registered");const s=o.authToken;if(!e&&u_e(s))return o;if(s.requestStatus===1)return n=l_e(t,e),o;{if(!navigator.onLine)throw Zc.create("app-offline");const a=f_e(o);return n=c_e(t,a),a}});return n?await n:r.authToken}async function l_e(t,e){let n=await HL(t.appConfig);for(;n.authToken.requestStatus===1;)await PK(100),n=await HL(t.appConfig);const r=n.authToken;return r.requestStatus===0?NO(t,e):r}function HL(t){return H_(t,e=>{if(!jK(e))throw Zc.create("not-registered");const n=e.authToken;return h_e(n)?{...e,authToken:{requestStatus:0}}:e})}async function c_e(t,e){try{const n=await s_e(t,e),r={...e,authToken:n};return await ab(t.appConfig,r),n}catch(n){if(wK(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await NK(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await ab(t.appConfig,r)}throw n}}function jK(t){return t!==void 0&&t.registrationStatus===2}function u_e(t){return t.requestStatus===2&&!d_e(t)}function d_e(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Lwe}function f_e(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function h_e(t){return t.requestStatus===1&&t.requestTime+vK<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p_e(t){const e=t,{installationEntry:n,registrationPromise:r}=await kO(e);return r?r.catch(console.error):NO(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m_e(t,e=!1){const n=t;return await g_e(n),(await NO(n,e)).token}async function g_e(t){const{registrationPromise:e}=await kO(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y_e(t){if(!t||!t.options)throw CT("App Configuration");if(!t.name)throw CT("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw CT(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function CT(t){return Zc.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RK="installations",v_e="installations-internal",x_e=t=>{const e=t.getProvider("app").getImmediate(),n=y_e(e),r=Vs(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},b_e=t=>{const e=t.getProvider("app").getImmediate(),n=Vs(e,RK).getImmediate();return{getId:()=>p_e(n),getToken:i=>m_e(n,i)}};function w_e(){Fo(new no(RK,x_e,"PUBLIC")),Fo(new no(v_e,b_e,"PRIVATE"))}w_e();Ti(yK,IO);Ti(yK,IO,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb="analytics",__e="firebase_id",S_e="origin",T_e=60*1e3,E_e="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",OO="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr=new p_("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_e={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Qr=new yu("analytics","Analytics",A_e);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P_e(t){if(!t.startsWith(OO)){const e=Qr.create("invalid-gtag-resource",{gtagURL:t});return dr.warn(e.message),""}return t}function DK(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function I_e(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function C_e(t,e){const n=I_e("firebase-js-sdk-policy",{createScriptURL:P_e}),r=document.createElement("script"),i=`${OO}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function k_e(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function N_e(t,e,n,r,i,o){const s=r[i];try{if(s)await e[s];else{const l=(await DK(n)).find(c=>c.measurementId===i);l&&await e[l.appId]}}catch(a){dr.error(a)}t("config",i,o)}async function O_e(t,e,n,r,i){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const a=await DK(n);for(const l of s){const c=a.find(d=>d.measurementId===l),u=c&&e[c.appId];if(u)o.push(u);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),t("event",r,i||{})}catch(o){dr.error(o)}}function j_e(t,e,n,r){async function i(o,...s){try{if(o==="event"){const[a,l]=s;await O_e(t,e,n,a,l)}else if(o==="config"){const[a,l]=s;await N_e(t,e,n,r,a,l)}else if(o==="consent"){const[a,l]=s;t("consent",a,l)}else if(o==="get"){const[a,l,c]=s;t("get",a,l,c)}else if(o==="set"){const[a]=s;t("set",a)}else t(o,...s)}catch(a){dr.error(a)}}return i}function R_e(t,e,n,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=j_e(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}function D_e(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(OO)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_e=30,$_e=1e3;class L_e{constructor(e={},n=$_e){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const MK=new L_e;function V_e(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function F_e(t){var s;const{appId:e,apiKey:n}=t,r={method:"GET",headers:V_e(n)},i=E_e.replace("{app-id}",e),o=await fetch(i,r);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();(s=l.error)!=null&&s.message&&(a=l.error.message)}catch{}throw Qr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function B_e(t,e=MK,n){const{appId:r,apiKey:i,measurementId:o}=t.options;if(!r)throw Qr.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw Qr.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new W_e;return setTimeout(async()=>{a.abort()},n!==void 0?n:T_e),$K({appId:r,apiKey:i,measurementId:o},s,a,e)}async function $K(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=MK){var a;const{appId:o,measurementId:s}=t;try{await U_e(r,e)}catch(l){if(s)return dr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:s};throw l}try{const l=await F_e(t);return i.deleteThrottleMetadata(o),l}catch(l){const c=l;if(!z_e(c)){if(i.deleteThrottleMetadata(o),s)return dr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:s};throw l}const u=Number((a=c==null?void 0:c.customData)==null?void 0:a.httpStatus)===503?GM(n,i.intervalMillis,M_e):GM(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(o,d),dr.debug(`Calling attemptFetch again in ${u} millis`),$K(t,d,r,i)}}function U_e(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(Qr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function z_e(t){if(!(t instanceof lo)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class W_e{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function q_e(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const o=await e,s={...r,send_to:o};t("event",n,s)}}async function G_e(t,e,n,r){if(r&&r.global){const i={};for(const o of Object.keys(n))i[`user_properties.${o}`]=n[o];return t("set",i),Promise.resolve()}else{const i=await e;t("config",i,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H_e(){if(uN())try{await W7()}catch(t){return dr.warn(Qr.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return dr.warn(Qr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function K_e(t,e,n,r,i,o,s){const a=B_e(t);a.then(h=>{n[h.measurementId]=h.appId,t.options.measurementId&&h.measurementId!==t.options.measurementId&&dr.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>dr.error(h)),e.push(a);const l=H_e().then(h=>{if(h)return r.getId()}),[c,u]=await Promise.all([a,l]);D_e(o)||C_e(o,c.measurementId),i("js",new Date);const d=(s==null?void 0:s.config)??{};return d[S_e]="firebase",d.update=!0,u!=null&&(d[__e]=u),i("config",c.measurementId,d),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_e{constructor(e){this.app=e}_delete(){return delete Ld[this.app.options.appId],Promise.resolve()}}let Ld={},KL=[];const YL={};let kT="dataLayer",X_e="gtag",XL,jO,QL=!1;function Q_e(){const t=[];if(B7()&&t.push("This is a browser extension environment."),ome()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Qr.create("invalid-analytics-context",{errorInfo:e});dr.warn(n.message)}}function J_e(t,e,n){Q_e();const r=t.options.appId;if(!r)throw Qr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)dr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Qr.create("no-api-key");if(Ld[r]!=null)throw Qr.create("already-exists",{id:r});if(!QL){k_e(kT);const{wrappedGtag:o,gtagCore:s}=R_e(Ld,KL,YL,kT,X_e);jO=o,XL=s,QL=!0}return Ld[r]=K_e(t,KL,YL,e,XL,kT,n),new Y_e(t)}function Z_e(t=fN()){t=Je(t);const e=Vs(t,lb);return e.isInitialized()?e.getImmediate():e1e(t)}function e1e(t,e={}){const n=Vs(t,lb);if(n.isInitialized()){const i=n.getImmediate();if(Pi(e,n.getOptions()))return i;throw Qr.create("already-initialized")}return n.initialize({options:e})}function t1e(t,e,n){t=Je(t),G_e(jO,Ld[t.app.options.appId],e,n).catch(r=>dr.error(r))}function n1e(t,e,n,r){t=Je(t),q_e(jO,Ld[t.app.options.appId],e,n,r).catch(i=>dr.error(i))}const JL="@firebase/analytics",ZL="0.10.19";function r1e(){Fo(new no(lb,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return J_e(r,i,n)},"PUBLIC")),Fo(new no("analytics-internal",t,"PRIVATE")),Ti(JL,ZL),Ti(JL,ZL,"esm2020");function t(e){try{const n=e.getProvider(lb).getImmediate();return{logEvent:(r,i,o)=>n1e(n,r,i,o),setUserProperties:(r,i)=>t1e(n,r,i)}}catch(n){throw Qr.create("interop-component-reg-failed",{reason:n})}}}r1e();const i1e={apiKey:"AIzaSyAIcGfosgdYSbhN9AfsTfhJt0aSx-_XTdM",authDomain:"love-da-code.firebaseapp.com",projectId:"love-da-code",storageBucket:"love-da-code.firebasestorage.app",messagingSenderId:"610994141227",appId:"1:610994141227:web:acba46a0bc50bfcaa0d26e",measurementId:"G-V88769FQ3Q"},K_=K7(i1e),o1e=Z_e(K_),Mi=Lve(K_),Dr=swe(K_),s1e=Object.freeze(Object.defineProperty({__proto__:null,analytics:o1e,app:K_,auth:Mi,db:Dr},Symbol.toStringTag,{value:"Module"}));class a1e{async signIn(e,n){try{const r=await Sye(Mi,e,n);return await this.updateLastLogin(r.user.uid),r.user}catch(r){throw r}}async signUp(e,n){try{const r=await _ye(Mi,e,n);return await this.createUserRole(r.user.uid,e,"user"),r.user}catch(r){throw r}}async signOut(){try{await Pye(Mi)}catch(e){throw e}}async createUserRole(e,n,r="user"){try{const i={email:n,role:r,createdAt:new Date,lastLogin:new Date};await xwe(da(Dr,"users",e),i)}catch(i){throw console.error("Error creating user role:",i),i}}async getUserRole(e){var n,r;try{const i=da(Dr,"users",e),o=await vwe(i);return o.exists()?{uid:e,...o.data(),createdAt:(n=o.data().createdAt)==null?void 0:n.toDate(),lastLogin:(r=o.data().lastLogin)==null?void 0:r.toDate()}:null}catch(i){return console.error("Error getting user role:",i),null}}async updateUserRole(e,n){try{const r=da(Dr,"users",e);await Fv(r,{role:n})}catch(r){throw console.error("Error updating user role:",r),r}}async updateLastLogin(e){try{const n=da(Dr,"users",e);await Fv(n,{lastLogin:new Date})}catch(n){console.error("Error updating last login:",n)}}async isAdmin(e){const n=await this.getUserRole(e);return(n==null?void 0:n.role)==="admin"}async submitFeedback(e){var n;try{const r={type:e.type,title:e.title,description:e.description,rating:e.rating,createdAt:new Date,updatedAt:new Date,status:"pending",responseCount:0};return e.userEmail&&(r.userEmail=e.userEmail),(n=Mi.currentUser)!=null&&n.uid&&(r.userId=Mi.currentUser.uid),e.priority&&(r.priority=e.priority),e.tags&&e.tags.length>0&&(r.tags=e.tags),e.metadata&&(r.metadata=e.metadata),(await UL(dp(Dr,"feedback"),r)).id}catch(r){throw console.error("Error submitting feedback:",r),r}}async getFeedback(){try{const e=Vv(dp(Dr,"feedback"),AT("createdAt","desc"));return(await PT(e)).docs.map(r=>{var o,s,a;const i=r.data();return{id:r.id,...i,createdAt:(o=i.createdAt)==null?void 0:o.toDate(),updatedAt:(s=i.updatedAt)==null?void 0:s.toDate(),resolvedAt:(a=i.resolvedAt)==null?void 0:a.toDate(),responseCount:i.responseCount||0}})}catch(e){return console.error("Error getting feedback:",e),[]}}async getUserFeedback(e){try{const n=Vv(dp(Dr,"feedback"),pwe("userId","==",e),AT("createdAt","desc"));return(await PT(n)).docs.map(i=>{var s,a,l;const o=i.data();return{id:i.id,...o,createdAt:(s=o.createdAt)==null?void 0:s.toDate(),updatedAt:(a=o.updatedAt)==null?void 0:a.toDate(),resolvedAt:(l=o.resolvedAt)==null?void 0:l.toDate(),responseCount:o.responseCount||0}})}catch(n){return console.error("Error getting user feedback:",n),[]}}async updateFeedbackStatus(e,n){var r;try{const i=da(Dr,"feedback",e),o={status:n,updatedAt:new Date};n==="resolved"&&(o.resolvedAt=new Date,o.resolvedBy=((r=Mi.currentUser)==null?void 0:r.email)||"admin"),await Fv(i,o)}catch(i){throw console.error("Error updating feedback status:",i),i}}async addFeedbackResponse(e,n){var r,i;try{const o=dp(Dr,`feedback/${e}/responses`),s={message:n,adminId:((r=Mi.currentUser)==null?void 0:r.uid)||"unknown",adminEmail:((i=Mi.currentUser)==null?void 0:i.email)||"admin",createdAt:new Date},a=await UL(o,s),l=da(Dr,"feedback",e);return await Fv(l,{responseCount:jwe(1),status:"reviewed",updatedAt:new Date}),{id:a.id,feedbackId:e,...s}}catch(o){throw console.error("Error adding feedback response:",o),o}}async getFeedbackResponses(e,n){try{const r=dp(Dr,`feedback/${e}/responses`);let i=Vv(r,AT("createdAt","asc"));return n&&(i=Vv(i,mwe(n))),(await PT(i)).docs.map(s=>{var a;return{id:s.id,feedbackId:e,...s.data(),createdAt:(a=s.data().createdAt)==null?void 0:a.toDate()}})}catch(r){return console.error("Error getting feedback responses:",r),[]}}async deleteFeedback(e){try{await bwe(da(Dr,"feedback",e))}catch(n){throw console.error("Error deleting feedback:",n),n}}onAuthStateChanged(e){return Aye(Mi,e)}getCurrentUser(){return Mi.currentUser}}const Zn=new a1e,l1e=Object.freeze(Object.defineProperty({__proto__:null,authService:Zn},Symbol.toStringTag,{value:"Module"}));function c1e({open:t,onOpenChange:e}){const{createFeedback:n}=Bt(),[r,i]=_.useState("general"),[o,s]=_.useState(""),[a,l]=_.useState(""),[c,u]=_.useState(5),[d,h]=_.useState(""),[p,v]=_.useState(!1),[m,y]=_.useState(!1),[b,x]=_.useState(""),w=[{id:"bug",label:"Bug Report",icon:mx,color:"text-red-600",bgColor:"bg-red-50 dark:bg-red-900/20",borderColor:"border-red-200 dark:border-red-800",description:"Report a bug or issue"},{id:"feature",label:"Feature Request",icon:ck,color:"text-yellow-600",bgColor:"bg-yellow-50 dark:bg-yellow-900/20",borderColor:"border-yellow-200 dark:border-yellow-800",description:"Suggest a new feature"},{id:"improvement",label:"Improvement",icon:Cd,color:"text-blue-600",bgColor:"bg-blue-50 dark:bg-blue-900/20",borderColor:"border-blue-200 dark:border-blue-800",description:"Suggest an improvement"},{id:"general",label:"General Feedback",icon:qi,color:"text-purple-600",bgColor:"bg-purple-50 dark:bg-purple-900/20",borderColor:"border-purple-200 dark:border-purple-800",description:"Share your thoughts"}],E=async()=>{if(!(!o.trim()||!a.trim())){v(!0),x("");try{console.log("Submitting feedback...",{type:r,title:o,description:a,rating:c});const S=await Zn.submitFeedback({type:r,title:o.trim(),description:a.trim(),rating:c,userEmail:d.trim()||void 0});console.log("Feedback submitted to Firebase:",S),n({type:r,title:o.trim(),description:a.trim(),rating:c,userEmail:d.trim()||void 0}),console.log("Feedback saved locally"),y(!0),setTimeout(()=>{y(!1),e(!1),s(""),l(""),h(""),u(5),i("general"),x("")},2e3)}catch(S){console.error("Error submitting feedback:",S),x(S.message||"Failed to submit feedback. Please try again.")}finally{v(!1)}}};return m?f.jsx(ni,{open:t,onOpenChange:e,children:f.jsx(Nr,{className:"sm:max-w-[400px] bg-white dark:bg-slate-900",children:f.jsxs(Ve.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"text-center py-8",children:[f.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 dark:bg-green-900/20 rounded-full flex items-center justify-center mb-4",children:f.jsx(Yi,{className:"h-8 w-8 text-green-600"})}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"Thank You!"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Your feedback has been submitted successfully. We appreciate your input!"})]})})}):f.jsx(ni,{open:t,onOpenChange:e,children:f.jsxs(Nr,{className:"sm:max-w-[500px] max-h-[90vh] bg-white dark:bg-slate-900 flex flex-col",children:[f.jsxs(ki,{className:"flex-shrink-0",children:[f.jsxs(Ni,{className:"flex items-center space-x-2",children:[f.jsx(qi,{className:"h-5 w-5 text-purple-600"}),f.jsx("span",{children:"Share Your Feedback"})]}),f.jsx(hu,{children:"Help us improve FlowState by sharing your thoughts, reporting bugs, or suggesting features."})]}),f.jsxs("div",{className:"space-y-4 overflow-y-auto flex-1 pr-2",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx($e,{children:"What type of feedback is this?"}),f.jsx("div",{className:"grid grid-cols-2 gap-2",children:w.map(S=>f.jsxs("button",{onClick:()=>i(S.id),className:`
                    p-2 rounded-lg border-2 transition-all text-left
                    ${r===S.id?`${S.bgColor} ${S.borderColor}`:"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"}
                  `,children:[f.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[f.jsx(S.icon,{className:`h-4 w-4 ${S.color}`}),f.jsx("span",{className:"font-medium text-xs",children:S.label})]}),f.jsx("p",{className:"text-xs text-muted-foreground",children:S.description})]},S.id))})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx($e,{htmlFor:"feedback-title",children:"Title"}),f.jsx(Mt,{id:"feedback-title",value:o,onChange:S=>s(S.target.value),placeholder:"Brief summary of your feedback",maxLength:100})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx($e,{htmlFor:"feedback-description",children:"Description"}),f.jsx(Ls,{id:"feedback-description",value:a,onChange:S=>l(S.target.value),placeholder:"Please provide detailed information about your feedback...",rows:3,maxLength:1e3,className:"resize-none"}),f.jsxs("p",{className:"text-xs text-muted-foreground text-right",children:[a.length,"/1000 characters"]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx($e,{children:"Overall Rating"}),f.jsxs("div",{className:"flex items-center space-x-1",children:[[1,2,3,4,5].map(S=>f.jsx("button",{onClick:()=>u(S),className:"p-1 hover:scale-110 transition-transform",children:f.jsx(vx,{className:`h-6 w-6 ${S<=c?"text-yellow-400 fill-yellow-400":"text-gray-300 dark:text-gray-600"}`})},S)),f.jsxs("span",{className:"ml-2 text-sm text-muted-foreground",children:[c,"/5 stars"]})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx($e,{htmlFor:"feedback-email",children:"Email (Optional)"}),f.jsx(Mt,{id:"feedback-email",type:"email",value:d,onChange:S=>h(S.target.value),placeholder:"your@email.com (for follow-up)"}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"We'll only use this to follow up on your feedback if needed."})]}),!Zn.getCurrentUser()&&f.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3",children:f.jsxs("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:[" ",f.jsx("strong",{children:"Tip:"}),' Sign in to track your feedback and receive admin responses in "My Feedback"']})}),b&&f.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3",children:f.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:b})})]}),f.jsxs(sy,{className:"flex-shrink-0 mt-4",children:[f.jsx(ne,{variant:"outline",onClick:()=>e(!1),children:"Cancel"}),f.jsx(ne,{onClick:E,disabled:!o.trim()||!a.trim()||p,children:p?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Submitting..."]}):f.jsxs(f.Fragment,{children:[f.jsx(fA,{className:"h-4 w-4 mr-2"}),"Submit Feedback"]})})]})]})})}function _P({open:t,onOpenChange:e,onSuccess:n}){const[r,i]=_.useState("login"),[o,s]=_.useState(""),[a,l]=_.useState(""),[c,u]=_.useState(""),[d,h]=_.useState(!1),[p,v]=_.useState(!1),[m,y]=_.useState(""),[b,x]=_.useState(!1),w=async P=>{if(P.preventDefault(),y(""),!o||!a){y("Please fill in all fields");return}if(r==="signup"&&a!==c){y("Passwords do not match");return}if(a.length<6){y("Password must be at least 6 characters");return}v(!0);try{r==="login"?await Zn.signIn(o,a):await Zn.signUp(o,a),x(!0),setTimeout(()=>{n==null||n(),e(!1),E()},1500)}catch(T){console.error("Auth error:",T),T.code==="auth/user-not-found"||T.code==="auth/wrong-password"?y("Invalid email or password"):T.code==="auth/email-already-in-use"?y("Email already in use"):T.code==="auth/invalid-email"?y("Invalid email address"):T.code==="auth/weak-password"?y("Password is too weak"):y(T.message||"Authentication failed. Please try again.")}finally{v(!1)}},E=()=>{s(""),l(""),u(""),y(""),x(!1),h(!1)},S=()=>{i(r==="login"?"signup":"login"),y("")};return b?f.jsx(ni,{open:t,onOpenChange:e,children:f.jsx(Nr,{className:"sm:max-w-[400px] bg-white dark:bg-slate-900",children:f.jsxs(Ve.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"text-center py-8",children:[f.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 dark:bg-green-900/20 rounded-full flex items-center justify-center mb-4",children:f.jsx(Yi,{className:"h-8 w-8 text-green-600"})}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:r==="login"?"Welcome Back!":"Account Created!"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:r==="login"?"You have successfully logged in.":"Your account has been created successfully."})]})})}):f.jsx(ni,{open:t,onOpenChange:e,children:f.jsxs(Nr,{className:"sm:max-w-[450px] bg-white dark:bg-slate-900",children:[f.jsxs(ki,{children:[f.jsx(Ni,{className:"flex items-center space-x-2",children:r==="login"?f.jsxs(f.Fragment,{children:[f.jsx($m,{className:"h-5 w-5 text-purple-600"}),f.jsx("span",{children:"Sign In"})]}):f.jsxs(f.Fragment,{children:[f.jsx(aD,{className:"h-5 w-5 text-purple-600"}),f.jsx("span",{children:"Create Account"})]})}),f.jsx(hu,{children:r==="login"?"Sign in to sync your data and access your feedback":"Create an account to save your progress and provide feedback"})]}),f.jsxs("form",{onSubmit:w,className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx($e,{htmlFor:"email",children:"Email"}),f.jsxs("div",{className:"relative",children:[f.jsx(uk,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),f.jsx(Mt,{id:"email",type:"email",placeholder:"your@email.com",value:o,onChange:P=>s(P.target.value),className:"pl-10",disabled:p})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx($e,{htmlFor:"password",children:"Password"}),f.jsxs("div",{className:"relative",children:[f.jsx(gx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),f.jsx(Mt,{id:"password",type:d?"text":"password",placeholder:"",value:a,onChange:P=>l(P.target.value),className:"pl-10 pr-10",disabled:p}),f.jsx(ne,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3",onClick:()=>h(!d),disabled:p,children:d?f.jsx(AU,{className:"h-4 w-4 text-muted-foreground"}):f.jsx(PU,{className:"h-4 w-4 text-muted-foreground"})})]})]}),r==="signup"&&f.jsxs("div",{className:"space-y-2",children:[f.jsx($e,{htmlFor:"confirmPassword",children:"Confirm Password"}),f.jsxs("div",{className:"relative",children:[f.jsx(gx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),f.jsx(Mt,{id:"confirmPassword",type:d?"text":"password",placeholder:"",value:c,onChange:P=>u(P.target.value),className:"pl-10",disabled:p})]})]}),m&&f.jsxs("div",{className:"flex items-center space-x-2 text-sm text-red-600 bg-red-50 dark:bg-red-900/20 p-3 rounded-lg",children:[f.jsx(uu,{className:"h-4 w-4 flex-shrink-0"}),f.jsx("span",{children:m})]}),f.jsx(ne,{type:"submit",className:"w-full",disabled:p,children:p?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),r==="login"?"Signing In...":"Creating Account..."]}):f.jsx(f.Fragment,{children:r==="login"?f.jsxs(f.Fragment,{children:[f.jsx($m,{className:"h-4 w-4 mr-2"}),"Sign In"]}):f.jsxs(f.Fragment,{children:[f.jsx(aD,{className:"h-4 w-4 mr-2"}),"Create Account"]})})}),f.jsx("div",{className:"text-center pt-4 border-t",children:f.jsxs("p",{className:"text-sm text-muted-foreground",children:[r==="login"?"Don't have an account?":"Already have an account?"," ",f.jsx("button",{type:"button",onClick:S,className:"text-purple-600 hover:text-purple-700 font-medium",disabled:p,children:r==="login"?"Sign Up":"Sign In"})]})})]})]})})}function u1e({open:t,onOpenChange:e}){const[n,r]=_.useState([]),[i,o]=_.useState(!0),[s,a]=_.useState({}),[l,c]=_.useState(null);_.useEffect(()=>{const m=Zn.onAuthStateChanged(y=>{console.log("Auth state changed:",y),c(y)});return()=>m()},[]),_.useEffect(()=>{t&&u()},[t]);const u=async()=>{o(!0);try{const m=Zn.getCurrentUser();if(console.log("Current user:",m),m){const y=await Zn.getUserFeedback(m.uid);console.log("User feedback:",y),r(y);const b={};for(const x of y)if(x.responseCount>0){const w=await Zn.getFeedbackResponses(x.id);b[x.id]=w}a(b)}else console.log("No user logged in")}catch(m){console.error("Error loading feedback:",m)}finally{o(!1)}},d=m=>{switch(m){case"bug":return f.jsx(mx,{className:"h-4 w-4 text-red-600"});case"feature":return f.jsx(ck,{className:"h-4 w-4 text-yellow-600"});case"improvement":return f.jsx(Cd,{className:"h-4 w-4 text-blue-600"});default:return f.jsx(qi,{className:"h-4 w-4 text-purple-600"})}},h=m=>{switch(m){case"pending":return f.jsx(Hr,{className:"h-4 w-4 text-orange-600"});case"reviewed":return f.jsx(uu,{className:"h-4 w-4 text-blue-600"});case"resolved":return f.jsx(Yi,{className:"h-4 w-4 text-green-600"});default:return f.jsx(Hr,{className:"h-4 w-4 text-gray-600"})}},p=m=>{switch(m){case"pending":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/20 dark:text-orange-200";case"reviewed":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/20 dark:text-blue-200";case"resolved":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/20 dark:text-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200 dark:bg-gray-900/20 dark:text-gray-200"}},v=m=>{switch(m){case"bug":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/20 dark:text-red-200";case"feature":return"bg-yellow-100 text-yellow-800 border-yellow-200 dark:bg-yellow-900/20 dark:text-yellow-200";case"improvement":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/20 dark:text-blue-200";default:return"bg-purple-100 text-purple-800 border-purple-200 dark:bg-purple-900/20 dark:text-purple-200"}};return f.jsx(ni,{open:t,onOpenChange:e,children:f.jsxs(Nr,{className:"sm:max-w-[700px] max-h-[90vh] bg-white dark:bg-slate-900 flex flex-col",children:[f.jsxs(ki,{className:"flex-shrink-0",children:[f.jsxs(Ni,{className:"flex items-center space-x-2",children:[f.jsx(qi,{className:"h-5 w-5 text-purple-600"}),f.jsx("span",{children:"My Feedback"})]}),f.jsx(hu,{children:"View your submitted feedback and admin responses"})]}),f.jsx("div",{className:"flex-1 overflow-y-auto pr-2",children:i?f.jsx("div",{className:"flex items-center justify-center py-12",children:f.jsx(Xre,{className:"h-8 w-8 animate-spin text-purple-600"})}):l?n.length===0?f.jsxs("div",{className:"text-center py-12",children:[f.jsx(qi,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground opacity-50"}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"No Feedback Yet"}),f.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"You haven't submitted any feedback while logged in."}),f.jsx("p",{className:"text-xs text-muted-foreground",children:" Tip: Submit feedback while signed in to track responses here."})]}):f.jsx("div",{className:"space-y-4",children:n.map(m=>f.jsxs(Ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"border rounded-lg p-4 space-y-3 bg-card",children:[f.jsx("div",{className:"flex items-start justify-between",children:f.jsx("div",{className:"flex-1",children:f.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[d(m.type),f.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100",children:m.title}),f.jsx(nn,{className:v(m.type),children:m.type}),f.jsxs(nn,{className:p(m.status),children:[h(m.status),f.jsx("span",{className:"ml-1",children:m.status})]})]})})}),f.jsx("p",{className:"text-sm text-muted-foreground",children:m.description}),f.jsxs("div",{className:"flex items-center space-x-4 text-xs text-muted-foreground",children:[f.jsxs("div",{className:"flex items-center space-x-1",children:[f.jsx(vx,{className:"h-3 w-3 text-yellow-500"}),f.jsxs("span",{children:[m.rating,"/5"]})]}),f.jsxs("div",{className:"flex items-center space-x-1",children:[f.jsx(el,{className:"h-3 w-3"}),f.jsx("span",{children:new Date(m.createdAt).toLocaleDateString()})]}),m.resolvedAt&&f.jsxs("div",{className:"flex items-center space-x-1 text-green-600",children:[f.jsx(Yi,{className:"h-3 w-3"}),f.jsxs("span",{children:["Resolved ",new Date(m.resolvedAt).toLocaleDateString()]})]})]}),s[m.id]&&s[m.id].length>0?f.jsxs("div",{className:"mt-4 space-y-3 border-t pt-3",children:[f.jsxs("div",{className:"flex items-center space-x-2 text-sm font-medium text-gray-900 dark:text-gray-100",children:[f.jsx(dA,{className:"h-4 w-4 text-purple-600"}),f.jsx("span",{children:m.type==="general"?"Admin Response":`Admin Response${s[m.id].length>1?"s":""} (${s[m.id].length})`})]}),s[m.id].map(y=>f.jsx("div",{className:"bg-purple-50 dark:bg-purple-900/10 border border-purple-200 dark:border-purple-800 rounded-lg p-3",children:f.jsxs("div",{className:"flex items-start space-x-2",children:[f.jsx("div",{className:"w-8 h-8 bg-purple-600 rounded-full flex items-center justify-center flex-shrink-0",children:f.jsx(Lm,{className:"h-4 w-4 text-white"})}),f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[f.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"FlowState Team"}),f.jsxs("span",{className:"text-xs text-muted-foreground",children:[new Date(y.createdAt).toLocaleDateString()," at"," ",new Date(y.createdAt).toLocaleTimeString()]})]}),f.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:y.message})]})]})},y.id))]}):m.status==="pending"?f.jsx("div",{className:"mt-4 border-t pt-3",children:f.jsxs("div",{className:"flex items-center space-x-2 text-xs text-muted-foreground",children:[f.jsx(Hr,{className:"h-3 w-3"}),f.jsx("span",{children:m.type==="general"?"Thank you for your feedback! We appreciate your review.":"We're reviewing your feedback and will respond soon."})]})}):null]},m.id))}):f.jsxs("div",{className:"text-center py-12",children:[f.jsx(qi,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground opacity-50"}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"Sign In Required"}),f.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Please sign in to view your feedback and admin responses."}),f.jsx("p",{className:"text-xs text-muted-foreground",children:" Tip: Feedback submitted while logged in will appear here with admin responses."})]})}),f.jsx("div",{className:"flex-shrink-0 mt-4 pt-4 border-t",children:f.jsx(ne,{onClick:()=>e(!1),className:"w-full",children:"Close"})})]})})}function d1e(){var z;const{toggleCommandPalette:t,currentSession:e,projects:n,activeProject:r,tasks:i,createTask:o}=Bt(),s=0,{theme:a,setTheme:l}=N7(),{toast:c}=HU(),[u,d]=_.useState(new Date),[h,p]=_.useState(0),v=_.useRef(null),[m,y]=_.useState(!1),[b,x]=_.useState(!1),[w,E]=_.useState(!1),[S,P]=_.useState(!1),[T,A]=_.useState(!1),[k,O]=_.useState(!1),[N,C]=_.useState(null);_.useEffect(()=>{const V=Zn.onAuthStateChanged(L=>{C(L)});return()=>V()},[]);const j=n.find(V=>V.id===r),$=i.filter(V=>V.projectId===r&&V.status!=="completed"),B=V=>{var K;const L=(K=V.target.files)==null?void 0:K[0];if(!L){c({title:"No file selected",description:"Please select a JSON file to import tasks",variant:"destructive"});return}if(!r){c({title:"No project selected",description:"Please select a project before importing tasks",variant:"destructive"});return}if(!L.name.endsWith(".json")){c({title:"Invalid file type",description:"Please select a JSON file (.json extension)",variant:"destructive"});return}const Y=new FileReader;Y.onload=F=>{var te;try{const ie=(te=F.target)==null?void 0:te.result;if(!ie||ie.trim()===""){c({title:"Empty file",description:"The selected file appears to be empty",variant:"destructive"});return}const pe=JSON.parse(ie);if(!Array.isArray(pe)){c({title:"Invalid format",description:"Expected an array of tasks in JSON format",variant:"destructive"});return}if(pe.length===0){c({title:"No tasks found",description:"The file contains an empty array",variant:"destructive"});return}let ue=0,oe=0;pe.forEach(ce=>{if(ce&&typeof ce=="object"&&ce.title&&typeof ce.title=="string")try{o({title:ce.title.trim(),description:ce.description||"",status:["todo","in-progress","completed"].includes(ce.status)?ce.status:"todo",priority:["low","medium","high","urgent"].includes(ce.priority)?ce.priority:"medium",projectId:r,tags:Array.isArray(ce.tags)?ce.tags.filter(Q=>typeof Q=="string"):[],estimatedTime:typeof ce.estimatedTime=="number"&&ce.estimatedTime>0?ce.estimatedTime:void 0}),ue++}catch(Q){console.error("Error creating task:",Q),oe++}else oe++}),ue>0?c({title:"Tasks imported successfully",description:`Imported ${ue} tasks${oe>0?` (${oe} skipped due to invalid format)`:""}`,variant:"default"}):c({title:"Import failed",description:"No valid tasks found. Please check the file format.",variant:"destructive"})}catch(ie){console.error("Error importing tasks:",ie),c({title:"Import error",description:"Invalid JSON format or corrupted file",variant:"destructive"})}},Y.onerror=()=>{c({title:"File read error",description:"Could not read the selected file",variant:"destructive"})},Y.readAsText(L),v.current&&(v.current.value="")},U=()=>{l(a==="light"?"dark":"light")};return _.useEffect(()=>{const V=setInterval(()=>{if(d(new Date),e){const L=Math.floor((Date.now()-e.startTime.getTime())/1e3);p(L)}},1e3);return()=>clearInterval(V)},[e]),f.jsxs("header",{className:"h-14 md:h-16 border-b border-border bg-white/95 dark:bg-slate-950/95 backdrop-blur-xl",children:[f.jsxs("div",{className:"flex items-center justify-between h-full px-3 md:px-6",children:[f.jsxs("div",{className:"flex items-center gap-2 md:gap-4 min-w-0",children:[f.jsx(ne,{variant:"ghost",size:"icon",className:"md:hidden flex-shrink-0",onClick:t,children:f.jsx(Qd,{className:"h-4 w-4"})}),j&&f.jsxs(Ve.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"flex items-center gap-2 min-w-0",children:[f.jsx("span",{className:"text-base md:text-lg flex-shrink-0",children:j.icon}),f.jsxs("div",{className:"hidden sm:block min-w-0",children:[f.jsx("h1",{className:"font-semibold text-sm md:text-base truncate",children:j.name}),f.jsxs("p",{className:"text-xs text-muted-foreground",children:[$.length," active"]})]})]})]}),f.jsx("div",{className:"hidden lg:flex flex-1 justify-center px-4 max-w-md",children:f.jsxs(ne,{variant:"outline",className:"w-full justify-start text-muted-foreground hover:bg-accent/50 transition-all duration-200",onClick:t,children:[f.jsx(Qd,{className:"mr-2 h-4 w-4 flex-shrink-0"}),f.jsx("span",{className:"hidden xl:inline truncate",children:"Search or type a command..."}),f.jsx("span",{className:"xl:hidden truncate",children:"Search..."}),f.jsxs("kbd",{className:"ml-auto inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground flex-shrink-0",children:[f.jsx(zre,{className:"h-3 w-3"}),"K"]})]})}),f.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[e&&f.jsxs(Ve.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"hidden lg:flex items-center space-x-2 px-2 xl:px-3 py-1.5 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:[f.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),f.jsxs("div",{className:"hidden xl:flex items-center space-x-1 text-sm",children:[f.jsx(Ts,{className:"h-3 w-3 text-green-600"}),f.jsx("span",{className:"font-medium text-green-700 dark:text-green-300",children:"Flow"})]}),f.jsx("div",{className:"text-xs text-green-600 dark:text-green-400 font-mono",children:y0(h)})]}),f.jsxs("div",{className:"hidden xl:flex items-center space-x-2 text-sm text-muted-foreground",children:[f.jsx(Hr,{className:"h-4 w-4"}),f.jsx("span",{className:"font-mono",children:u.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),f.jsx(ne,{variant:"ghost",size:"icon",onClick:()=>P(!0),title:"Send Feedback",className:"hidden lg:inline-flex",children:f.jsx(qi,{className:"h-4 w-4"})}),f.jsxs(ne,{variant:"ghost",size:"icon",className:"relative",onClick:()=>x(!0),children:[f.jsx(px,{className:"h-4 w-4"}),s>0]}),f.jsx(ne,{variant:"ghost",size:"icon",onClick:()=>{var V;return(V=v.current)==null?void 0:V.click()},title:"Import Tasks (JSON)",className:"hidden lg:inline-flex",children:f.jsx(hA,{className:"h-4 w-4"})}),f.jsx("input",{ref:v,type:"file",accept:".json",onChange:B,className:"hidden"}),f.jsxs(ne,{variant:"ghost",size:"icon",onClick:U,className:"flex-shrink-0",children:[f.jsx(RU,{className:"h-4 w-4 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),f.jsx(kU,{className:"absolute h-4 w-4 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"})]}),N?f.jsxs(TW,{children:[f.jsx(EW,{asChild:!0,children:f.jsx(ne,{variant:"ghost",size:"icon",className:"rounded-full flex-shrink-0",children:f.jsx(sN,{className:"h-8 w-8",children:f.jsx(aN,{className:"bg-purple-600 text-white text-xs",children:((z=N.email)==null?void 0:z.charAt(0).toUpperCase())||"U"})})})}),f.jsxs(iN,{align:"end",className:"w-56",children:[f.jsx(AW,{children:f.jsxs("div",{className:"flex flex-col space-y-1",children:[f.jsx("p",{className:"text-sm font-medium",children:"My Account"}),f.jsx("p",{className:"text-xs text-muted-foreground truncate",children:N.email})]})}),f.jsx(Dx,{}),f.jsxs(ns,{onClick:()=>y(!0),children:[f.jsx(fk,{className:"mr-2 h-4 w-4"}),f.jsx("span",{children:"Profile"})]}),f.jsxs(ns,{onClick:()=>O(!0),children:[f.jsx(Hre,{className:"mr-2 h-4 w-4"}),f.jsx("span",{children:"My Feedback"})]}),f.jsxs(ns,{onClick:()=>E(!0),children:[f.jsx(dk,{className:"mr-2 h-4 w-4"}),f.jsx("span",{children:"Settings"})]}),f.jsxs(ns,{onClick:()=>P(!0),children:[f.jsx(qi,{className:"mr-2 h-4 w-4"}),f.jsx("span",{children:"Send Feedback"})]}),f.jsxs(ns,{onClick:()=>{var V;return(V=v.current)==null?void 0:V.click()},children:[f.jsx(hA,{className:"mr-2 h-4 w-4"}),f.jsx("span",{children:"Import Tasks"})]}),f.jsx(Dx,{}),f.jsxs(ns,{onClick:()=>{Zn.signOut(),c({title:"Signed out",description:"You have been signed out successfully"})},children:[f.jsx(Qre,{className:"mr-2 h-4 w-4"}),f.jsx("span",{children:"Log out"})]})]})]}):f.jsxs(ne,{variant:"ghost",size:"sm",onClick:()=>A(!0),className:"flex-shrink-0",children:[f.jsx($m,{className:"h-4 w-4 mr-2"}),f.jsx("span",{className:"hidden sm:inline",children:"Sign In"})]})]})]}),f.jsx(epe,{open:m,onOpenChange:y}),f.jsx(npe,{open:b,onOpenChange:x}),f.jsx(Upe,{open:w,onOpenChange:E}),f.jsx(c1e,{open:S,onOpenChange:P}),f.jsx(_P,{open:T,onOpenChange:A}),f.jsx(u1e,{open:k,onOpenChange:O})]})}function f1e(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return _.useMemo(()=>r=>{e.forEach(i=>i(r))},e)}const Y_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function xh(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function RO(t){return"nodeType"in t}function yr(t){var e,n;return t?xh(t)?t:RO(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function DO(t){const{Document:e}=yr(t);return t instanceof e}function ky(t){return xh(t)?!1:t instanceof yr(t).HTMLElement}function LK(t){return t instanceof yr(t).SVGElement}function bh(t){return t?xh(t)?t.document:RO(t)?DO(t)?t:ky(t)||LK(t)?t.ownerDocument:document:document:document}const io=Y_?_.useLayoutEffect:_.useEffect;function X_(t){const e=_.useRef(t);return io(()=>{e.current=t}),_.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}function h1e(){const t=_.useRef(null),e=_.useCallback((r,i)=>{t.current=setInterval(r,i)},[]),n=_.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function dg(t,e){e===void 0&&(e=[t]);const n=_.useRef(t);return io(()=>{n.current!==t&&(n.current=t)},e),n}function Ny(t,e){const n=_.useRef();return _.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function cb(t){const e=X_(t),n=_.useRef(null),r=_.useCallback(i=>{i!==n.current&&(e==null||e(i,n.current)),n.current=i},[]);return[n,r]}function ub(t){const e=_.useRef();return _.useEffect(()=>{e.current=t},[t]),e.current}let NT={};function Oy(t,e){return _.useMemo(()=>{if(e)return e;const n=NT[t]==null?0:NT[t]+1;return NT[t]=n,t+"-"+n},[t,e])}function VK(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((o,s)=>{const a=Object.entries(s);for(const[l,c]of a){const u=o[l];u!=null&&(o[l]=u+t*c)}return o},{...e})}}const Vd=VK(1),db=VK(-1);function p1e(t){return"clientX"in t&&"clientY"in t}function Q_(t){if(!t)return!1;const{KeyboardEvent:e}=yr(t.target);return e&&t instanceof e}function m1e(t){if(!t)return!1;const{TouchEvent:e}=yr(t.target);return e&&t instanceof e}function fb(t){if(m1e(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return p1e(t)?{x:t.clientX,y:t.clientY}:null}const fl=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[fl.Translate.toString(t),fl.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),eV="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function g1e(t){return t.matches(eV)?t:t.querySelector(eV)}const y1e={display:"none"};function v1e(t){let{id:e,value:n}=t;return M.createElement("div",{id:e,style:y1e},n)}function x1e(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return M.createElement("div",{id:e,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function b1e(){const[t,e]=_.useState("");return{announce:_.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const FK=_.createContext(null);function w1e(t){const e=_.useContext(FK);_.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function _1e(){const[t]=_.useState(()=>new Set),e=_.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[_.useCallback(r=>{let{type:i,event:o}=r;t.forEach(s=>{var a;return(a=s[i])==null?void 0:a.call(s,o)})},[t]),e]}const S1e={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},T1e={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function E1e(t){let{announcements:e=T1e,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=S1e}=t;const{announce:o,announcement:s}=b1e(),a=Oy("DndLiveRegion"),[l,c]=_.useState(!1);if(_.useEffect(()=>{c(!0)},[]),w1e(_.useMemo(()=>({onDragStart(d){let{active:h}=d;o(e.onDragStart({active:h}))},onDragMove(d){let{active:h,over:p}=d;e.onDragMove&&o(e.onDragMove({active:h,over:p}))},onDragOver(d){let{active:h,over:p}=d;o(e.onDragOver({active:h,over:p}))},onDragEnd(d){let{active:h,over:p}=d;o(e.onDragEnd({active:h,over:p}))},onDragCancel(d){let{active:h,over:p}=d;o(e.onDragCancel({active:h,over:p}))}}),[o,e])),!l)return null;const u=M.createElement(M.Fragment,null,M.createElement(v1e,{id:r,value:i.draggable}),M.createElement(x1e,{id:a,announcement:s}));return n?bi.createPortal(u,n):u}var pn;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(pn||(pn={}));function hb(){}function A1e(t,e){return _.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function P1e(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return _.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const oo=Object.freeze({x:0,y:0});function I1e(t,e){const n=fb(t);if(!n)return"0 0";const r={x:(n.x-e.left)/e.width*100,y:(n.y-e.top)/e.height*100};return r.x+"% "+r.y+"%"}function C1e(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function k1e(t,e){if(!t||t.length===0)return null;const[n]=t;return e?n[e]:n}function N1e(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),i=Math.min(e.left+e.width,t.left+t.width),o=Math.min(e.top+e.height,t.top+t.height),s=i-r,a=o-n;if(r<i&&n<o){const l=e.width*e.height,c=t.width*t.height,u=s*a,d=u/(l+c-u);return Number(d.toFixed(4))}return 0}const O1e=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=[];for(const o of r){const{id:s}=o,a=n.get(s);if(a){const l=N1e(a,e);l>0&&i.push({id:s,data:{droppableContainer:o,value:l}})}}return i.sort(C1e)};function j1e(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function BK(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:oo}function R1e(t){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return i.reduce((s,a)=>({...s,top:s.top+t*a.y,bottom:s.bottom+t*a.y,left:s.left+t*a.x,right:s.right+t*a.x}),{...n})}}const D1e=R1e(1);function UK(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function M1e(t,e,n){const r=UK(e);if(!r)return t;const{scaleX:i,scaleY:o,x:s,y:a}=r,l=t.left-s-(1-i)*parseFloat(n),c=t.top-a-(1-o)*parseFloat(n.slice(n.indexOf(" ")+1)),u=i?t.width/i:t.width,d=o?t.height/o:t.height;return{width:u,height:d,top:c,right:l+u,bottom:c+d,left:l}}const $1e={ignoreTransform:!1};function wh(t,e){e===void 0&&(e=$1e);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:c,transformOrigin:u}=yr(t).getComputedStyle(t);c&&(n=M1e(n,c,u))}const{top:r,left:i,width:o,height:s,bottom:a,right:l}=n;return{top:r,left:i,width:o,height:s,bottom:a,right:l}}function tV(t){return wh(t,{ignoreTransform:!0})}function L1e(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function V1e(t,e){return e===void 0&&(e=yr(t).getComputedStyle(t)),e.position==="fixed"}function F1e(t,e){e===void 0&&(e=yr(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const o=e[i];return typeof o=="string"?n.test(o):!1})}function MO(t,e){const n=[];function r(i){if(e!=null&&n.length>=e||!i)return n;if(DO(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!ky(i)||LK(i)||n.includes(i))return n;const o=yr(t).getComputedStyle(i);return i!==t&&F1e(i,o)&&n.push(i),V1e(i,o)?n:r(i.parentNode)}return t?r(t):n}function zK(t){const[e]=MO(t,1);return e??null}function OT(t){return!Y_||!t?null:xh(t)?t:RO(t)?DO(t)||t===bh(t).scrollingElement?window:ky(t)?t:null:null}function WK(t){return xh(t)?t.scrollX:t.scrollLeft}function qK(t){return xh(t)?t.scrollY:t.scrollTop}function SP(t){return{x:WK(t),y:qK(t)}}var In;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(In||(In={}));function GK(t){return!Y_||!t?!1:t===document.scrollingElement}function HK(t){const e={x:0,y:0},n=GK(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},i=t.scrollTop<=e.y,o=t.scrollLeft<=e.x,s=t.scrollTop>=r.y,a=t.scrollLeft>=r.x;return{isTop:i,isLeft:o,isBottom:s,isRight:a,maxScroll:r,minScroll:e}}const B1e={x:.2,y:.2};function U1e(t,e,n,r,i){let{top:o,left:s,right:a,bottom:l}=n;r===void 0&&(r=10),i===void 0&&(i=B1e);const{isTop:c,isBottom:u,isLeft:d,isRight:h}=HK(t),p={x:0,y:0},v={x:0,y:0},m={height:e.height*i.y,width:e.width*i.x};return!c&&o<=e.top+m.height?(p.y=In.Backward,v.y=r*Math.abs((e.top+m.height-o)/m.height)):!u&&l>=e.bottom-m.height&&(p.y=In.Forward,v.y=r*Math.abs((e.bottom-m.height-l)/m.height)),!h&&a>=e.right-m.width?(p.x=In.Forward,v.x=r*Math.abs((e.right-m.width-a)/m.width)):!d&&s<=e.left+m.width&&(p.x=In.Backward,v.x=r*Math.abs((e.left+m.width-s)/m.width)),{direction:p,speed:v}}function z1e(t){if(t===document.scrollingElement){const{innerWidth:o,innerHeight:s}=window;return{top:0,left:0,right:o,bottom:s,width:o,height:s}}const{top:e,left:n,right:r,bottom:i}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:i,width:t.clientWidth,height:t.clientHeight}}function KK(t){return t.reduce((e,n)=>Vd(e,SP(n)),oo)}function W1e(t){return t.reduce((e,n)=>e+WK(n),0)}function q1e(t){return t.reduce((e,n)=>e+qK(n),0)}function YK(t,e){if(e===void 0&&(e=wh),!t)return;const{top:n,left:r,bottom:i,right:o}=e(t);zK(t)&&(i<=0||o<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const G1e=[["x",["left","right"],W1e],["y",["top","bottom"],q1e]];class $O{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=MO(n),i=KK(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[o,s,a]of G1e)for(const l of s)Object.defineProperty(this,l,{get:()=>{const c=a(r),u=i[o]-c;return this.rect[l]+u},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class lm{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var i;(i=this.target)==null||i.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function H1e(t){const{EventTarget:e}=yr(t);return t instanceof e?t:bh(t)}function jT(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var pi;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(pi||(pi={}));function nV(t){t.preventDefault()}function K1e(t){t.stopPropagation()}var Xe;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(Xe||(Xe={}));const XK={start:[Xe.Space,Xe.Enter],cancel:[Xe.Esc],end:[Xe.Space,Xe.Enter,Xe.Tab]},Y1e=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case Xe.Right:return{...n,x:n.x+25};case Xe.Left:return{...n,x:n.x-25};case Xe.Down:return{...n,y:n.y+25};case Xe.Up:return{...n,y:n.y-25}}};class QK{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new lm(bh(n)),this.windowListeners=new lm(yr(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(pi.Resize,this.handleCancel),this.windowListeners.add(pi.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(pi.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&YK(r),n(oo)}handleKeyDown(e){if(Q_(e)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:o=XK,coordinateGetter:s=Y1e,scrollBehavior:a="smooth"}=i,{code:l}=e;if(o.end.includes(l)){this.handleEnd(e);return}if(o.cancel.includes(l)){this.handleCancel(e);return}const{collisionRect:c}=r.current,u=c?{x:c.left,y:c.top}:oo;this.referenceCoordinates||(this.referenceCoordinates=u);const d=s(e,{active:n,context:r.current,currentCoordinates:u});if(d){const h=db(d,u),p={x:0,y:0},{scrollableAncestors:v}=r.current;for(const m of v){const y=e.code,{isTop:b,isRight:x,isLeft:w,isBottom:E,maxScroll:S,minScroll:P}=HK(m),T=z1e(m),A={x:Math.min(y===Xe.Right?T.right-T.width/2:T.right,Math.max(y===Xe.Right?T.left:T.left+T.width/2,d.x)),y:Math.min(y===Xe.Down?T.bottom-T.height/2:T.bottom,Math.max(y===Xe.Down?T.top:T.top+T.height/2,d.y))},k=y===Xe.Right&&!x||y===Xe.Left&&!w,O=y===Xe.Down&&!E||y===Xe.Up&&!b;if(k&&A.x!==d.x){const N=m.scrollLeft+h.x,C=y===Xe.Right&&N<=S.x||y===Xe.Left&&N>=P.x;if(C&&!h.y){m.scrollTo({left:N,behavior:a});return}C?p.x=m.scrollLeft-N:p.x=y===Xe.Right?m.scrollLeft-S.x:m.scrollLeft-P.x,p.x&&m.scrollBy({left:-p.x,behavior:a});break}else if(O&&A.y!==d.y){const N=m.scrollTop+h.y,C=y===Xe.Down&&N<=S.y||y===Xe.Up&&N>=P.y;if(C&&!h.x){m.scrollTo({top:N,behavior:a});return}C?p.y=m.scrollTop-N:p.y=y===Xe.Down?m.scrollTop-S.y:m.scrollTop-P.y,p.y&&m.scrollBy({top:-p.y,behavior:a});break}}this.handleMove(e,Vd(db(d,this.referenceCoordinates),p))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}QK.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=XK,onActivation:i}=e,{active:o}=n;const{code:s}=t.nativeEvent;if(r.start.includes(s)){const a=o.activatorNode.current;return a&&t.target!==a?!1:(t.preventDefault(),i==null||i({event:t.nativeEvent}),!0)}return!1}}];function rV(t){return!!(t&&"distance"in t)}function iV(t){return!!(t&&"delay"in t)}class LO{constructor(e,n,r){var i;r===void 0&&(r=H1e(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:o}=e,{target:s}=o;this.props=e,this.events=n,this.document=bh(s),this.documentListeners=new lm(this.document),this.listeners=new lm(r),this.windowListeners=new lm(yr(s)),this.initialCoordinates=(i=fb(o))!=null?i:oo,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(pi.Resize,this.handleCancel),this.windowListeners.add(pi.DragStart,nV),this.windowListeners.add(pi.VisibilityChange,this.handleCancel),this.windowListeners.add(pi.ContextMenu,nV),this.documentListeners.add(pi.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(iV(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(rV(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:r,onPending:i}=this.props;i(r,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(pi.Click,K1e,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(pi.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:i,props:o}=this,{onMove:s,options:{activationConstraint:a}}=o;if(!i)return;const l=(n=fb(e))!=null?n:oo,c=db(i,l);if(!r&&a){if(rV(a)){if(a.tolerance!=null&&jT(c,a.tolerance))return this.handleCancel();if(jT(c,a.distance))return this.handleStart()}if(iV(a)&&jT(c,a.tolerance))return this.handleCancel();this.handlePending(a,c);return}e.cancelable&&e.preventDefault(),s(l)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===Xe.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const X1e={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class VO extends LO{constructor(e){const{event:n}=e,r=bh(n.target);super(e,X1e,r)}}VO.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const Q1e={move:{name:"mousemove"},end:{name:"mouseup"}};var TP;(function(t){t[t.RightClick=2]="RightClick"})(TP||(TP={}));class J1e extends LO{constructor(e){super(e,Q1e,bh(e.event.target))}}J1e.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===TP.RightClick?!1:(r==null||r({event:n}),!0)}}];const RT={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Z1e extends LO{constructor(e){super(e,RT)}static setup(){return window.addEventListener(RT.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(RT.move.name,e)};function e(){}}}Z1e.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:i}=n;return i.length>1?!1:(r==null||r({event:n}),!0)}}];var cm;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(cm||(cm={}));var pb;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(pb||(pb={}));function eSe(t){let{acceleration:e,activator:n=cm.Pointer,canScroll:r,draggingRect:i,enabled:o,interval:s=5,order:a=pb.TreeOrder,pointerCoordinates:l,scrollableAncestors:c,scrollableAncestorRects:u,delta:d,threshold:h}=t;const p=nSe({delta:d,disabled:!o}),[v,m]=h1e(),y=_.useRef({x:0,y:0}),b=_.useRef({x:0,y:0}),x=_.useMemo(()=>{switch(n){case cm.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case cm.DraggableRect:return i}},[n,i,l]),w=_.useRef(null),E=_.useCallback(()=>{const P=w.current;if(!P)return;const T=y.current.x*b.current.x,A=y.current.y*b.current.y;P.scrollBy(T,A)},[]),S=_.useMemo(()=>a===pb.TreeOrder?[...c].reverse():c,[a,c]);_.useEffect(()=>{if(!o||!c.length||!x){m();return}for(const P of S){if((r==null?void 0:r(P))===!1)continue;const T=c.indexOf(P),A=u[T];if(!A)continue;const{direction:k,speed:O}=U1e(P,A,x,e,h);for(const N of["x","y"])p[N][k[N]]||(O[N]=0,k[N]=0);if(O.x>0||O.y>0){m(),w.current=P,v(E,s),y.current=O,b.current=k;return}}y.current={x:0,y:0},b.current={x:0,y:0},m()},[e,E,r,m,o,s,JSON.stringify(x),JSON.stringify(p),v,c,S,u,JSON.stringify(h)])}const tSe={x:{[In.Backward]:!1,[In.Forward]:!1},y:{[In.Backward]:!1,[In.Forward]:!1}};function nSe(t){let{delta:e,disabled:n}=t;const r=ub(e);return Ny(i=>{if(n||!r||!i)return tSe;const o={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[In.Backward]:i.x[In.Backward]||o.x===-1,[In.Forward]:i.x[In.Forward]||o.x===1},y:{[In.Backward]:i.y[In.Backward]||o.y===-1,[In.Forward]:i.y[In.Forward]||o.y===1}}},[n,e,r])}function rSe(t,e){const n=e!=null?t.get(e):void 0,r=n?n.node.current:null;return Ny(i=>{var o;return e==null?null:(o=r??i)!=null?o:null},[r,e])}function iSe(t,e){return _.useMemo(()=>t.reduce((n,r)=>{const{sensor:i}=r,o=i.activators.map(s=>({eventName:s.eventName,handler:e(s.handler,r)}));return[...n,...o]},[]),[t,e])}var fg;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(fg||(fg={}));var EP;(function(t){t.Optimized="optimized"})(EP||(EP={}));const oV=new Map;function oSe(t,e){let{dragging:n,dependencies:r,config:i}=e;const[o,s]=_.useState(null),{frequency:a,measure:l,strategy:c}=i,u=_.useRef(t),d=y(),h=dg(d),p=_.useCallback(function(b){b===void 0&&(b=[]),!h.current&&s(x=>x===null?b:x.concat(b.filter(w=>!x.includes(w))))},[h]),v=_.useRef(null),m=Ny(b=>{if(d&&!n)return oV;if(!b||b===oV||u.current!==t||o!=null){const x=new Map;for(let w of t){if(!w)continue;if(o&&o.length>0&&!o.includes(w.id)&&w.rect.current){x.set(w.id,w.rect.current);continue}const E=w.node.current,S=E?new $O(l(E),E):null;w.rect.current=S,S&&x.set(w.id,S)}return x}return b},[t,o,n,d,l]);return _.useEffect(()=>{u.current=t},[t]),_.useEffect(()=>{d||p()},[n,d]),_.useEffect(()=>{o&&o.length>0&&s(null)},[JSON.stringify(o)]),_.useEffect(()=>{d||typeof a!="number"||v.current!==null||(v.current=setTimeout(()=>{p(),v.current=null},a))},[a,d,p,...r]),{droppableRects:m,measureDroppableContainers:p,measuringScheduled:o!=null};function y(){switch(c){case fg.Always:return!1;case fg.BeforeDragging:return n;default:return!n}}}function FO(t,e){return Ny(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function sSe(t,e){return FO(t,e)}function aSe(t){let{callback:e,disabled:n}=t;const r=X_(e),i=_.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(r)},[r,n]);return _.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function J_(t){let{callback:e,disabled:n}=t;const r=X_(e),i=_.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(r)},[n]);return _.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function lSe(t){return new $O(wh(t),t)}function sV(t,e,n){e===void 0&&(e=lSe);const[r,i]=_.useState(null);function o(){i(l=>{if(!t)return null;if(t.isConnected===!1){var c;return(c=l??n)!=null?c:null}const u=e(t);return JSON.stringify(l)===JSON.stringify(u)?l:u})}const s=aSe({callback(l){if(t)for(const c of l){const{type:u,target:d}=c;if(u==="childList"&&d instanceof HTMLElement&&d.contains(t)){o();break}}}}),a=J_({callback:o});return io(()=>{o(),t?(a==null||a.observe(t),s==null||s.observe(document.body,{childList:!0,subtree:!0})):(a==null||a.disconnect(),s==null||s.disconnect())},[t]),r}function cSe(t){const e=FO(t);return BK(t,e)}const aV=[];function uSe(t){const e=_.useRef(t),n=Ny(r=>t?r&&r!==aV&&t&&e.current&&t.parentNode===e.current.parentNode?r:MO(t):aV,[t]);return _.useEffect(()=>{e.current=t},[t]),n}function dSe(t){const[e,n]=_.useState(null),r=_.useRef(t),i=_.useCallback(o=>{const s=OT(o.target);s&&n(a=>a?(a.set(s,SP(s)),new Map(a)):null)},[]);return _.useEffect(()=>{const o=r.current;if(t!==o){s(o);const a=t.map(l=>{const c=OT(l);return c?(c.addEventListener("scroll",i,{passive:!0}),[c,SP(c)]):null}).filter(l=>l!=null);n(a.length?new Map(a):null),r.current=t}return()=>{s(t),s(o)};function s(a){a.forEach(l=>{const c=OT(l);c==null||c.removeEventListener("scroll",i)})}},[i,t]),_.useMemo(()=>t.length?e?Array.from(e.values()).reduce((o,s)=>Vd(o,s),oo):KK(t):oo,[t,e])}function lV(t,e){e===void 0&&(e=[]);const n=_.useRef(null);return _.useEffect(()=>{n.current=null},e),_.useEffect(()=>{const r=t!==oo;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?db(t,n.current):oo}function fSe(t){_.useEffect(()=>{if(!Y_)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n==null||n()}},t.map(e=>{let{sensor:n}=e;return n}))}function hSe(t,e){return _.useMemo(()=>t.reduce((n,r)=>{let{eventName:i,handler:o}=r;return n[i]=s=>{o(s,e)},n},{}),[t,e])}function JK(t){return _.useMemo(()=>t?L1e(t):null,[t])}const cV=[];function pSe(t,e){e===void 0&&(e=wh);const[n]=t,r=JK(n?yr(n):null),[i,o]=_.useState(cV);function s(){o(()=>t.length?t.map(l=>GK(l)?r:new $O(e(l),l)):cV)}const a=J_({callback:s});return io(()=>{a==null||a.disconnect(),s(),t.forEach(l=>a==null?void 0:a.observe(l))},[t]),i}function ZK(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return ky(e)?e:t}function mSe(t){let{measure:e}=t;const[n,r]=_.useState(null),i=_.useCallback(c=>{for(const{target:u}of c)if(ky(u)){r(d=>{const h=e(u);return d?{...d,width:h.width,height:h.height}:h});break}},[e]),o=J_({callback:i}),s=_.useCallback(c=>{const u=ZK(c);o==null||o.disconnect(),u&&(o==null||o.observe(u)),r(u?e(u):null)},[e,o]),[a,l]=cb(s);return _.useMemo(()=>({nodeRef:a,rect:n,setRef:l}),[n,a,l])}const gSe=[{sensor:VO,options:{}},{sensor:QK,options:{}}],ySe={current:{}},F0={draggable:{measure:tV},droppable:{measure:tV,strategy:fg.WhileDragging,frequency:EP.Optimized},dragOverlay:{measure:wh}};class um extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const vSe={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new um,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:hb},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:F0,measureDroppableContainers:hb,windowRect:null,measuringScheduled:!1},eY={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:hb,draggableNodes:new Map,over:null,measureDroppableContainers:hb},jy=_.createContext(eY),tY=_.createContext(vSe);function xSe(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new um}}}function bSe(t,e){switch(e.type){case pn.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case pn.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case pn.DragEnd:case pn.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case pn.RegisterDroppable:{const{element:n}=e,{id:r}=n,i=new um(t.droppable.containers);return i.set(r,n),{...t,droppable:{...t.droppable,containers:i}}}case pn.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=e,o=t.droppable.containers.get(n);if(!o||r!==o.key)return t;const s=new um(t.droppable.containers);return s.set(n,{...o,disabled:i}),{...t,droppable:{...t.droppable,containers:s}}}case pn.UnregisterDroppable:{const{id:n,key:r}=e,i=t.droppable.containers.get(n);if(!i||r!==i.key)return t;const o=new um(t.droppable.containers);return o.delete(n),{...t,droppable:{...t.droppable,containers:o}}}default:return t}}function wSe(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:i}=_.useContext(jy),o=ub(r),s=ub(n==null?void 0:n.id);return _.useEffect(()=>{if(!e&&!r&&o&&s!=null){if(!Q_(o)||document.activeElement===o.target)return;const a=i.get(s);if(!a)return;const{activatorNode:l,node:c}=a;if(!l.current&&!c.current)return;requestAnimationFrame(()=>{for(const u of[l.current,c.current]){if(!u)continue;const d=g1e(u);if(d){d.focus();break}}})}},[r,e,i,s,o]),null}function nY(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((i,o)=>o({transform:i,...r}),n):n}function _Se(t){return _.useMemo(()=>({draggable:{...F0.draggable,...t==null?void 0:t.draggable},droppable:{...F0.droppable,...t==null?void 0:t.droppable},dragOverlay:{...F0.dragOverlay,...t==null?void 0:t.dragOverlay}}),[t==null?void 0:t.draggable,t==null?void 0:t.droppable,t==null?void 0:t.dragOverlay])}function SSe(t){let{activeNode:e,measure:n,initialRect:r,config:i=!0}=t;const o=_.useRef(!1),{x:s,y:a}=typeof i=="boolean"?{x:i,y:i}:i;io(()=>{if(!s&&!a||!e){o.current=!1;return}if(o.current||!r)return;const c=e==null?void 0:e.node.current;if(!c||c.isConnected===!1)return;const u=n(c),d=BK(u,r);if(s||(d.x=0),a||(d.y=0),o.current=!0,Math.abs(d.x)>0||Math.abs(d.y)>0){const h=zK(c);h&&h.scrollBy({top:d.y,left:d.x})}},[e,s,a,r,n])}const Z_=_.createContext({...oo,scaleX:1,scaleY:1});var ga;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(ga||(ga={}));const TSe=_.memo(function(e){var n,r,i,o;let{id:s,accessibility:a,autoScroll:l=!0,children:c,sensors:u=gSe,collisionDetection:d=O1e,measuring:h,modifiers:p,...v}=e;const m=_.useReducer(bSe,void 0,xSe),[y,b]=m,[x,w]=_1e(),[E,S]=_.useState(ga.Uninitialized),P=E===ga.Initialized,{draggable:{active:T,nodes:A,translate:k},droppable:{containers:O}}=y,N=T!=null?A.get(T):null,C=_.useRef({initial:null,translated:null}),j=_.useMemo(()=>{var ln;return T!=null?{id:T,data:(ln=N==null?void 0:N.data)!=null?ln:ySe,rect:C}:null},[T,N]),$=_.useRef(null),[B,U]=_.useState(null),[z,V]=_.useState(null),L=dg(v,Object.values(v)),Y=Oy("DndDescribedBy",s),K=_.useMemo(()=>O.getEnabled(),[O]),F=_Se(h),{droppableRects:te,measureDroppableContainers:ie,measuringScheduled:pe}=oSe(K,{dragging:P,dependencies:[k.x,k.y],config:F.droppable}),ue=rSe(A,T),oe=_.useMemo(()=>z?fb(z):null,[z]),ce=Dl(),Q=sSe(ue,F.draggable.measure);SSe({activeNode:T!=null?A.get(T):null,config:ce.layoutShiftCompensation,initialRect:Q,measure:F.draggable.measure});const Z=sV(ue,F.draggable.measure,Q),se=sV(ue?ue.parentElement:null),H=_.useRef({activatorEvent:null,active:null,activeNode:ue,collisionRect:null,collisions:null,droppableRects:te,draggableNodes:A,draggingNode:null,draggingNodeRect:null,droppableContainers:O,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Se=O.getNodeFor((n=H.current.over)==null?void 0:n.id),be=mSe({measure:F.dragOverlay.measure}),qe=(r=be.nodeRef.current)!=null?r:ue,Ge=P?(i=be.rect)!=null?i:Z:null,ft=!!(be.nodeRef.current&&be.rect),Rn=cSe(ft?null:Z),an=JK(qe?yr(qe):null),et=uSe(P?Se??ue:null),lt=pSe(et),Dn=nY(p,{transform:{x:k.x-Rn.x,y:k.y-Rn.y,scaleX:1,scaleY:1},activatorEvent:z,active:j,activeNodeRect:Z,containerNodeRect:se,draggingNodeRect:Ge,over:H.current.over,overlayNodeRect:be.rect,scrollableAncestors:et,scrollableAncestorRects:lt,windowRect:an}),Ks=oe?Vd(oe,k):null,Ys=dSe(et),Nu=lV(Ys),Ol=lV(Ys,[Z]),Go=Vd(Dn,Nu),Ho=Ge?D1e(Ge,Dn):null,Ko=j&&Ho?d({active:j,collisionRect:Ho,droppableRects:te,droppableContainers:K,pointerCoordinates:Ks}):null,zy=k1e(Ko,"id"),[uo,Dh]=_.useState(null),Wy=ft?Dn:Vd(Dn,Ol),jl=j1e(Wy,(o=uo==null?void 0:uo.rect)!=null?o:null,Z),Rl=_.useRef(null),Ou=_.useCallback((ln,nt)=>{let{sensor:Un,options:vr}=nt;if($.current==null)return;const _n=A.get($.current);if(!_n)return;const rr=ln.nativeEvent,si=new Un({active:$.current,activeNode:_n,event:rr,options:vr,context:H,onAbort(cn){if(!A.get(cn))return;const{onDragAbort:ir}=L.current,ai={id:cn};ir==null||ir(ai),x({type:"onDragAbort",event:ai})},onPending(cn,fo,ir,ai){if(!A.get(cn))return;const{onDragPending:Xo}=L.current,xr={id:cn,constraint:fo,initialCoordinates:ir,offset:ai};Xo==null||Xo(xr),x({type:"onDragPending",event:xr})},onStart(cn){const fo=$.current;if(fo==null)return;const ir=A.get(fo);if(!ir)return;const{onDragStart:ai}=L.current,Xs={activatorEvent:rr,active:{id:fo,data:ir.data,rect:C}};bi.unstable_batchedUpdates(()=>{ai==null||ai(Xs),S(ga.Initializing),b({type:pn.DragStart,initialCoordinates:cn,active:fo}),x({type:"onDragStart",event:Xs}),U(Rl.current),V(rr)})},onMove(cn){b({type:pn.DragMove,coordinates:cn})},onEnd:jr(pn.DragEnd),onCancel:jr(pn.DragCancel)});Rl.current=si;function jr(cn){return async function(){const{active:ir,collisions:ai,over:Xs,scrollAdjustedTranslate:Xo}=H.current;let xr=null;if(ir&&Xo){const{cancelDrop:Ml}=L.current;xr={activatorEvent:rr,active:ir,collisions:ai,delta:Xo,over:Xs},cn===pn.DragEnd&&typeof Ml=="function"&&await Promise.resolve(Ml(xr))&&(cn=pn.DragCancel)}$.current=null,bi.unstable_batchedUpdates(()=>{b({type:cn}),S(ga.Uninitialized),Dh(null),U(null),V(null),Rl.current=null;const Ml=cn===pn.DragEnd?"onDragEnd":"onDragCancel";if(xr){const li=L.current[Ml];li==null||li(xr),x({type:Ml,event:xr})}})}}},[A]),Yo=_.useCallback((ln,nt)=>(Un,vr)=>{const _n=Un.nativeEvent,rr=A.get(vr);if($.current!==null||!rr||_n.dndKit||_n.defaultPrevented)return;const si={active:rr};ln(Un,nt.options,si)===!0&&(_n.dndKit={capturedBy:nt.sensor},$.current=vr,Ou(Un,nt))},[A,Ou]),Mh=iSe(u,Yo);fSe(u),io(()=>{Z&&E===ga.Initializing&&S(ga.Initialized)},[Z,E]),_.useEffect(()=>{const{onDragMove:ln}=L.current,{active:nt,activatorEvent:Un,collisions:vr,over:_n}=H.current;if(!nt||!Un)return;const rr={active:nt,activatorEvent:Un,collisions:vr,delta:{x:Go.x,y:Go.y},over:_n};bi.unstable_batchedUpdates(()=>{ln==null||ln(rr),x({type:"onDragMove",event:rr})})},[Go.x,Go.y]),_.useEffect(()=>{const{active:ln,activatorEvent:nt,collisions:Un,droppableContainers:vr,scrollAdjustedTranslate:_n}=H.current;if(!ln||$.current==null||!nt||!_n)return;const{onDragOver:rr}=L.current,si=vr.get(zy),jr=si&&si.rect.current?{id:si.id,rect:si.rect.current,data:si.data,disabled:si.disabled}:null,cn={active:ln,activatorEvent:nt,collisions:Un,delta:{x:_n.x,y:_n.y},over:jr};bi.unstable_batchedUpdates(()=>{Dh(jr),rr==null||rr(cn),x({type:"onDragOver",event:cn})})},[zy]),io(()=>{H.current={activatorEvent:z,active:j,activeNode:ue,collisionRect:Ho,collisions:Ko,droppableRects:te,draggableNodes:A,draggingNode:qe,draggingNodeRect:Ge,droppableContainers:O,over:uo,scrollableAncestors:et,scrollAdjustedTranslate:Go},C.current={initial:Ge,translated:Ho}},[j,ue,Ko,Ho,A,qe,Ge,te,O,uo,et,Go]),eSe({...ce,delta:k,draggingRect:Ho,pointerCoordinates:Ks,scrollableAncestors:et,scrollableAncestorRects:lt});const ju=_.useMemo(()=>({active:j,activeNode:ue,activeNodeRect:Z,activatorEvent:z,collisions:Ko,containerNodeRect:se,dragOverlay:be,draggableNodes:A,droppableContainers:O,droppableRects:te,over:uo,measureDroppableContainers:ie,scrollableAncestors:et,scrollableAncestorRects:lt,measuringConfiguration:F,measuringScheduled:pe,windowRect:an}),[j,ue,Z,z,Ko,se,be,A,O,te,uo,ie,et,lt,F,pe,an]),qy=_.useMemo(()=>({activatorEvent:z,activators:Mh,active:j,activeNodeRect:Z,ariaDescribedById:{draggable:Y},dispatch:b,draggableNodes:A,over:uo,measureDroppableContainers:ie}),[z,Mh,j,Z,b,Y,A,uo,ie]);return M.createElement(FK.Provider,{value:w},M.createElement(jy.Provider,{value:qy},M.createElement(tY.Provider,{value:ju},M.createElement(Z_.Provider,{value:jl},c)),M.createElement(wSe,{disabled:(a==null?void 0:a.restoreFocus)===!1})),M.createElement(E1e,{...a,hiddenTextDescribedById:Y}));function Dl(){const ln=(B==null?void 0:B.autoScrollEnabled)===!1,nt=typeof l=="object"?l.enabled===!1:l===!1,Un=P&&!ln&&!nt;return typeof l=="object"?{...l,enabled:Un}:{enabled:Un}}}),ESe=_.createContext(null),uV="button",ASe="Draggable";function PSe(t){let{id:e,data:n,disabled:r=!1,attributes:i}=t;const o=Oy(ASe),{activators:s,activatorEvent:a,active:l,activeNodeRect:c,ariaDescribedById:u,draggableNodes:d,over:h}=_.useContext(jy),{role:p=uV,roleDescription:v="draggable",tabIndex:m=0}=i??{},y=(l==null?void 0:l.id)===e,b=_.useContext(y?Z_:ESe),[x,w]=cb(),[E,S]=cb(),P=hSe(s,e),T=dg(n);io(()=>(d.set(e,{id:e,key:o,node:x,activatorNode:E,data:T}),()=>{const k=d.get(e);k&&k.key===o&&d.delete(e)}),[d,e]);const A=_.useMemo(()=>({role:p,tabIndex:m,"aria-disabled":r,"aria-pressed":y&&p===uV?!0:void 0,"aria-roledescription":v,"aria-describedby":u.draggable}),[r,p,m,y,v,u.draggable]);return{active:l,activatorEvent:a,activeNodeRect:c,attributes:A,isDragging:y,listeners:r?void 0:P,node:x,over:h,setNodeRef:w,setActivatorNodeRef:S,transform:b}}function rY(){return _.useContext(tY)}const ISe="Droppable",CSe={timeout:25};function iY(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:i}=t;const o=Oy(ISe),{active:s,dispatch:a,over:l,measureDroppableContainers:c}=_.useContext(jy),u=_.useRef({disabled:n}),d=_.useRef(!1),h=_.useRef(null),p=_.useRef(null),{disabled:v,updateMeasurementsFor:m,timeout:y}={...CSe,...i},b=dg(m??r),x=_.useCallback(()=>{if(!d.current){d.current=!0;return}p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{c(Array.isArray(b.current)?b.current:[b.current]),p.current=null},y)},[y]),w=J_({callback:x,disabled:v||!s}),E=_.useCallback((A,k)=>{w&&(k&&(w.unobserve(k),d.current=!1),A&&w.observe(A))},[w]),[S,P]=cb(E),T=dg(e);return _.useEffect(()=>{!w||!S.current||(w.disconnect(),d.current=!1,w.observe(S.current))},[S,w]),_.useEffect(()=>(a({type:pn.RegisterDroppable,element:{id:r,key:o,disabled:n,node:S,rect:h,data:T}}),()=>a({type:pn.UnregisterDroppable,key:o,id:r})),[r]),_.useEffect(()=>{n!==u.current.disabled&&(a({type:pn.SetDroppableDisabled,id:r,key:o,disabled:n}),u.current.disabled=n)},[r,o,n,a]),{active:s,rect:h,isOver:(l==null?void 0:l.id)===r,node:S,over:l,setNodeRef:P}}function kSe(t){let{animation:e,children:n}=t;const[r,i]=_.useState(null),[o,s]=_.useState(null),a=ub(n);return!n&&!r&&a&&i(a),io(()=>{if(!o)return;const l=r==null?void 0:r.key,c=r==null?void 0:r.props.id;if(l==null||c==null){i(null);return}Promise.resolve(e(c,o)).then(()=>{i(null)})},[e,r,o]),M.createElement(M.Fragment,null,n,r?_.cloneElement(r,{ref:s}):null)}const NSe={x:0,y:0,scaleX:1,scaleY:1};function OSe(t){let{children:e}=t;return M.createElement(jy.Provider,{value:eY},M.createElement(Z_.Provider,{value:NSe},e))}const jSe={position:"fixed",touchAction:"none"},RSe=t=>Q_(t)?"transform 250ms ease":void 0,DSe=_.forwardRef((t,e)=>{let{as:n,activatorEvent:r,adjustScale:i,children:o,className:s,rect:a,style:l,transform:c,transition:u=RSe}=t;if(!a)return null;const d=i?c:{...c,scaleX:1,scaleY:1},h={...jSe,width:a.width,height:a.height,top:a.top,left:a.left,transform:fl.Transform.toString(d),transformOrigin:i&&r?I1e(r,a):void 0,transition:typeof u=="function"?u(r):u,...l};return M.createElement(n,{className:s,style:h,ref:e},o)}),MSe=t=>e=>{let{active:n,dragOverlay:r}=e;const i={},{styles:o,className:s}=t;if(o!=null&&o.active)for(const[a,l]of Object.entries(o.active))l!==void 0&&(i[a]=n.node.style.getPropertyValue(a),n.node.style.setProperty(a,l));if(o!=null&&o.dragOverlay)for(const[a,l]of Object.entries(o.dragOverlay))l!==void 0&&r.node.style.setProperty(a,l);return s!=null&&s.active&&n.node.classList.add(s.active),s!=null&&s.dragOverlay&&r.node.classList.add(s.dragOverlay),function(){for(const[l,c]of Object.entries(i))n.node.style.setProperty(l,c);s!=null&&s.active&&n.node.classList.remove(s.active)}},$Se=t=>{let{transform:{initial:e,final:n}}=t;return[{transform:fl.Transform.toString(e)},{transform:fl.Transform.toString(n)}]},LSe={duration:250,easing:"ease",keyframes:$Se,sideEffects:MSe({styles:{active:{opacity:"0"}}})};function VSe(t){let{config:e,draggableNodes:n,droppableContainers:r,measuringConfiguration:i}=t;return X_((o,s)=>{if(e===null)return;const a=n.get(o);if(!a)return;const l=a.node.current;if(!l)return;const c=ZK(s);if(!c)return;const{transform:u}=yr(s).getComputedStyle(s),d=UK(u);if(!d)return;const h=typeof e=="function"?e:FSe(e);return YK(l,i.draggable.measure),h({active:{id:o,data:a.data,node:l,rect:i.draggable.measure(l)},draggableNodes:n,dragOverlay:{node:s,rect:i.dragOverlay.measure(c)},droppableContainers:r,measuringConfiguration:i,transform:d})})}function FSe(t){const{duration:e,easing:n,sideEffects:r,keyframes:i}={...LSe,...t};return o=>{let{active:s,dragOverlay:a,transform:l,...c}=o;if(!e)return;const u={x:a.rect.left-s.rect.left,y:a.rect.top-s.rect.top},d={scaleX:l.scaleX!==1?s.rect.width*l.scaleX/a.rect.width:1,scaleY:l.scaleY!==1?s.rect.height*l.scaleY/a.rect.height:1},h={x:l.x-u.x,y:l.y-u.y,...d},p=i({...c,active:s,dragOverlay:a,transform:{initial:l,final:h}}),[v]=p,m=p[p.length-1];if(JSON.stringify(v)===JSON.stringify(m))return;const y=r==null?void 0:r({active:s,dragOverlay:a,...c}),b=a.node.animate(p,{duration:e,easing:n,fill:"forwards"});return new Promise(x=>{b.onfinish=()=>{y==null||y(),x()}})}}let dV=0;function BSe(t){return _.useMemo(()=>{if(t!=null)return dV++,dV},[t])}const USe=M.memo(t=>{let{adjustScale:e=!1,children:n,dropAnimation:r,style:i,transition:o,modifiers:s,wrapperElement:a="div",className:l,zIndex:c=999}=t;const{activatorEvent:u,active:d,activeNodeRect:h,containerNodeRect:p,draggableNodes:v,droppableContainers:m,dragOverlay:y,over:b,measuringConfiguration:x,scrollableAncestors:w,scrollableAncestorRects:E,windowRect:S}=rY(),P=_.useContext(Z_),T=BSe(d==null?void 0:d.id),A=nY(s,{activatorEvent:u,active:d,activeNodeRect:h,containerNodeRect:p,draggingNodeRect:y.rect,over:b,overlayNodeRect:y.rect,scrollableAncestors:w,scrollableAncestorRects:E,transform:P,windowRect:S}),k=FO(h),O=VSe({config:r,draggableNodes:v,droppableContainers:m,measuringConfiguration:x}),N=k?y.setRef:void 0;return M.createElement(OSe,null,M.createElement(kSe,{animation:O},d&&T?M.createElement(DSe,{key:T,id:d.id,ref:N,as:a,activatorEvent:u,adjustScale:e,className:l,transition:o,rect:k,style:{zIndex:c,...i},transform:A},n):null))});function oY(t,e,n){const r=t.slice();return r.splice(n<0?r.length+n:n,0,r.splice(e,1)[0]),r}function zSe(t,e){return t.reduce((n,r,i)=>{const o=e.get(r);return o&&(n[i]=o),n},Array(t.length))}function Uv(t){return t!==null&&t>=0}function WSe(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function qSe(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const sY=t=>{let{rects:e,activeIndex:n,overIndex:r,index:i}=t;const o=oY(e,r,n),s=e[i],a=o[i];return!a||!s?null:{x:a.left-s.left,y:a.top-s.top,scaleX:a.width/s.width,scaleY:a.height/s.height}},zv={scaleX:1,scaleY:1},GSe=t=>{var e;let{activeIndex:n,activeNodeRect:r,index:i,rects:o,overIndex:s}=t;const a=(e=o[n])!=null?e:r;if(!a)return null;if(i===n){const c=o[s];return c?{x:0,y:n<s?c.top+c.height-(a.top+a.height):c.top-a.top,...zv}:null}const l=HSe(o,i,n);return i>n&&i<=s?{x:0,y:-a.height-l,...zv}:i<n&&i>=s?{x:0,y:a.height+l,...zv}:{x:0,y:0,...zv}};function HSe(t,e,n){const r=t[e],i=t[e-1],o=t[e+1];return r?n<e?i?r.top-(i.top+i.height):o?o.top-(r.top+r.height):0:o?o.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const aY="Sortable",lY=M.createContext({activeIndex:-1,containerId:aY,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:sY,disabled:{draggable:!1,droppable:!1}});function KSe(t){let{children:e,id:n,items:r,strategy:i=sY,disabled:o=!1}=t;const{active:s,dragOverlay:a,droppableRects:l,over:c,measureDroppableContainers:u}=rY(),d=Oy(aY,n),h=a.rect!==null,p=_.useMemo(()=>r.map(P=>typeof P=="object"&&"id"in P?P.id:P),[r]),v=s!=null,m=s?p.indexOf(s.id):-1,y=c?p.indexOf(c.id):-1,b=_.useRef(p),x=!WSe(p,b.current),w=y!==-1&&m===-1||x,E=qSe(o);io(()=>{x&&v&&u(p)},[x,p,v,u]),_.useEffect(()=>{b.current=p},[p]);const S=_.useMemo(()=>({activeIndex:m,containerId:d,disabled:E,disableTransforms:w,items:p,overIndex:y,useDragOverlay:h,sortedRects:zSe(p,l),strategy:i}),[m,d,E.draggable,E.droppable,w,p,y,l,h,i]);return M.createElement(lY.Provider,{value:S},e)}const YSe=t=>{let{id:e,items:n,activeIndex:r,overIndex:i}=t;return oY(n,r,i).indexOf(e)},XSe=t=>{let{containerId:e,isSorting:n,wasDragging:r,index:i,items:o,newIndex:s,previousItems:a,previousContainerId:l,transition:c}=t;return!c||!r||a!==o&&i===s?!1:n?!0:s!==i&&e===l},QSe={duration:200,easing:"ease"},cY="transform",JSe=fl.Transition.toString({property:cY,duration:0,easing:"linear"}),ZSe={roleDescription:"sortable"};function eTe(t){let{disabled:e,index:n,node:r,rect:i}=t;const[o,s]=_.useState(null),a=_.useRef(n);return io(()=>{if(!e&&n!==a.current&&r.current){const l=i.current;if(l){const c=wh(r.current,{ignoreTransform:!0}),u={x:l.left-c.left,y:l.top-c.top,scaleX:l.width/c.width,scaleY:l.height/c.height};(u.x||u.y)&&s(u)}}n!==a.current&&(a.current=n)},[e,n,r,i]),_.useEffect(()=>{o&&s(null)},[o]),o}function tTe(t){let{animateLayoutChanges:e=XSe,attributes:n,disabled:r,data:i,getNewIndex:o=YSe,id:s,strategy:a,resizeObserverConfig:l,transition:c=QSe}=t;const{items:u,containerId:d,activeIndex:h,disabled:p,disableTransforms:v,sortedRects:m,overIndex:y,useDragOverlay:b,strategy:x}=_.useContext(lY),w=nTe(r,p),E=u.indexOf(s),S=_.useMemo(()=>({sortable:{containerId:d,index:E,items:u},...i}),[d,i,E,u]),P=_.useMemo(()=>u.slice(u.indexOf(s)),[u,s]),{rect:T,node:A,isOver:k,setNodeRef:O}=iY({id:s,data:S,disabled:w.droppable,resizeObserverConfig:{updateMeasurementsFor:P,...l}}),{active:N,activatorEvent:C,activeNodeRect:j,attributes:$,setNodeRef:B,listeners:U,isDragging:z,over:V,setActivatorNodeRef:L,transform:Y}=PSe({id:s,data:S,attributes:{...ZSe,...n},disabled:w.draggable}),K=f1e(O,B),F=!!N,te=F&&!v&&Uv(h)&&Uv(y),ie=!b&&z,pe=ie&&te?Y:null,oe=te?pe??(a??x)({rects:m,activeNodeRect:j,activeIndex:h,overIndex:y,index:E}):null,ce=Uv(h)&&Uv(y)?o({id:s,items:u,activeIndex:h,overIndex:y}):E,Q=N==null?void 0:N.id,Z=_.useRef({activeId:Q,items:u,newIndex:ce,containerId:d}),se=u!==Z.current.items,H=e({active:N,containerId:d,isDragging:z,isSorting:F,id:s,index:E,items:u,newIndex:Z.current.newIndex,previousItems:Z.current.items,previousContainerId:Z.current.containerId,transition:c,wasDragging:Z.current.activeId!=null}),Se=eTe({disabled:!H,index:E,node:A,rect:T});return _.useEffect(()=>{F&&Z.current.newIndex!==ce&&(Z.current.newIndex=ce),d!==Z.current.containerId&&(Z.current.containerId=d),u!==Z.current.items&&(Z.current.items=u)},[F,ce,d,u]),_.useEffect(()=>{if(Q===Z.current.activeId)return;if(Q&&!Z.current.activeId){Z.current.activeId=Q;return}const qe=setTimeout(()=>{Z.current.activeId=Q},50);return()=>clearTimeout(qe)},[Q]),{active:N,activeIndex:h,attributes:$,data:S,rect:T,index:E,newIndex:ce,items:u,isOver:k,isSorting:F,isDragging:z,listeners:U,node:A,overIndex:y,over:V,setNodeRef:K,setActivatorNodeRef:L,setDroppableNodeRef:O,setDraggableNodeRef:B,transform:Se??oe,transition:be()};function be(){if(Se||se&&Z.current.newIndex===E)return JSe;if(!(ie&&!Q_(C)||!c)&&(F||H))return fl.Transition.toString({...c,property:cY})}}function nTe(t,e){var n,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t==null?void 0:t.draggable)!=null?n:e.draggable,droppable:(r=t==null?void 0:t.droppable)!=null?r:e.droppable}}Xe.Down,Xe.Right,Xe.Up,Xe.Left;function rTe({open:t,onOpenChange:e,task:n}){const{updateTask:r}=Bt(),[i,o]=_.useState(""),[s,a]=_.useState(""),[l,c]=_.useState("medium"),[u,d]=_.useState("todo"),[h,p]=_.useState(""),[v,m]=_.useState([]),[y,b]=_.useState("");_.useEffect(()=>{var P;n&&(o(n.title),a(n.description||""),c(n.priority),d(n.status),p(((P=n.estimatedTime)==null?void 0:P.toString())||""),m(n.tags))},[n]);const x=P=>{P.preventDefault(),!(!i.trim()||!n)&&(r(n.id,{title:i.trim(),description:s.trim()||void 0,priority:l,status:u,estimatedTime:h?parseInt(h):void 0,tags:v}),e(!1))},w=()=>{y.trim()&&!v.includes(y.trim())&&(m([...v,y.trim()]),b(""))},E=P=>{m(v.filter(T=>T!==P))},S=P=>{P.key==="Enter"&&P.target===P.currentTarget&&(P.preventDefault(),w())};return n?f.jsx(ni,{open:t,onOpenChange:e,children:f.jsxs(Nr,{className:"sm:max-w-[500px]",children:[f.jsx(ki,{children:f.jsxs(Ni,{className:"flex items-center space-x-2",children:[f.jsx(yx,{className:"h-5 w-5 text-blue-600"}),f.jsx("span",{children:"Edit Task"})]})}),f.jsxs("form",{onSubmit:x,className:"space-y-6",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx($e,{htmlFor:"title",children:"Task Title"}),f.jsx(Mt,{id:"title",placeholder:"What needs to be done?",value:i,onChange:P=>o(P.target.value),className:"focus-ring",required:!0})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx($e,{htmlFor:"description",children:"Description (Optional)"}),f.jsx(Ls,{id:"description",placeholder:"Add more details about this task...",value:s,onChange:P=>a(P.target.value),className:"focus-ring min-h-[80px]"})]}),f.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx($e,{children:"Status"}),f.jsxs(rf,{value:u,onValueChange:P=>d(P),children:[f.jsx(Vc,{className:"focus-ring",children:f.jsx(of,{})}),f.jsxs(Fc,{children:[f.jsx(kt,{value:"todo",children:"To Do"}),f.jsx(kt,{value:"in-progress",children:"In Progress"}),f.jsx(kt,{value:"completed",children:"Completed"})]})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx($e,{children:"Priority"}),f.jsxs(rf,{value:l,onValueChange:P=>c(P),children:[f.jsx(Vc,{className:"focus-ring",children:f.jsx(of,{})}),f.jsxs(Fc,{children:[f.jsx(kt,{value:"low",children:"Low"}),f.jsx(kt,{value:"medium",children:"Medium"}),f.jsx(kt,{value:"high",children:"High"}),f.jsx(kt,{value:"urgent",children:"Urgent"})]})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx($e,{htmlFor:"time",children:"Est. Hours"}),f.jsx(Mt,{id:"time",type:"number",placeholder:"2",value:h,onChange:P=>p(P.target.value),className:"focus-ring",min:"0",step:"0.5"})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx($e,{children:"Tags"}),f.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:v.map(P=>f.jsxs(nn,{variant:"secondary",className:"flex items-center space-x-1",children:[f.jsx("span",{children:P}),f.jsx("button",{type:"button",onClick:()=>E(P),className:"ml-1 hover:text-red-500",children:f.jsx(Ss,{className:"h-3 w-3"})})]},P))}),f.jsxs("div",{className:"flex space-x-2",children:[f.jsx(Mt,{placeholder:"Add a tag...",value:y,onChange:P=>b(P.target.value),onKeyPress:S,className:"focus-ring"}),f.jsx(ne,{type:"button",variant:"outline",onClick:w,disabled:!y.trim(),children:f.jsx(hr,{className:"h-4 w-4"})})]})]}),f.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[f.jsx(ne,{type:"button",variant:"outline",onClick:()=>e(!1),children:"Cancel"}),f.jsxs(ne,{type:"submit",disabled:!i.trim(),className:"min-w-[120px]",children:[f.jsx(yx,{className:"h-4 w-4 mr-2"}),"Save Changes"]})]})]})]})}):null}function uY({task:t,onDecomposeTask:e,isDecomposing:n}){const{startFlowSession:r,currentSession:i,deleteTask:o}=Bt(),[s,a]=_.useState(!1),{attributes:l,listeners:c,setNodeRef:u,transform:d,transition:h,isDragging:p}=tTe({id:t.id}),v={transform:fl.Transform.toString(d),transition:h},m=x=>{x.stopPropagation();const w=["github.com","stackoverflow.com","developer.mozilla.org","react.dev","localhost","127.0.0.1"];r(t.id,w)},y=x=>{x.stopPropagation(),e(t.id)},b=(i==null?void 0:i.taskId)===t.id;return f.jsxs(Ve.div,{ref:u,style:v,...l,...c,whileHover:{scale:1.02},whileTap:{scale:.98},className:_e("cursor-grab active:cursor-grabbing",p&&"opacity-50 rotate-3 scale-105"),children:[f.jsx(ut,{className:_e("group hover:shadow-lg transition-all duration-200 border-l-4",t.priority==="urgent"&&"border-l-red-500",t.priority==="high"&&"border-l-orange-500",t.priority==="medium"&&"border-l-blue-500",t.priority==="low"&&"border-l-gray-400",b&&"ring-2 ring-green-500 ring-offset-2 bg-green-50/50",t.isAiGenerated&&"bg-gradient-to-br from-purple-50/50 to-blue-50/50"),children:f.jsxs(pt,{className:"p-4",children:[f.jsxs("div",{className:"flex items-start justify-between mb-3",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("h4",{className:"font-medium text-sm leading-tight mb-1 group-hover:text-primary transition-colors",children:t.title}),t.description&&f.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:t.description})]}),f.jsxs(TW,{children:[f.jsx(EW,{asChild:!0,children:f.jsx(ne,{variant:"ghost",size:"icon",className:"h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity",onClick:x=>x.stopPropagation(),children:f.jsx(NU,{className:"h-3 w-3"})})}),f.jsxs(iN,{align:"end",className:"w-48",children:[f.jsxs(ns,{onClick:x=>{x.stopPropagation(),a(!0)},children:[f.jsx(OU,{className:"h-4 w-4 mr-2"}),"Edit Task"]}),f.jsx(Dx,{}),f.jsxs(ns,{onClick:x=>{x.stopPropagation(),confirm(`Delete "${t.title}"?`)&&o(t.id)},className:"text-red-600 focus:text-red-600 focus:bg-red-50",children:[f.jsx(Id,{className:"h-4 w-4 mr-2"}),"Delete Task"]})]})]})]}),t.tags.length>0&&f.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[t.tags.slice(0,3).map(x=>f.jsxs(nn,{variant:"secondary",className:_e("text-xs px-2 py-0.5",x==="ai-generated"&&"bg-purple-100 text-purple-700 border-purple-200"),children:[x==="ai-generated"&&f.jsx(Vm,{className:"w-2.5 h-2.5 mr-1"}),x]},x)),t.tags.length>3&&f.jsxs(nn,{variant:"secondary",className:"text-xs px-2 py-0.5",children:["+",t.tags.length-3]})]}),f.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground mb-3",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[t.estimatedTime&&f.jsxs("div",{className:"flex items-center space-x-1",children:[f.jsx(Hr,{className:"h-3 w-3"}),f.jsxs("span",{children:[t.estimatedTime,"h"]})]}),t.dueDate&&f.jsxs("div",{className:"flex items-center space-x-1",children:[f.jsx(el,{className:"h-3 w-3"}),f.jsx("span",{children:$ie(t.dueDate)})]})]}),f.jsx(nn,{variant:"outline",className:_e("text-xs",BU(t.priority)),children:t.priority})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center space-x-1",children:[f.jsxs(ne,{variant:"ghost",size:"sm",onClick:y,disabled:n||t.subtasks.length>0,className:"h-7 px-2 text-xs opacity-0 group-hover:opacity-100 transition-opacity",children:[n?f.jsx(Ve.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:f.jsx(Cr,{className:"h-3 w-3"})}):f.jsx(Cr,{className:"h-3 w-3"}),f.jsx("span",{className:"ml-1",children:t.subtasks.length>0?"Decomposed":"AI Decompose"})]}),t.status!=="completed"&&f.jsx(ne,{variant:"ghost",size:"sm",onClick:m,disabled:!!i&&!b,className:_e("h-7 px-2 text-xs opacity-0 group-hover:opacity-100 transition-opacity",b&&"opacity-100 text-green-600 bg-green-50"),children:b?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse mr-1"}),f.jsx("span",{children:"Active"})]}):f.jsxs(f.Fragment,{children:[f.jsx(Uw,{className:"h-3 w-3"}),f.jsx("span",{className:"ml-1",children:"Flow"})]})})]}),t.subtasks.length>0&&f.jsxs("div",{className:"flex items-center space-x-1 text-xs text-muted-foreground",children:[f.jsx(DU,{className:"h-3 w-3"}),f.jsxs("span",{children:[t.subtasks.length," subtasks"]})]})]}),t.isAiGenerated&&f.jsx("div",{className:"mt-2 pt-2 border-t border-purple-200",children:f.jsxs("div",{className:"flex items-center space-x-1 text-xs text-purple-600",children:[f.jsx(Vm,{className:"h-3 w-3"}),f.jsx("span",{children:"AI Generated"})]})})]})}),f.jsx(rTe,{open:s,onOpenChange:a,task:t})]})}function iTe({column:t,tasks:e,onDecomposeTask:n,decomposingTaskId:r,onAddTask:i}){const{setNodeRef:o,isOver:s}=iY({id:t.id});return f.jsxs("div",{className:"flex flex-col h-full",children:[f.jsxs("div",{className:_e("flex items-center justify-between p-4 rounded-t-xl border-2 border-b-0",t.color,s&&"ring-2 ring-primary ring-offset-2"),children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("h3",{className:_e("font-semibold",t.headerColor),children:t.title}),f.jsx("span",{className:_e("px-2 py-1 rounded-full text-xs font-medium",t.headerColor,"bg-white/50"),children:t.count})]}),f.jsx(ne,{variant:"ghost",size:"icon",className:"h-6 w-6 opacity-60 hover:opacity-100",onClick:()=>i(t.id),title:`Add task to ${t.title}`,children:f.jsx(hr,{className:"h-3 w-3"})})]}),f.jsx("div",{ref:o,className:_e("flex-1 min-h-0 border-2 border-t-0 rounded-b-xl transition-all duration-200 flex flex-col",t.color,s&&"ring-2 ring-primary ring-offset-2 bg-primary/5"),children:f.jsx("div",{className:"flex-1 overflow-y-auto p-4 pt-0",children:f.jsx(KSe,{items:e.map(a=>a.id),strategy:GSe,children:e.length>0?f.jsx("div",{className:"space-y-3 pt-4",children:e.map((a,l)=>f.jsx(Ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:l*.1},children:f.jsx(uY,{task:a,onDecomposeTask:n,isDecomposing:r===a.id})},a.id))}):f.jsx("div",{className:"flex items-center justify-center h-32 text-muted-foreground pt-4",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-8 h-8 rounded-full bg-muted/50 flex items-center justify-center mx-auto mb-2",children:f.jsx(hr,{className:"h-4 w-4"})}),f.jsx("p",{className:"text-sm",children:"Drop tasks here"})]})})})})})]})}function oTe({open:t,onOpenChange:e,defaultStatus:n="todo"}){const{createTask:r,activeProject:i,decomposeTask:o}=Bt(),[s,a]=_.useState(""),[l,c]=_.useState(""),[u,d]=_.useState("medium"),[h,p]=_.useState(""),[v,m]=_.useState([]),[y,b]=_.useState(""),[x,w]=_.useState(!1),[E,S]=_.useState(!1),P=async O=>{if(O.preventDefault(),!(!s.trim()||!i)){S(!0);try{const N={title:s.trim(),description:l.trim()||void 0,status:n,priority:u,projectId:i,estimatedTime:h?parseInt(h):void 0,tags:v};r(N),x&&setTimeout(()=>{const C=Bt.getState().tasks,j=C[C.length-1];j&&o(j.id)},100),a(""),c(""),d("medium"),p(""),m([]),b(""),w(!1),e(!1)}finally{S(!1)}}},T=()=>{y.trim()&&!v.includes(y.trim())&&(m([...v,y.trim()]),b(""))},A=O=>{m(v.filter(N=>N!==O))},k=O=>{O.key==="Enter"&&O.target===O.currentTarget&&(O.preventDefault(),T())};return f.jsx(ni,{open:t,onOpenChange:e,children:f.jsxs(Nr,{className:"sm:max-w-[500px]",children:[f.jsx(ki,{children:f.jsxs(Ni,{className:"flex items-center space-x-2",children:[f.jsx(Vm,{className:"h-5 w-5 text-purple-600"}),f.jsx("span",{children:"Create New Task"})]})}),f.jsxs("form",{onSubmit:P,className:"space-y-6",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx($e,{htmlFor:"title",children:"Task Title"}),f.jsx(Mt,{id:"title",placeholder:"What needs to be done?",value:s,onChange:O=>a(O.target.value),className:"focus-ring",required:!0})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx($e,{htmlFor:"description",children:"Description (Optional)"}),f.jsx(Ls,{id:"description",placeholder:"Add more details about this task...",value:l,onChange:O=>c(O.target.value),className:"focus-ring min-h-[80px]"})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx($e,{children:"Priority"}),f.jsxs(rf,{value:u,onValueChange:O=>d(O),children:[f.jsx(Vc,{className:"focus-ring",children:f.jsx(of,{})}),f.jsxs(Fc,{children:[f.jsx(kt,{value:"low",children:"Low"}),f.jsx(kt,{value:"medium",children:"Medium"}),f.jsx(kt,{value:"high",children:"High"}),f.jsx(kt,{value:"urgent",children:"Urgent"})]})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx($e,{htmlFor:"time",children:"Estimated Hours"}),f.jsx(Mt,{id:"time",type:"number",placeholder:"2",value:h,onChange:O=>p(O.target.value),className:"focus-ring",min:"0",step:"0.5"})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx($e,{children:"Tags"}),f.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:v.map(O=>f.jsxs(nn,{variant:"secondary",className:"flex items-center space-x-1",children:[f.jsx("span",{children:O}),f.jsx("button",{type:"button",onClick:()=>A(O),className:"ml-1 hover:text-red-500",children:f.jsx(Ss,{className:"h-3 w-3"})})]},O))}),f.jsxs("div",{className:"flex space-x-2",children:[f.jsx(Mt,{placeholder:"Add a tag...",value:y,onChange:O=>b(O.target.value),onKeyPress:k,className:"focus-ring"}),f.jsx(ne,{type:"button",variant:"outline",onClick:T,disabled:!y.trim(),children:f.jsx(hr,{className:"h-4 w-4"})})]})]}),f.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gradient-to-r from-purple-50 to-blue-50 dark:from-purple-900/20 dark:to-blue-900/20 rounded-lg border border-purple-200 dark:border-purple-800",children:[f.jsx("input",{type:"checkbox",id:"autoDecompose",checked:x,onChange:O=>w(O.target.checked),className:"rounded border-purple-300 text-purple-600 focus:ring-purple-500"}),f.jsxs("div",{className:"flex-1",children:[f.jsxs($e,{htmlFor:"autoDecompose",className:"flex items-center space-x-2 cursor-pointer",children:[f.jsx(Cr,{className:"h-4 w-4 text-purple-600"}),f.jsx("span",{className:"font-medium text-purple-900 dark:text-purple-100",children:"AI Decompose"})]}),f.jsx("p",{className:"text-xs text-purple-700 dark:text-purple-300 mt-1",children:"Automatically break this task into smaller, actionable steps using AI"})]})]}),f.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[f.jsx(ne,{type:"button",variant:"outline",onClick:()=>e(!1),disabled:E,children:"Cancel"}),f.jsx(ne,{type:"submit",variant:"gradient",disabled:!s.trim()||E,className:"min-w-[120px]",children:E?f.jsxs(Ve.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"flex items-center space-x-2",children:[f.jsx(Cr,{className:"h-4 w-4"}),f.jsx("span",{children:"Creating..."})]}):f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(hr,{className:"h-4 w-4"}),f.jsx("span",{children:"Create Task"})]})})]})]})]})})}const sTe=[{id:"todo",title:"To Do",color:"bg-slate-100 dark:bg-slate-800 border-slate-300 dark:border-slate-600",headerColor:"text-slate-700 dark:text-slate-300",count:0},{id:"in-progress",title:"In Progress",color:"bg-blue-100 dark:bg-blue-900/30 border-blue-300 dark:border-blue-600",headerColor:"text-blue-700 dark:text-blue-300",count:0},{id:"completed",title:"Completed",color:"bg-green-100 dark:bg-green-900/30 border-green-300 dark:border-green-600",headerColor:"text-green-700 dark:text-green-300",count:0}];function fV(){const{tasks:t,updateTask:e,activeProject:n,decomposeTask:r}=Bt(),[i,o]=_.useState(null),[s,a]=_.useState(!1),[l,c]=_.useState(null),[u,d]=_.useState("todo"),h=P1e(A1e(VO,{activationConstraint:{distance:8}})),p=t.filter(w=>w.projectId===n),v={todo:p.filter(w=>w.status==="todo"),"in-progress":p.filter(w=>w.status==="in-progress"),completed:p.filter(w=>w.status==="completed")},m=sTe.map(w=>{var E;return{...w,count:((E=v[w.id])==null?void 0:E.length)||0}}),y=w=>{const E=p.find(S=>S.id===w.active.id);o(E||null)},b=w=>{const{active:E,over:S}=w;if(!S)return;const P=E.id,T=S.id;T!=="todo"&&T!=="in-progress"&&T!=="completed"||(e(P,{status:T}),o(null))},x=async w=>{c(w);try{await r(w)}finally{c(null)}};return f.jsxs("div",{className:"h-full flex flex-col",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-4 md:mb-6 gap-3",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Kanban Board"}),f.jsx("p",{className:"text-xs md:text-sm text-muted-foreground mt-1 hidden sm:block",children:"Drag and drop tasks to update their status"})]}),f.jsxs("div",{className:"flex items-center space-x-2 md:space-x-3 w-full sm:w-auto",children:[f.jsxs(ne,{variant:"outline",onClick:()=>a(!0),className:"flex items-center space-x-2 flex-1 sm:flex-none",size:"sm",children:[f.jsx(hr,{className:"h-4 w-4"}),f.jsx("span",{className:"hidden sm:inline",children:"Add Task"}),f.jsx("span",{className:"sm:hidden",children:"Add"})]}),f.jsxs(ne,{variant:"gradient",onClick:()=>a(!0),className:"flex items-center space-x-2 flex-1 sm:flex-none",size:"sm",children:[f.jsx(Vm,{className:"h-4 w-4"}),f.jsx("span",{className:"hidden sm:inline",children:"Quick Add"}),f.jsx("span",{className:"sm:hidden",children:"Quick"})]})]})]}),p.length===0?f.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:f.jsxs(Ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center max-w-md",children:[f.jsx("div",{className:"w-12 h-12 md:w-16 md:h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-3 md:mb-4",children:f.jsx(Cr,{className:"w-6 h-6 md:w-8 md:h-8 text-white"})}),f.jsx("h3",{className:"text-base md:text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"Ready to get productive?"}),f.jsx("p",{className:"text-sm text-muted-foreground mb-4 md:mb-6",children:"Create your first task and let AI help you break it down into manageable steps."}),f.jsxs(ne,{onClick:()=>a(!0),variant:"gradient",className:"flex items-center space-x-2 mx-auto",size:"sm",children:[f.jsx(hr,{className:"h-4 w-4"}),f.jsx("span",{children:"Create Your First Task"})]})]})}):f.jsx("div",{className:"flex-1 min-h-0 overflow-auto",children:f.jsxs(TSe,{sensors:h,onDragStart:y,onDragEnd:b,children:[f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6 min-h-full pb-4",children:m.map(w=>f.jsx(iTe,{column:w,tasks:v[w.id],onDecomposeTask:x,decomposingTaskId:l,onAddTask:E=>{d(E),a(!0)}},w.id))}),f.jsx(USe,{children:i?f.jsx("div",{className:"rotate-3 opacity-90",children:f.jsx(uY,{task:i,onDecomposeTask:x,isDecomposing:!1})}):null})]})}),f.jsx(oTe,{open:s,onOpenChange:a,defaultStatus:u})]})}function aTe(){const{tasks:t,activeProject:e,updateTask:n,startFlowSession:r,decomposeTask:i}=Bt(),[o,s]=_.useState(""),l=t.filter(h=>h.projectId===e).filter(h=>h.title.toLowerCase().includes(o.toLowerCase())),c=h=>{switch(h){case"completed":return f.jsx(ik,{className:"h-4 w-4 text-green-600"});case"in-progress":return f.jsx(uu,{className:"h-4 w-4 text-blue-600"});default:return f.jsx(lk,{className:"h-4 w-4 text-gray-400"})}},u=h=>{switch(h){case"urgent":return"bg-red-100 text-red-800 border-red-200";case"high":return"bg-orange-100 text-orange-800 border-orange-200";case"medium":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},d=h=>{const p=t.find(m=>m.id===h);if(!p)return;const v=p.status==="todo"?"in-progress":p.status==="in-progress"?"completed":"todo";n(h,{status:v})};return f.jsxs("div",{className:"h-full flex flex-col space-y-6",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold",children:"Task List"}),f.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[l.length," tasks"]})]}),f.jsxs("div",{className:"relative",children:[f.jsx(Qd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),f.jsx(Mt,{placeholder:"Search tasks...",value:o,onChange:h=>s(h.target.value),className:"pl-10"})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto space-y-3",children:[l.map(h=>f.jsx(ut,{className:"hover:shadow-md transition-shadow",children:f.jsx(pt,{className:"p-4",children:f.jsxs("div",{className:"flex items-start space-x-4",children:[f.jsx("button",{onClick:()=>d(h.id),className:"mt-1 hover:scale-110 transition-transform",children:c(h.status)}),f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-start justify-between mb-2",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("h3",{className:`font-medium ${h.status==="completed"?"line-through text-muted-foreground":""}`,children:h.title}),h.description&&f.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:h.description})]}),f.jsx(nn,{className:u(h.priority),children:h.priority})]}),h.tags.length>0&&f.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:h.tags.map(p=>f.jsx(nn,{variant:"secondary",className:"text-xs",children:p},p))}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsxs(ne,{variant:"ghost",size:"sm",onClick:()=>i(h.id),disabled:h.subtasks.length>0,children:[f.jsx(Cr,{className:"h-4 w-4 mr-1"}),h.subtasks.length>0?"Decomposed":"AI Decompose"]}),h.status!=="completed"&&f.jsxs(ne,{variant:"ghost",size:"sm",onClick:()=>r(h.id,["github.com","localhost"]),children:[f.jsx(Uw,{className:"h-4 w-4 mr-1"}),"Start Flow"]}),f.jsxs("div",{className:"flex items-center text-xs text-muted-foreground ml-auto",children:[f.jsx(Hr,{className:"h-3 w-3 mr-1"}),h.estimatedTime||1,"h"]})]})]})]})})},h.id)),l.length===0&&f.jsx("div",{className:"flex items-center justify-center h-64",children:f.jsxs("div",{className:"text-center",children:[f.jsx(Qd,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),f.jsx("h3",{className:"text-lg font-medium mb-2",children:"No tasks found"}),f.jsx("p",{className:"text-muted-foreground",children:o?"Try a different search term":"Create your first task to get started"})]})})]})]})}function lTe({open:t,onOpenChange:e,linkedTaskId:n}){const{createTask:r,activeProject:i}=Bt(),[o,s]=_.useState(""),[a,l]=_.useState(""),[c,u]=_.useState("medium"),d=()=>{!o.trim()||!i||(r({title:o.trim(),description:a.trim(),status:"todo",priority:c,projectId:i,tags:n?["linked"]:[]}),s(""),l(""),u("medium"),e(!1))},h=p=>{p.key==="Enter"&&(p.metaKey||p.ctrlKey)&&d()};return f.jsx(ni,{open:t,onOpenChange:e,children:f.jsxs(Nr,{className:"sm:max-w-[500px] bg-white dark:bg-slate-900",children:[f.jsxs(ki,{children:[f.jsxs(Ni,{className:"flex items-center space-x-2",children:[f.jsx(hr,{className:"h-5 w-5 text-blue-600"}),f.jsx("span",{children:"Create New Task"})]}),f.jsx(hu,{children:n?"Create a linked task in the graph view.":"Add a new task to your project."})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx($e,{htmlFor:"task-title",children:"Task Title"}),f.jsx(Mt,{id:"task-title",value:o,onChange:p=>s(p.target.value),onKeyPress:h,placeholder:"Enter task title...",autoFocus:!0})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx($e,{htmlFor:"task-description",children:"Description (Optional)"}),f.jsx(Ls,{id:"task-description",value:a,onChange:p=>l(p.target.value),placeholder:"Add task description...",rows:3})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx($e,{children:"Priority"}),f.jsx("div",{className:"flex space-x-2",children:["low","medium","high","urgent"].map(p=>f.jsx(ne,{variant:c===p?"default":"outline",size:"sm",onClick:()=>u(p),className:`capitalize ${c===p?p==="urgent"?"bg-red-600 hover:bg-red-700":p==="high"?"bg-orange-600 hover:bg-orange-700":p==="medium"?"bg-blue-600 hover:bg-blue-700":"bg-gray-600 hover:bg-gray-700":""}`,children:p},p))})]})]}),f.jsxs(sy,{children:[f.jsx(ne,{variant:"outline",onClick:()=>e(!1),children:"Cancel"}),f.jsxs(ne,{onClick:d,disabled:!o.trim(),className:"bg-blue-600 hover:bg-blue-700",children:[f.jsx(hr,{className:"h-4 w-4 mr-2"}),"Create Task"]})]})]})})}function cTe(){var Y,K;const{tasks:t,activeProject:e,decomposeTask:n,startFlowSession:r,deleteTask:i}=Bt(),o=_.useRef(null),s=_.useRef(null),[a,l]=_.useState([]),[c,u]=_.useState([]),[d,h]=_.useState(null),[p,v]=_.useState(!1),[m,y]=_.useState(null),[b,x]=_.useState(1),[w,E]=_.useState({x:0,y:0}),[S,P]=_.useState(!1),[T,A]=_.useState(null),[k,O]=_.useState(!1),N=t.filter(F=>F.projectId===e);_.useEffect(()=>{if(N.length===0)return;const F=400,te=300,ie=Math.max(300,N.length*25),pe=N.map((ue,oe)=>{const ce=oe/N.length*2*Math.PI,Q=F+Math.cos(ce)*ie,Z=te+Math.sin(ce)*ie;return{id:ue.id,task:ue,x:Q,y:Z,connections:[]}});l(pe)},[N]);const C=F=>{switch(F.status){case"completed":return"bg-green-100 border-green-400 text-green-800";case"in-progress":return"bg-blue-100 border-blue-400 text-blue-800";default:return"bg-gray-100 border-gray-400 text-gray-800"}},j=F=>{switch(F){case"urgent":return"#ef4444";case"high":return"#f97316";case"medium":return"#3b82f6";default:return"#6b7280"}},$=F=>{k||(p?m?(m===F||(u(te=>[...te,{from:m,to:F,type:"dependency"}]),v(!1)),y(null)):y(F):h(d===F?null:F))},B=(F,te,ie)=>{console.log("Dragging node:",F,"delta:",te,ie),O(!0),l(pe=>pe.map(ue=>ue.id===F?{...ue,x:ue.x+te/b,y:ue.y+ie/b}:ue))},U=()=>{setTimeout(()=>{O(!1)},100)},z=(F,te)=>{u(ie=>ie.filter(pe=>!(pe.from===F&&pe.to===te)))},V=F=>{switch(F){case"completed":return f.jsx(ik,{className:"h-4 w-4"});case"in-progress":return f.jsx(uu,{className:"h-4 w-4"});default:return f.jsx(lk,{className:"h-4 w-4"})}},L=d?(Y=a.find(F=>F.id===d))==null?void 0:Y.task:null;return f.jsxs("div",{className:"h-full flex",children:[f.jsxs("div",{className:"flex-1 relative overflow-hidden bg-slate-950 flex items-center justify-center",style:{backgroundImage:`
            radial-gradient(circle at 25px 25px, rgba(100,116,139,0.1) 1px, transparent 0),
            radial-gradient(circle at 75px 75px, rgba(100,116,139,0.05) 1px, transparent 0)
          `,backgroundSize:"50px 50px"},onWheel:F=>{F.preventDefault();const te=F.deltaY>0?-.1:.1;x(ie=>Math.max(.5,Math.min(2,ie+te)))},onMouseDown:F=>{if(F.button===0&&!F.target.closest(".task-node")){F.preventDefault();const te=F.clientX,ie=F.clientY,pe=w.x,ue=w.y,oe=Q=>{const Z=(Q.clientX-te)/b,se=(Q.clientY-ie)/b;E({x:pe+Z,y:ue+se})},ce=()=>{document.removeEventListener("mousemove",oe),document.removeEventListener("mouseup",ce)};document.addEventListener("mousemove",oe),document.addEventListener("mouseup",ce)}},children:[f.jsxs("div",{className:"absolute top-4 left-4 z-10 flex space-x-2",children:[f.jsxs(ne,{className:"bg-blue-600 hover:bg-blue-700 text-white",size:"sm",onClick:()=>{A(null),P(!0)},children:[f.jsx(hr,{className:"h-4 w-4 mr-1"}),"Add Task"]}),f.jsxs(ne,{className:p?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-700 hover:bg-gray-600 text-white border-gray-600",size:"sm",onClick:()=>{v(!p),y(null),h(null)},children:[f.jsx(Kre,{className:"h-4 w-4 mr-1"}),p?"Cancel Link":"Link Tasks"]}),f.jsx(ne,{className:"bg-gray-700 hover:bg-gray-600 text-white border-gray-600",size:"sm",onClick:()=>x(F=>Math.min(F+.2,2)),children:f.jsx(rie,{className:"h-4 w-4"})}),f.jsx(ne,{className:"bg-gray-700 hover:bg-gray-600 text-white border-gray-600",size:"sm",onClick:()=>x(F=>Math.max(F-.2,.5)),children:f.jsx(iie,{className:"h-4 w-4"})}),f.jsx(ne,{className:"bg-gray-700 hover:bg-gray-600 text-white border-gray-600",size:"sm",onClick:()=>{if(a.length===0)return;const F=Math.min(...a.map(Se=>Se.x))-100,te=Math.max(...a.map(Se=>Se.x))+100,ie=Math.min(...a.map(Se=>Se.y))-100,pe=Math.max(...a.map(Se=>Se.y))+100,ue=te-F,oe=pe-ie,ce=(F+te)/2,Q=(ie+pe)/2,Z=window.innerWidth*.8/ue,se=window.innerHeight*.8/oe,H=Math.min(Z,se,1.5);x(H),E({x:-ce+400,y:-Q+300})},title:"Fit to View",children:f.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})})})]}),f.jsx("div",{className:"absolute top-4 right-4 z-10",children:f.jsx(ut,{className:"p-4 bg-black/80 text-white border-gray-700",children:f.jsxs("div",{className:"space-y-3 text-xs",children:[f.jsx("div",{className:"font-semibold mb-3 text-gray-200",children:"Node Legend"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("div",{className:"text-gray-300 font-medium",children:"Status:"}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("div",{className:"w-4 h-4 bg-gray-400 rounded-full"}),f.jsx("span",{children:"To Do"})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded-full"}),f.jsx("span",{children:"In Progress"})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("div",{className:"w-4 h-4 bg-green-500 rounded-full"}),f.jsx("span",{children:"Completed"})]})]}),f.jsxs("div",{className:"space-y-2 pt-2 border-t border-gray-700",children:[f.jsx("div",{className:"text-gray-300 font-medium",children:"Priority:"}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),f.jsx("span",{children:"Urgent"})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),f.jsx("span",{children:"High"})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),f.jsx("span",{children:"Medium"})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full"}),f.jsx("span",{children:"Low"})]})]}),f.jsxs("div",{className:"space-y-2 pt-2 border-t border-gray-700",children:[f.jsx("div",{className:"text-gray-300 font-medium",children:"Actions:"}),f.jsx("div",{className:"text-xs text-gray-400",children:"  Click connections to delete"}),f.jsx("div",{className:"text-xs text-gray-400",children:"  Drag nodes to reposition"}),f.jsx("div",{className:"text-xs text-gray-400",children:"  Use Link Mode to connect tasks"}),f.jsx("div",{className:"text-xs text-gray-400",children:"  Click nodes to select/link"})]})]})})}),f.jsxs("div",{ref:s,className:"w-full h-full relative",style:{transform:`scale(${b}) translate(${w.x}px, ${w.y}px)`,transformOrigin:"center center"},children:[f.jsxs("svg",{ref:o,className:"absolute inset-0 pointer-events-none",style:{width:"100%",height:"100%",overflow:"visible"},children:[f.jsxs("defs",{children:[f.jsx("marker",{id:"arrowhead",markerWidth:"12",markerHeight:"12",refX:"10",refY:"4",orient:"auto",markerUnits:"strokeWidth",children:f.jsx("polygon",{points:"0 0, 12 4, 0 8",fill:"#4f46e5"})}),f.jsxs("filter",{id:"glow",children:[f.jsx("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),f.jsxs("feMerge",{children:[f.jsx("feMergeNode",{in:"coloredBlur"}),f.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),c.map((F,te)=>{const ie=a.find(be=>be.id===F.from),pe=a.find(be=>be.id===F.to);if(!ie||!pe)return null;const ue=pe.x-ie.x,oe=pe.y-ie.y,ce=Math.sqrt(ue*ue+oe*oe);if(ce===0)return null;const Q=48,Z=ie.x+ue/ce*Q,se=ie.y+oe/ce*Q,H=pe.x-ue/ce*(Q+8),Se=pe.y-ue/ce*(Q+8);return f.jsxs("g",{className:"group cursor-pointer",onClick:be=>{be.stopPropagation(),console.log("Removing connection:",F.from,"->",F.to),z(F.from,F.to)},children:[f.jsx("line",{x1:Z,y1:se,x2:H,y2:Se,stroke:"#4f46e5",strokeWidth:"6",opacity:"0.3",filter:"url(#glow)",className:"pointer-events-none"}),f.jsx("line",{x1:Z,y1:se,x2:H,y2:Se,stroke:"transparent",strokeWidth:"15",className:"pointer-events-auto"}),f.jsx("line",{x1:Z,y1:se,x2:H,y2:Se,stroke:"#4f46e5",strokeWidth:"3",markerEnd:"url(#arrowhead)",className:"pointer-events-none transition-all duration-200 group-hover:stroke-red-400",opacity:"0.9"}),f.jsx("text",{x:(Z+H)/2,y:(se+Se)/2-10,fill:"red",fontSize:"12",textAnchor:"middle",className:"pointer-events-none opacity-0 group-hover:opacity-100 transition-opacity duration-200 font-bold",children:" Click to delete"}),f.jsx("circle",{cx:Z,cy:se,r:"3",fill:"#00ff00",opacity:"0.8"}),f.jsx("circle",{cx:H,cy:Se,r:"3",fill:"#ff0000",opacity:"0.8"})]},`${F.from}-${F.to}-${te}`)}),a.map(F=>f.jsxs("g",{children:[f.jsx("circle",{cx:F.x,cy:F.y,r:"50",fill:"none",stroke:"yellow",strokeWidth:"1",opacity:"0.3",className:"pointer-events-none"}),f.jsx("circle",{cx:F.x,cy:F.y,r:"48",fill:"none",stroke:"orange",strokeWidth:"2",opacity:"0.7",className:"pointer-events-none"})]},`debug-${F.id}`))]}),a.map(F=>f.jsxs(Ve.div,{className:"absolute task-node",style:{left:F.x-100/2,top:F.y-100/2,width:100,height:100,zIndex:d===F.id?100:1},drag:!0,dragMomentum:!1,dragElastic:0,dragConstraints:!1,onDragStart:()=>O(!0),onDrag:(ie,pe)=>{B(F.id,pe.delta.x,pe.delta.y)},onDragEnd:U,whileDrag:{scale:1.05,zIndex:1e3},children:[f.jsx("div",{className:`
                    w-full h-full rounded-full transition-all duration-200 
                    flex items-center justify-center text-center p-3
                    shadow-lg border-2
                    ${k?"cursor-grabbing":"cursor-grab hover:cursor-grab"}
                    ${F.task.status==="completed"?"bg-green-500 text-white border-green-400":""}
                    ${F.task.status==="in-progress"?"bg-blue-500 text-white border-blue-400":""}
                    ${F.task.status==="todo"?"bg-gray-700 text-gray-100 border-gray-600":""}
                    ${d===F.id?"ring-4 ring-blue-400":""}
                    ${p&&m===F.id?"ring-4 ring-green-400":""}
                  `,style:{borderLeftColor:j(F.task.priority),borderLeftWidth:"4px",filter:k?"brightness(1.1)":"none"},onClick:()=>$(F.id),children:f.jsx("span",{className:"text-xs font-medium leading-tight line-clamp-4 break-words",children:F.task.title})}),f.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 rounded-full border-2 border-white shadow-sm",style:{backgroundColor:j(F.task.priority)}}),f.jsx("div",{className:"absolute -bottom-1 -left-1 bg-white rounded-full p-1 shadow-sm",children:V(F.task.status)}),d===F.id&&F.task.description&&f.jsx(Ve.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"absolute top-full mt-2 left-1/2 transform -translate-x-1/2 z-50",children:f.jsxs("div",{className:"bg-black text-white text-xs rounded-lg px-3 py-2 max-w-xs shadow-xl",children:[f.jsx("div",{className:"font-medium mb-1",children:F.task.title}),f.jsx("div",{className:"text-gray-300",children:F.task.description}),F.task.tags.length>0&&f.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:F.task.tags.map(ie=>f.jsx("span",{className:"bg-gray-700 px-1 py-0.5 rounded text-[10px]",children:ie},ie))}),f.jsx("div",{className:"absolute -top-1 left-1/2 transform -translate-x-1/2 w-2 h-2 bg-black rotate-45"})]})})]},F.id))]}),p&&f.jsx(Ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 z-10",children:f.jsxs(ut,{className:"p-4 bg-gradient-to-r from-green-50 to-blue-50 dark:from-green-900/20 dark:to-blue-900/20 border-green-200 dark:border-green-800 shadow-lg",children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),f.jsx("p",{className:"text-sm text-green-800 dark:text-green-200 font-medium",children:m?" Source selected! Click another task to link them":" Linking Mode Active: Click a task to start"})]}),m&&f.jsxs("p",{className:"text-xs text-green-600 dark:text-green-300 mt-1",children:["Source: ",(K=a.find(F=>F.id===m))==null?void 0:K.task.title]})]})})]}),f.jsx(Px,{children:L&&f.jsx(Ve.div,{initial:{x:300,opacity:0},animate:{x:0,opacity:1},exit:{x:300,opacity:0},className:"w-80 bg-slate-900 border-l border-slate-700 p-6 overflow-y-auto",children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h3",{className:"text-lg font-semibold",children:"Task Details"}),f.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>h(null),children:""})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium mb-2",children:L.title}),L.description&&f.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:L.description}),f.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[f.jsx(nn,{className:C(L),children:L.status}),f.jsx(nn,{style:{backgroundColor:j(L.priority)+"20",color:j(L.priority),borderColor:j(L.priority)+"40"},children:L.priority})]}),L.tags.length>0&&f.jsx("div",{className:"flex flex-wrap gap-1 mb-4",children:L.tags.map(F=>f.jsx(nn,{variant:"secondary",className:"text-xs",children:F},F))})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs(ne,{variant:"outline",size:"sm",className:"w-full",onClick:()=>n(L.id),disabled:L.subtasks.length>0,children:[f.jsx(Cr,{className:"h-4 w-4 mr-2"}),L.subtasks.length>0?"Already Decomposed":"AI Decompose"]}),L.status!=="completed"&&f.jsxs(ne,{variant:"outline",size:"sm",className:"w-full",onClick:()=>r(L.id,["github.com","localhost"]),children:[f.jsx(Uw,{className:"h-4 w-4 mr-2"}),"Start Flow Session"]}),f.jsxs(ne,{variant:"outline",size:"sm",className:"w-full",onClick:()=>{A(L.id),P(!0)},children:[f.jsx(hr,{className:"h-4 w-4 mr-2"}),"Add Linked Task"]}),f.jsxs(ne,{variant:"destructive",size:"sm",className:"w-full",onClick:()=>{confirm(`Delete "${L.title}"?`)&&(u(F=>F.filter(te=>te.from!==L.id&&te.to!==L.id)),i(L.id),h(null))},children:[f.jsx(Id,{className:"h-4 w-4 mr-2"}),"Delete Task"]})]}),f.jsxs("div",{children:[f.jsx("h5",{className:"font-medium mb-2",children:"Connected Tasks"}),f.jsxs("div",{className:"space-y-2",children:[c.filter(F=>F.from===L.id||F.to===L.id).map((F,te)=>{const ie=F.from===L.id?F.to:F.from,pe=t.find(oe=>oe.id===ie),ue=F.from===L.id;return pe?f.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted rounded",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{className:"text-sm font-medium",children:pe.title}),f.jsx("p",{className:"text-xs text-muted-foreground",children:ue?" Depends on this":" This depends on"})]}),f.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>z(F.from,F.to),children:f.jsx(nie,{className:"h-3 w-3"})})]},te):null}),c.filter(F=>F.from===L.id||F.to===L.id).length===0&&f.jsx("p",{className:"text-sm text-muted-foreground",children:"No connected tasks"})]})]})]})})}),f.jsx(lTe,{open:S,onOpenChange:P,linkedTaskId:T||void 0})]})}function uTe(){const{tasks:t,activeProject:e,createTask:n}=Bt(),[r,i]=_.useState(new Date),[o,s]=_.useState(!1),[a,l]=_.useState(null),[c,u]=_.useState({title:"",description:"",priority:"medium",estimatedTime:1}),d=t.filter(N=>N.projectId===e),h=r.getFullYear(),p=r.getMonth(),v=new Date(h,p,1),m=new Date(h,p+1,0),y=new Date(v);y.setDate(y.getDate()-v.getDay());const b=[],x=new Date(y);for(;x<=m||b.length<42;)b.push(new Date(x)),x.setDate(x.getDate()+1);const w=["January","February","March","April","May","June","July","August","September","October","November","December"],E=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],S=N=>d.filter(C=>{if(!C.dueDate)return!1;try{const j=new Date(C.dueDate);return isNaN(j.getTime())?!1:j.toDateString()===N.toDateString()}catch{return!1}}),P=N=>{const C=new Date(r);C.setMonth(C.getMonth()+(N==="next"?1:-1)),i(C)},T=N=>{const C=new Date;return N.toDateString()===C.toDateString()},A=N=>N.getMonth()===r.getMonth(),k=()=>{if(!(!e||!c.title.trim()))try{n({title:c.title,description:c.description,status:"todo",priority:c.priority,projectId:e,tags:["calendar-event"],estimatedTime:c.estimatedTime,dueDate:a||new Date}),u({title:"",description:"",priority:"medium",estimatedTime:1}),s(!1),l(null)}catch(N){console.error("Error creating event:",N)}},O=N=>{l(N),s(!0)};return f.jsxs("div",{className:"h-full flex flex-col space-y-6",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Calendar View"}),f.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"View tasks by due date"})]}),f.jsxs(ne,{onClick:()=>s(!0),className:"flex items-center space-x-2 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700",children:[f.jsx(hr,{className:"h-4 w-4"}),f.jsx("span",{children:"Add Event"})]})]}),f.jsxs(ut,{className:"flex-1",children:[f.jsx(Qn,{className:"pb-4",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs(Jn,{className:"flex items-center space-x-2",children:[f.jsx(el,{className:"h-5 w-5"}),f.jsxs("span",{children:[w[p]," ",h]})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(ne,{variant:"outline",size:"icon",onClick:()=>P("prev"),children:f.jsx(TU,{className:"h-4 w-4"})}),f.jsx(ne,{variant:"outline",onClick:()=>i(new Date),className:"text-sm",children:"Today"}),f.jsx(ne,{variant:"outline",size:"icon",onClick:()=>P("next"),children:f.jsx(ak,{className:"h-4 w-4"})})]})]})}),f.jsxs(pt,{className:"p-0",children:[f.jsx("div",{className:"grid grid-cols-7 border-b",children:E.map(N=>f.jsx("div",{className:"p-3 text-center text-sm font-medium text-muted-foreground border-r last:border-r-0",children:N},N))}),f.jsx("div",{className:"grid grid-cols-7",children:b.map((N,C)=>{const j=S(N),$=A(N),B=T(N);return f.jsxs(Ve.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:C*.01},className:_e("min-h-[120px] p-2 border-r border-b last:border-r-0 hover:bg-accent/50 transition-colors cursor-pointer",!$&&"bg-muted/30 text-muted-foreground",B&&"bg-primary/5 border-primary/20"),onClick:()=>O(N),children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("span",{className:_e("text-sm font-medium",B&&"bg-primary text-primary-foreground rounded-full w-6 h-6 flex items-center justify-center text-xs"),children:N.getDate()}),j.length>0&&f.jsx(nn,{variant:"secondary",className:"text-xs",children:j.length})]}),f.jsxs("div",{className:"space-y-1",children:[j.slice(0,3).map(U=>f.jsxs(Ve.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:_e("text-xs p-1.5 rounded border-l-2 bg-white/80 dark:bg-gray-800/80 cursor-pointer hover:shadow-sm transition-shadow",U.priority==="urgent"&&"border-l-red-500",U.priority==="high"&&"border-l-orange-500",U.priority==="medium"&&"border-l-blue-500",U.priority==="low"&&"border-l-gray-400"),children:[f.jsx("div",{className:"font-medium line-clamp-1",children:U.title}),f.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[f.jsx(Hr,{className:"h-2.5 w-2.5 text-muted-foreground"}),f.jsxs("span",{className:"text-muted-foreground",children:[U.estimatedTime||1,"h"]})]})]},U.id)),j.length>3&&f.jsxs("div",{className:"text-xs text-muted-foreground text-center py-1",children:["+",j.length-3," more"]})]})]},N.toISOString())})})]})]}),f.jsxs(ut,{children:[f.jsx(Qn,{children:f.jsx(Jn,{className:"text-lg",children:"Upcoming Deadlines"})}),f.jsx(pt,{children:f.jsxs("div",{className:"space-y-3",children:[d.filter(N=>N.dueDate&&N.status!=="completed").sort((N,C)=>{const j=N.dueDate?new Date(N.dueDate).getTime():0,$=C.dueDate?new Date(C.dueDate).getTime():0;return j-$}).slice(0,5).map(N=>{const C=N.dueDate?new Date(N.dueDate):null,j=C&&!isNaN(C.getTime());return f.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("h4",{className:"font-medium text-sm",children:N.title}),f.jsxs("p",{className:"text-xs text-muted-foreground",children:["Due: ",j?C.toLocaleDateString():"No date set"]})]}),f.jsx(nn,{variant:"outline",className:BU(N.priority),children:N.priority})]},N.id)}),d.filter(N=>N.dueDate&&N.status!=="completed").length===0&&f.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[f.jsx(el,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),f.jsx("p",{children:"No upcoming deadlines"})]})]})})]}),f.jsx(ni,{open:o,onOpenChange:s,children:f.jsxs(Nr,{className:"sm:max-w-[425px]",children:[f.jsxs(ki,{children:[f.jsx(Ni,{children:"Add Event"}),f.jsx(hu,{children:a?`Create a new event for ${a.toLocaleDateString()}`:"Create a new event"})]}),f.jsxs("div",{className:"grid gap-4 py-4",children:[f.jsxs("div",{className:"grid gap-2",children:[f.jsx($e,{htmlFor:"title",children:"Title"}),f.jsx(Mt,{id:"title",value:c.title,onChange:N=>u(C=>({...C,title:N.target.value})),placeholder:"Event title..."})]}),f.jsxs("div",{className:"grid gap-2",children:[f.jsx($e,{htmlFor:"description",children:"Description"}),f.jsx(Ls,{id:"description",value:c.description,onChange:N=>u(C=>({...C,description:N.target.value})),placeholder:"Event description...",rows:3})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"grid gap-2",children:[f.jsx($e,{htmlFor:"priority",children:"Priority"}),f.jsxs(rf,{value:c.priority,onValueChange:N=>u(C=>({...C,priority:N})),children:[f.jsx(Vc,{children:f.jsx(of,{})}),f.jsxs(Fc,{children:[f.jsx(kt,{value:"low",children:"Low"}),f.jsx(kt,{value:"medium",children:"Medium"}),f.jsx(kt,{value:"high",children:"High"}),f.jsx(kt,{value:"urgent",children:"Urgent"})]})]})]}),f.jsxs("div",{className:"grid gap-2",children:[f.jsx($e,{htmlFor:"time",children:"Estimated Time (hours)"}),f.jsx(Mt,{id:"time",type:"number",min:"0.5",step:"0.5",value:c.estimatedTime,onChange:N=>u(C=>({...C,estimatedTime:parseFloat(N.target.value)||1}))})]})]})]}),f.jsxs(sy,{children:[f.jsx(ne,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),f.jsx(ne,{onClick:k,disabled:!c.title.trim(),children:"Add Event"})]})]})})]})}var dTe=Array.isArray,Or=dTe,fTe=typeof tv=="object"&&tv&&tv.Object===Object&&tv,dY=fTe,hTe=dY,pTe=typeof self=="object"&&self&&self.Object===Object&&self,mTe=hTe||pTe||Function("return this")(),Wo=mTe,gTe=Wo,yTe=gTe.Symbol,Ry=yTe,hV=Ry,fY=Object.prototype,vTe=fY.hasOwnProperty,xTe=fY.toString,fp=hV?hV.toStringTag:void 0;function bTe(t){var e=vTe.call(t,fp),n=t[fp];try{t[fp]=void 0;var r=!0}catch{}var i=xTe.call(t);return r&&(e?t[fp]=n:delete t[fp]),i}var wTe=bTe,_Te=Object.prototype,STe=_Te.toString;function TTe(t){return STe.call(t)}var ETe=TTe,pV=Ry,ATe=wTe,PTe=ETe,ITe="[object Null]",CTe="[object Undefined]",mV=pV?pV.toStringTag:void 0;function kTe(t){return t==null?t===void 0?CTe:ITe:mV&&mV in Object(t)?ATe(t):PTe(t)}var Ws=kTe;function NTe(t){return t!=null&&typeof t=="object"}var qs=NTe,OTe=Ws,jTe=qs,RTe="[object Symbol]";function DTe(t){return typeof t=="symbol"||jTe(t)&&OTe(t)==RTe}var _h=DTe,MTe=Or,$Te=_h,LTe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,VTe=/^\w*$/;function FTe(t,e){if(MTe(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||$Te(t)?!0:VTe.test(t)||!LTe.test(t)||e!=null&&t in Object(e)}var BO=FTe;function BTe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Il=BTe;const Sh=Ze(Il);var UTe=Ws,zTe=Il,WTe="[object AsyncFunction]",qTe="[object Function]",GTe="[object GeneratorFunction]",HTe="[object Proxy]";function KTe(t){if(!zTe(t))return!1;var e=UTe(t);return e==qTe||e==GTe||e==WTe||e==HTe}var UO=KTe;const Pe=Ze(UO);var YTe=Wo,XTe=YTe["__core-js_shared__"],QTe=XTe,DT=QTe,gV=function(){var t=/[^.]+$/.exec(DT&&DT.keys&&DT.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function JTe(t){return!!gV&&gV in t}var ZTe=JTe,eEe=Function.prototype,tEe=eEe.toString;function nEe(t){if(t!=null){try{return tEe.call(t)}catch{}try{return t+""}catch{}}return""}var hY=nEe,rEe=UO,iEe=ZTe,oEe=Il,sEe=hY,aEe=/[\\^$.*+?()[\]{}|]/g,lEe=/^\[object .+?Constructor\]$/,cEe=Function.prototype,uEe=Object.prototype,dEe=cEe.toString,fEe=uEe.hasOwnProperty,hEe=RegExp("^"+dEe.call(fEe).replace(aEe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function pEe(t){if(!oEe(t)||iEe(t))return!1;var e=rEe(t)?hEe:lEe;return e.test(sEe(t))}var mEe=pEe;function gEe(t,e){return t==null?void 0:t[e]}var yEe=gEe,vEe=mEe,xEe=yEe;function bEe(t,e){var n=xEe(t,e);return vEe(n)?n:void 0}var Eu=bEe,wEe=Eu,_Ee=wEe(Object,"create"),e1=_Ee,yV=e1;function SEe(){this.__data__=yV?yV(null):{},this.size=0}var TEe=SEe;function EEe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var AEe=EEe,PEe=e1,IEe="__lodash_hash_undefined__",CEe=Object.prototype,kEe=CEe.hasOwnProperty;function NEe(t){var e=this.__data__;if(PEe){var n=e[t];return n===IEe?void 0:n}return kEe.call(e,t)?e[t]:void 0}var OEe=NEe,jEe=e1,REe=Object.prototype,DEe=REe.hasOwnProperty;function MEe(t){var e=this.__data__;return jEe?e[t]!==void 0:DEe.call(e,t)}var $Ee=MEe,LEe=e1,VEe="__lodash_hash_undefined__";function FEe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=LEe&&e===void 0?VEe:e,this}var BEe=FEe,UEe=TEe,zEe=AEe,WEe=OEe,qEe=$Ee,GEe=BEe;function Th(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Th.prototype.clear=UEe;Th.prototype.delete=zEe;Th.prototype.get=WEe;Th.prototype.has=qEe;Th.prototype.set=GEe;var HEe=Th;function KEe(){this.__data__=[],this.size=0}var YEe=KEe;function XEe(t,e){return t===e||t!==t&&e!==e}var zO=XEe,QEe=zO;function JEe(t,e){for(var n=t.length;n--;)if(QEe(t[n][0],e))return n;return-1}var t1=JEe,ZEe=t1,eAe=Array.prototype,tAe=eAe.splice;function nAe(t){var e=this.__data__,n=ZEe(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():tAe.call(e,n,1),--this.size,!0}var rAe=nAe,iAe=t1;function oAe(t){var e=this.__data__,n=iAe(e,t);return n<0?void 0:e[n][1]}var sAe=oAe,aAe=t1;function lAe(t){return aAe(this.__data__,t)>-1}var cAe=lAe,uAe=t1;function dAe(t,e){var n=this.__data__,r=uAe(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var fAe=dAe,hAe=YEe,pAe=rAe,mAe=sAe,gAe=cAe,yAe=fAe;function Eh(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Eh.prototype.clear=hAe;Eh.prototype.delete=pAe;Eh.prototype.get=mAe;Eh.prototype.has=gAe;Eh.prototype.set=yAe;var n1=Eh,vAe=Eu,xAe=Wo,bAe=vAe(xAe,"Map"),WO=bAe,vV=HEe,wAe=n1,_Ae=WO;function SAe(){this.size=0,this.__data__={hash:new vV,map:new(_Ae||wAe),string:new vV}}var TAe=SAe;function EAe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var AAe=EAe,PAe=AAe;function IAe(t,e){var n=t.__data__;return PAe(e)?n[typeof e=="string"?"string":"hash"]:n.map}var r1=IAe,CAe=r1;function kAe(t){var e=CAe(this,t).delete(t);return this.size-=e?1:0,e}var NAe=kAe,OAe=r1;function jAe(t){return OAe(this,t).get(t)}var RAe=jAe,DAe=r1;function MAe(t){return DAe(this,t).has(t)}var $Ae=MAe,LAe=r1;function VAe(t,e){var n=LAe(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var FAe=VAe,BAe=TAe,UAe=NAe,zAe=RAe,WAe=$Ae,qAe=FAe;function Ah(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ah.prototype.clear=BAe;Ah.prototype.delete=UAe;Ah.prototype.get=zAe;Ah.prototype.has=WAe;Ah.prototype.set=qAe;var qO=Ah,pY=qO,GAe="Expected a function";function GO(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(GAe);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(GO.Cache||pY),n}GO.Cache=pY;var mY=GO;const HAe=Ze(mY);var KAe=mY,YAe=500;function XAe(t){var e=KAe(t,function(r){return n.size===YAe&&n.clear(),r}),n=e.cache;return e}var QAe=XAe,JAe=QAe,ZAe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ePe=/\\(\\)?/g,tPe=JAe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(ZAe,function(n,r,i,o){e.push(i?o.replace(ePe,"$1"):r||n)}),e}),nPe=tPe;function rPe(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var HO=rPe,xV=Ry,iPe=HO,oPe=Or,sPe=_h,aPe=1/0,bV=xV?xV.prototype:void 0,wV=bV?bV.toString:void 0;function gY(t){if(typeof t=="string")return t;if(oPe(t))return iPe(t,gY)+"";if(sPe(t))return wV?wV.call(t):"";var e=t+"";return e=="0"&&1/t==-aPe?"-0":e}var lPe=gY,cPe=lPe;function uPe(t){return t==null?"":cPe(t)}var yY=uPe,dPe=Or,fPe=BO,hPe=nPe,pPe=yY;function mPe(t,e){return dPe(t)?t:fPe(t,e)?[t]:hPe(pPe(t))}var vY=mPe,gPe=_h,yPe=1/0;function vPe(t){if(typeof t=="string"||gPe(t))return t;var e=t+"";return e=="0"&&1/t==-yPe?"-0":e}var i1=vPe,xPe=vY,bPe=i1;function wPe(t,e){e=xPe(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[bPe(e[n++])];return n&&n==r?t:void 0}var KO=wPe,_Pe=KO;function SPe(t,e,n){var r=t==null?void 0:_Pe(t,e);return r===void 0?n:r}var xY=SPe;const Jr=Ze(xY);function TPe(t){return t==null}var EPe=TPe;const Oe=Ze(EPe);var APe=Ws,PPe=Or,IPe=qs,CPe="[object String]";function kPe(t){return typeof t=="string"||!PPe(t)&&IPe(t)&&APe(t)==CPe}var NPe=kPe;const tu=Ze(NPe);var bY={exports:{}},at={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YO=Symbol.for("react.element"),XO=Symbol.for("react.portal"),o1=Symbol.for("react.fragment"),s1=Symbol.for("react.strict_mode"),a1=Symbol.for("react.profiler"),l1=Symbol.for("react.provider"),c1=Symbol.for("react.context"),OPe=Symbol.for("react.server_context"),u1=Symbol.for("react.forward_ref"),d1=Symbol.for("react.suspense"),f1=Symbol.for("react.suspense_list"),h1=Symbol.for("react.memo"),p1=Symbol.for("react.lazy"),jPe=Symbol.for("react.offscreen"),wY;wY=Symbol.for("react.module.reference");function Oi(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case YO:switch(t=t.type,t){case o1:case a1:case s1:case d1:case f1:return t;default:switch(t=t&&t.$$typeof,t){case OPe:case c1:case u1:case p1:case h1:case l1:return t;default:return e}}case XO:return e}}}at.ContextConsumer=c1;at.ContextProvider=l1;at.Element=YO;at.ForwardRef=u1;at.Fragment=o1;at.Lazy=p1;at.Memo=h1;at.Portal=XO;at.Profiler=a1;at.StrictMode=s1;at.Suspense=d1;at.SuspenseList=f1;at.isAsyncMode=function(){return!1};at.isConcurrentMode=function(){return!1};at.isContextConsumer=function(t){return Oi(t)===c1};at.isContextProvider=function(t){return Oi(t)===l1};at.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===YO};at.isForwardRef=function(t){return Oi(t)===u1};at.isFragment=function(t){return Oi(t)===o1};at.isLazy=function(t){return Oi(t)===p1};at.isMemo=function(t){return Oi(t)===h1};at.isPortal=function(t){return Oi(t)===XO};at.isProfiler=function(t){return Oi(t)===a1};at.isStrictMode=function(t){return Oi(t)===s1};at.isSuspense=function(t){return Oi(t)===d1};at.isSuspenseList=function(t){return Oi(t)===f1};at.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===o1||t===a1||t===s1||t===d1||t===f1||t===jPe||typeof t=="object"&&t!==null&&(t.$$typeof===p1||t.$$typeof===h1||t.$$typeof===l1||t.$$typeof===c1||t.$$typeof===u1||t.$$typeof===wY||t.getModuleId!==void 0)};at.typeOf=Oi;bY.exports=at;var RPe=bY.exports,DPe=Ws,MPe=qs,$Pe="[object Number]";function LPe(t){return typeof t=="number"||MPe(t)&&DPe(t)==$Pe}var _Y=LPe;const VPe=Ze(_Y);var FPe=_Y;function BPe(t){return FPe(t)&&t!=+t}var UPe=BPe;const Ph=Ze(UPe);var ar=function(e){return e===0?0:e>0?1:-1},pc=function(e){return tu(e)&&e.indexOf("%")===e.length-1},ae=function(e){return VPe(e)&&!Ph(e)},zPe=function(e){return Oe(e)},yn=function(e){return ae(e)||tu(e)},WPe=0,Au=function(e){var n=++WPe;return"".concat(e||"").concat(n)},lr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ae(e)&&!tu(e))return r;var o;if(pc(e)){var s=e.indexOf("%");o=n*parseFloat(e.slice(0,s))/100}else o=+e;return Ph(o)&&(o=r),i&&o>n&&(o=n),o},Aa=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},qPe=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},mn=function(e,n){return ae(e)&&ae(n)?function(r){return e+r*(n-e)}:function(){return n}};function mb(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Jr(r,e))===n})}var GPe=function(e,n){return ae(e)&&ae(n)?e-n:tu(e)&&tu(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Fd(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function AP(t){"@babel/helpers - typeof";return AP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AP(t)}var HPe=["viewBox","children"],KPe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],_V=["points","pathLength"],MT={svg:HPe,polygon:_V,polyline:_V},QO=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],gb=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(_.isValidElement(e)&&(r=e.props),!Sh(r))return null;var i={};return Object.keys(r).forEach(function(o){QO.includes(o)&&(i[o]=n||function(s){return r[o](r,s)})}),i},YPe=function(e,n,r){return function(i){return e(n,r,i),null}},nu=function(e,n,r){if(!Sh(e)||AP(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var s=e[o];QO.includes(o)&&typeof s=="function"&&(i||(i={}),i[o]=YPe(s,n,r))}),i},XPe=["children"],QPe=["children"];function SV(t,e){if(t==null)return{};var n=JPe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function JPe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function PP(t){"@babel/helpers - typeof";return PP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},PP(t)}var TV={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ys=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},EV=null,$T=null,JO=function t(e){if(e===EV&&Array.isArray($T))return $T;var n=[];return _.Children.forEach(e,function(r){Oe(r)||(RPe.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),$T=n,EV=e,n};function Zr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return ys(i)}):r=[ys(e)],JO(t).forEach(function(i){var o=Jr(i,"type.displayName")||Jr(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Vr(t,e){var n=Zr(t,e);return n&&n[0]}var AV=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!ae(r)||r<=0||!ae(i)||i<=0)},ZPe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],eIe=function(e){return e&&e.type&&tu(e.type)&&ZPe.indexOf(e.type)>=0},SY=function(e){return e&&PP(e)==="object"&&"clipDot"in e},tIe=function(e,n,r,i){var o,s=(o=MT==null?void 0:MT[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!Pe(e)&&(i&&s.includes(n)||KPe.includes(n))||r&&QO.includes(n)},Ee=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(_.isValidElement(e)&&(i=e.props),!Sh(i))return null;var o={};return Object.keys(i).forEach(function(s){var a;tIe((a=i)===null||a===void 0?void 0:a[s],s,n,r)&&(o[s]=i[s])}),o},IP=function t(e,n){if(e===n)return!0;var r=_.Children.count(e);if(r!==_.Children.count(n))return!1;if(r===0)return!0;if(r===1)return PV(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],s=n[i];if(Array.isArray(o)||Array.isArray(s)){if(!t(o,s))return!1}else if(!PV(o,s))return!1}return!0},PV=function(e,n){if(Oe(e)&&Oe(n))return!0;if(!Oe(e)&&!Oe(n)){var r=e.props||{},i=r.children,o=SV(r,XPe),s=n.props||{},a=s.children,l=SV(s,QPe);return i&&a?Fd(o,l)&&IP(i,a):!i&&!a?Fd(o,l):!1}return!1},IV=function(e,n){var r=[],i={};return JO(e).forEach(function(o,s){if(eIe(o))r.push(o);else if(o){var a=ys(o.type),l=n[a]||{},c=l.handler,u=l.once;if(c&&(!u||!i[a])){var d=c(o,a,s);r.push(d),i[a]=!0}}}),r},nIe=function(e){var n=e&&e.type;return n&&TV[n]?TV[n]:null},rIe=function(e,n){return JO(n).indexOf(e)},iIe=["children","width","height","viewBox","className","style","title","desc"];function CP(){return CP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CP.apply(this,arguments)}function oIe(t,e){if(t==null)return{};var n=sIe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sIe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function kP(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,s=t.style,a=t.title,l=t.desc,c=oIe(t,iIe),u=i||{width:n,height:r,x:0,y:0},d=je("recharts-surface",o);return M.createElement("svg",CP({},Ee(c,!0,"svg"),{className:d,width:n,height:r,style:s,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),M.createElement("title",null,a),M.createElement("desc",null,l),e)}var aIe=["children","className"];function NP(){return NP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},NP.apply(this,arguments)}function lIe(t,e){if(t==null)return{};var n=cIe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cIe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Fe=M.forwardRef(function(t,e){var n=t.children,r=t.className,i=lIe(t,aIe),o=je("recharts-layer",r);return M.createElement("g",NP({className:o},Ee(i,!0),{ref:e}),n)}),Qi=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function uIe(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var dIe=uIe,fIe=dIe;function hIe(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:fIe(t,e,n)}var pIe=hIe,mIe="\\ud800-\\udfff",gIe="\\u0300-\\u036f",yIe="\\ufe20-\\ufe2f",vIe="\\u20d0-\\u20ff",xIe=gIe+yIe+vIe,bIe="\\ufe0e\\ufe0f",wIe="\\u200d",_Ie=RegExp("["+wIe+mIe+xIe+bIe+"]");function SIe(t){return _Ie.test(t)}var TY=SIe;function TIe(t){return t.split("")}var EIe=TIe,EY="\\ud800-\\udfff",AIe="\\u0300-\\u036f",PIe="\\ufe20-\\ufe2f",IIe="\\u20d0-\\u20ff",CIe=AIe+PIe+IIe,kIe="\\ufe0e\\ufe0f",NIe="["+EY+"]",OP="["+CIe+"]",jP="\\ud83c[\\udffb-\\udfff]",OIe="(?:"+OP+"|"+jP+")",AY="[^"+EY+"]",PY="(?:\\ud83c[\\udde6-\\uddff]){2}",IY="[\\ud800-\\udbff][\\udc00-\\udfff]",jIe="\\u200d",CY=OIe+"?",kY="["+kIe+"]?",RIe="(?:"+jIe+"(?:"+[AY,PY,IY].join("|")+")"+kY+CY+")*",DIe=kY+CY+RIe,MIe="(?:"+[AY+OP+"?",OP,PY,IY,NIe].join("|")+")",$Ie=RegExp(jP+"(?="+jP+")|"+MIe+DIe,"g");function LIe(t){return t.match($Ie)||[]}var VIe=LIe,FIe=EIe,BIe=TY,UIe=VIe;function zIe(t){return BIe(t)?UIe(t):FIe(t)}var WIe=zIe,qIe=pIe,GIe=TY,HIe=WIe,KIe=yY;function YIe(t){return function(e){e=KIe(e);var n=GIe(e)?HIe(e):void 0,r=n?n[0]:e.charAt(0),i=n?qIe(n,1).join(""):e.slice(1);return r[t]()+i}}var XIe=YIe,QIe=XIe,JIe=QIe("toUpperCase"),ZIe=JIe;const m1=Ze(ZIe);function vt(t){return function(){return t}}const NY=Math.cos,yb=Math.sin,co=Math.sqrt,vb=Math.PI,g1=2*vb,RP=Math.PI,DP=2*RP,ec=1e-6,eCe=DP-ec;function OY(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function tCe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return OY;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class nCe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?OY:tCe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=r-e,c=i-n,u=s-e,d=a-n,h=u*u+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>ec)if(!(Math.abs(d*l-c*u)>ec)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-s,v=i-a,m=l*l+c*c,y=p*p+v*v,b=Math.sqrt(m),x=Math.sqrt(h),w=o*Math.tan((RP-Math.acos((m+h-y)/(2*b*x)))/2),E=w/x,S=w/b;Math.abs(E-1)>ec&&this._append`L${e+E*u},${n+E*d}`,this._append`A${o},${o},0,0,${+(d*p>u*v)},${this._x1=e+S*l},${this._y1=n+S*c}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),c=e+a,u=n+l,d=1^s,h=s?i-o:o-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>ec||Math.abs(this._y1-u)>ec)&&this._append`L${c},${u}`,r&&(h<0&&(h=h%DP+DP),h>eCe?this._append`A${r},${r},0,1,${d},${e-a},${n-l}A${r},${r},0,1,${d},${this._x1=c},${this._y1=u}`:h>ec&&this._append`A${r},${r},0,${+(h>=RP)},${d},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function ZO(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new nCe(e)}function ej(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function jY(t){this._context=t}jY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function y1(t){return new jY(t)}function RY(t){return t[0]}function DY(t){return t[1]}function MY(t,e){var n=vt(!0),r=null,i=y1,o=null,s=ZO(a);t=typeof t=="function"?t:t===void 0?RY:vt(t),e=typeof e=="function"?e:e===void 0?DY:vt(e);function a(l){var c,u=(l=ej(l)).length,d,h=!1,p;for(r==null&&(o=i(p=s())),c=0;c<=u;++c)!(c<u&&n(d=l[c],c,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(d,c,l),+e(d,c,l));if(p)return o=null,p+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:vt(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:vt(+l),a):e},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:vt(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),a):r},a}function Wv(t,e,n){var r=null,i=vt(!0),o=null,s=y1,a=null,l=ZO(c);t=typeof t=="function"?t:t===void 0?RY:vt(+t),e=typeof e=="function"?e:vt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?DY:vt(+n);function c(d){var h,p,v,m=(d=ej(d)).length,y,b=!1,x,w=new Array(m),E=new Array(m);for(o==null&&(a=s(x=l())),h=0;h<=m;++h){if(!(h<m&&i(y=d[h],h,d))===b)if(b=!b)p=h,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),v=h-1;v>=p;--v)a.point(w[v],E[v]);a.lineEnd(),a.areaEnd()}b&&(w[h]=+t(y,h,d),E[h]=+e(y,h,d),a.point(r?+r(y,h,d):w[h],n?+n(y,h,d):E[h]))}if(x)return a=null,x+""||null}function u(){return MY().defined(i).curve(s).context(o)}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:vt(+d),r=null,c):t},c.x0=function(d){return arguments.length?(t=typeof d=="function"?d:vt(+d),c):t},c.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:vt(+d),c):r},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:vt(+d),n=null,c):e},c.y0=function(d){return arguments.length?(e=typeof d=="function"?d:vt(+d),c):e},c.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:vt(+d),c):n},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(n)},c.lineX1=function(){return u().x(r).y(e)},c.defined=function(d){return arguments.length?(i=typeof d=="function"?d:vt(!!d),c):i},c.curve=function(d){return arguments.length?(s=d,o!=null&&(a=s(o)),c):s},c.context=function(d){return arguments.length?(d==null?o=a=null:a=s(o=d),c):o},c}class $Y{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function rCe(t){return new $Y(t,!0)}function iCe(t){return new $Y(t,!1)}const tj={draw(t,e){const n=co(e/vb);t.moveTo(n,0),t.arc(0,0,n,0,g1)}},oCe={draw(t,e){const n=co(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},LY=co(1/3),sCe=LY*2,aCe={draw(t,e){const n=co(e/sCe),r=n*LY;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},lCe={draw(t,e){const n=co(e),r=-n/2;t.rect(r,r,n,n)}},cCe=.8908130915292852,VY=yb(vb/10)/yb(7*vb/10),uCe=yb(g1/10)*VY,dCe=-NY(g1/10)*VY,fCe={draw(t,e){const n=co(e*cCe),r=uCe*n,i=dCe*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const s=g1*o/5,a=NY(s),l=yb(s);t.lineTo(l*n,-a*n),t.lineTo(a*r-l*i,l*r+a*i)}t.closePath()}},LT=co(3),hCe={draw(t,e){const n=-co(e/(LT*3));t.moveTo(0,n*2),t.lineTo(-LT*n,-n),t.lineTo(LT*n,-n),t.closePath()}},ui=-.5,di=co(3)/2,MP=1/co(12),pCe=(MP/2+1)*3,mCe={draw(t,e){const n=co(e/pCe),r=n/2,i=n*MP,o=r,s=n*MP+n,a=-o,l=s;t.moveTo(r,i),t.lineTo(o,s),t.lineTo(a,l),t.lineTo(ui*r-di*i,di*r+ui*i),t.lineTo(ui*o-di*s,di*o+ui*s),t.lineTo(ui*a-di*l,di*a+ui*l),t.lineTo(ui*r+di*i,ui*i-di*r),t.lineTo(ui*o+di*s,ui*s-di*o),t.lineTo(ui*a+di*l,ui*l-di*a),t.closePath()}};function gCe(t,e){let n=null,r=ZO(i);t=typeof t=="function"?t:vt(t||tj),e=typeof e=="function"?e:vt(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:vt(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:vt(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function xb(){}function bb(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function FY(t){this._context=t}FY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:bb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:bb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function yCe(t){return new FY(t)}function BY(t){this._context=t}BY.prototype={areaStart:xb,areaEnd:xb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:bb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function vCe(t){return new BY(t)}function UY(t){this._context=t}UY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:bb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function xCe(t){return new UY(t)}function zY(t){this._context=t}zY.prototype={areaStart:xb,areaEnd:xb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function bCe(t){return new zY(t)}function CV(t){return t<0?-1:1}function kV(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(CV(o)+CV(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function NV(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function VT(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*e,o-a,s-a*n,o,s)}function wb(t){this._context=t}wb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:VT(this,this._t0,NV(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,VT(this,NV(this,n=kV(this,t,e)),n);break;default:VT(this,this._t0,n=kV(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function WY(t){this._context=new qY(t)}(WY.prototype=Object.create(wb.prototype)).point=function(t,e){wb.prototype.point.call(this,e,t)};function qY(t){this._context=t}qY.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function wCe(t){return new wb(t)}function _Ce(t){return new WY(t)}function GY(t){this._context=t}GY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=OV(t),i=OV(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function OV(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function SCe(t){return new GY(t)}function v1(t,e){this._context=t,this._t=e}v1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function TCe(t){return new v1(t,.5)}function ECe(t){return new v1(t,0)}function ACe(t){return new v1(t,1)}function Af(t,e){if((s=t.length)>1)for(var n=1,r,i,o=t[e[0]],s,a=o.length;n<s;++n)for(i=o,o=t[e[n]],r=0;r<a;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function $P(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function PCe(t,e){return t[e]}function ICe(t){const e=[];return e.key=t,e}function CCe(){var t=vt([]),e=$P,n=Af,r=PCe;function i(o){var s=Array.from(t.apply(this,arguments),ICe),a,l=s.length,c=-1,u;for(const d of o)for(a=0,++c;a<l;++a)(s[a][c]=[0,+r(d,s[a].key,c,o)]).data=d;for(a=0,u=ej(e(s));a<l;++a)s[u[a]].index=a;return n(s,u),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:vt(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:vt(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?$P:typeof o=="function"?o:vt(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??Af,i):n},i}function kCe(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}Af(t,e)}}function NCe(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var s=0,a=0;s<i;++s)a+=t[s][n][1]||0;r[n][1]+=r[n][0]=-a/2}Af(t,e)}}function OCe(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var a=0,l=0,c=0;a<s;++a){for(var u=t[e[a]],d=u[r][1]||0,h=u[r-1][1]||0,p=(d-h)/2,v=0;v<a;++v){var m=t[e[v]],y=m[r][1]||0,b=m[r-1][1]||0;p+=y-b}l+=d,c+=p*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,Af(t,e)}}function hg(t){"@babel/helpers - typeof";return hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hg(t)}var jCe=["type","size","sizeType"];function LP(){return LP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},LP.apply(this,arguments)}function jV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jV(Object(n),!0).forEach(function(r){RCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RCe(t,e,n){return e=DCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DCe(t){var e=MCe(t,"string");return hg(e)=="symbol"?e:e+""}function MCe(t,e){if(hg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $Ce(t,e){if(t==null)return{};var n=LCe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function LCe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var HY={symbolCircle:tj,symbolCross:oCe,symbolDiamond:aCe,symbolSquare:lCe,symbolStar:fCe,symbolTriangle:hCe,symbolWye:mCe},VCe=Math.PI/180,FCe=function(e){var n="symbol".concat(m1(e));return HY[n]||tj},BCe=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*VCe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},UCe=function(e,n){HY["symbol".concat(m1(e))]=n},nj=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,s=e.sizeType,a=s===void 0?"area":s,l=$Ce(e,jCe),c=RV(RV({},l),{},{type:r,size:o,sizeType:a}),u=function(){var y=FCe(r),b=gCe().type(y).size(BCe(o,a,r));return b()},d=c.className,h=c.cx,p=c.cy,v=Ee(c,!0);return h===+h&&p===+p&&o===+o?M.createElement("path",LP({},v,{className:je("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(p,")"),d:u()})):null};nj.registerSymbol=UCe;function Pf(t){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pf(t)}function VP(){return VP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},VP.apply(this,arguments)}function DV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zCe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DV(Object(n),!0).forEach(function(r){pg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,YY(r.key),r)}}function qCe(t,e,n){return e&&MV(t.prototype,e),n&&MV(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function GCe(t,e,n){return e=_b(e),HCe(t,KY()?Reflect.construct(e,n||[],_b(t).constructor):e.apply(t,n))}function HCe(t,e){if(e&&(Pf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KCe(t)}function KCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KY=function(){return!!t})()}function _b(t){return _b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_b(t)}function YCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&FP(t,e)}function FP(t,e){return FP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},FP(t,e)}function pg(t,e,n){return e=YY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YY(t){var e=XCe(t,"string");return Pf(e)=="symbol"?e:e+""}function XCe(t,e){if(Pf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Pf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fi=32,rj=function(t){function e(){return WCe(this,e),GCe(this,e,arguments)}return YCe(e,t),qCe(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=fi/2,s=fi/6,a=fi/3,l=r.inactive?i:r.color;if(r.type==="plainline")return M.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:fi,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return M.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(o,`
            H`).concat(fi,"M").concat(2*a,",").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return M.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(fi/8,"h").concat(fi,"v").concat(fi*3/4,"h").concat(-fi,"z"),className:"recharts-legend-icon"});if(M.isValidElement(r.legendIcon)){var c=zCe({},r);return delete c.legendIcon,M.cloneElement(r.legendIcon,c)}return M.createElement(nj,{fill:l,cx:o,cy:o,size:fi,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,s=i.iconSize,a=i.layout,l=i.formatter,c=i.inactiveColor,u={x:0,y:0,width:fi,height:fi},d={display:a==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(p,v){var m=p.formatter||l,y=je(pg(pg({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",p.inactive));if(p.type==="none")return null;var b=Pe(p.value)?null:p.value;Qi(!Pe(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=p.inactive?c:p.color;return M.createElement("li",VP({className:y,style:d,key:"legend-item-".concat(v)},nu(r.props,p,v)),M.createElement(kP,{width:s,height:s,viewBox:u,style:h},r.renderIcon(p)),M.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},m?m(b,p,v):b))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,s=r.align;if(!i||!i.length)return null;var a={padding:0,margin:0,textAlign:o==="horizontal"?s:"left"};return M.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])}(_.PureComponent);pg(rj,"displayName","Legend");pg(rj,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var QCe=n1;function JCe(){this.__data__=new QCe,this.size=0}var ZCe=JCe;function eke(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var tke=eke;function nke(t){return this.__data__.get(t)}var rke=nke;function ike(t){return this.__data__.has(t)}var oke=ike,ske=n1,ake=WO,lke=qO,cke=200;function uke(t,e){var n=this.__data__;if(n instanceof ske){var r=n.__data__;if(!ake||r.length<cke-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new lke(r)}return n.set(t,e),this.size=n.size,this}var dke=uke,fke=n1,hke=ZCe,pke=tke,mke=rke,gke=oke,yke=dke;function Ih(t){var e=this.__data__=new fke(t);this.size=e.size}Ih.prototype.clear=hke;Ih.prototype.delete=pke;Ih.prototype.get=mke;Ih.prototype.has=gke;Ih.prototype.set=yke;var XY=Ih,vke="__lodash_hash_undefined__";function xke(t){return this.__data__.set(t,vke),this}var bke=xke;function wke(t){return this.__data__.has(t)}var _ke=wke,Ske=qO,Tke=bke,Eke=_ke;function Sb(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Ske;++e<n;)this.add(t[e])}Sb.prototype.add=Sb.prototype.push=Tke;Sb.prototype.has=Eke;var QY=Sb;function Ake(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var JY=Ake;function Pke(t,e){return t.has(e)}var ZY=Pke,Ike=QY,Cke=JY,kke=ZY,Nke=1,Oke=2;function jke(t,e,n,r,i,o){var s=n&Nke,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(t),u=o.get(e);if(c&&u)return c==e&&u==t;var d=-1,h=!0,p=n&Oke?new Ike:void 0;for(o.set(t,e),o.set(e,t);++d<a;){var v=t[d],m=e[d];if(r)var y=s?r(m,v,d,e,t,o):r(v,m,d,t,e,o);if(y!==void 0){if(y)continue;h=!1;break}if(p){if(!Cke(e,function(b,x){if(!kke(p,x)&&(v===b||i(v,b,n,r,o)))return p.push(x)})){h=!1;break}}else if(!(v===m||i(v,m,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var eX=jke,Rke=Wo,Dke=Rke.Uint8Array,Mke=Dke;function $ke(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var Lke=$ke;function Vke(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var ij=Vke,$V=Ry,LV=Mke,Fke=zO,Bke=eX,Uke=Lke,zke=ij,Wke=1,qke=2,Gke="[object Boolean]",Hke="[object Date]",Kke="[object Error]",Yke="[object Map]",Xke="[object Number]",Qke="[object RegExp]",Jke="[object Set]",Zke="[object String]",eNe="[object Symbol]",tNe="[object ArrayBuffer]",nNe="[object DataView]",VV=$V?$V.prototype:void 0,FT=VV?VV.valueOf:void 0;function rNe(t,e,n,r,i,o,s){switch(n){case nNe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case tNe:return!(t.byteLength!=e.byteLength||!o(new LV(t),new LV(e)));case Gke:case Hke:case Xke:return Fke(+t,+e);case Kke:return t.name==e.name&&t.message==e.message;case Qke:case Zke:return t==e+"";case Yke:var a=Uke;case Jke:var l=r&Wke;if(a||(a=zke),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;r|=qke,s.set(t,e);var u=Bke(a(t),a(e),r,i,o,s);return s.delete(t),u;case eNe:if(FT)return FT.call(t)==FT.call(e)}return!1}var iNe=rNe;function oNe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var tX=oNe,sNe=tX,aNe=Or;function lNe(t,e,n){var r=e(t);return aNe(t)?r:sNe(r,n(t))}var cNe=lNe;function uNe(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var dNe=uNe;function fNe(){return[]}var hNe=fNe,pNe=dNe,mNe=hNe,gNe=Object.prototype,yNe=gNe.propertyIsEnumerable,FV=Object.getOwnPropertySymbols,vNe=FV?function(t){return t==null?[]:(t=Object(t),pNe(FV(t),function(e){return yNe.call(t,e)}))}:mNe,xNe=vNe;function bNe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var wNe=bNe,_Ne=Ws,SNe=qs,TNe="[object Arguments]";function ENe(t){return SNe(t)&&_Ne(t)==TNe}var ANe=ENe,BV=ANe,PNe=qs,nX=Object.prototype,INe=nX.hasOwnProperty,CNe=nX.propertyIsEnumerable,kNe=BV(function(){return arguments}())?BV:function(t){return PNe(t)&&INe.call(t,"callee")&&!CNe.call(t,"callee")},oj=kNe,Tb={exports:{}};function NNe(){return!1}var ONe=NNe;Tb.exports;(function(t,e){var n=Wo,r=ONe,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||r;t.exports=c})(Tb,Tb.exports);var rX=Tb.exports,jNe=9007199254740991,RNe=/^(?:0|[1-9]\d*)$/;function DNe(t,e){var n=typeof t;return e=e??jNe,!!e&&(n=="number"||n!="symbol"&&RNe.test(t))&&t>-1&&t%1==0&&t<e}var sj=DNe,MNe=9007199254740991;function $Ne(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=MNe}var aj=$Ne,LNe=Ws,VNe=aj,FNe=qs,BNe="[object Arguments]",UNe="[object Array]",zNe="[object Boolean]",WNe="[object Date]",qNe="[object Error]",GNe="[object Function]",HNe="[object Map]",KNe="[object Number]",YNe="[object Object]",XNe="[object RegExp]",QNe="[object Set]",JNe="[object String]",ZNe="[object WeakMap]",eOe="[object ArrayBuffer]",tOe="[object DataView]",nOe="[object Float32Array]",rOe="[object Float64Array]",iOe="[object Int8Array]",oOe="[object Int16Array]",sOe="[object Int32Array]",aOe="[object Uint8Array]",lOe="[object Uint8ClampedArray]",cOe="[object Uint16Array]",uOe="[object Uint32Array]",At={};At[nOe]=At[rOe]=At[iOe]=At[oOe]=At[sOe]=At[aOe]=At[lOe]=At[cOe]=At[uOe]=!0;At[BNe]=At[UNe]=At[eOe]=At[zNe]=At[tOe]=At[WNe]=At[qNe]=At[GNe]=At[HNe]=At[KNe]=At[YNe]=At[XNe]=At[QNe]=At[JNe]=At[ZNe]=!1;function dOe(t){return FNe(t)&&VNe(t.length)&&!!At[LNe(t)]}var fOe=dOe;function hOe(t){return function(e){return t(e)}}var iX=hOe,Eb={exports:{}};Eb.exports;(function(t,e){var n=dY,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(Eb,Eb.exports);var pOe=Eb.exports,mOe=fOe,gOe=iX,UV=pOe,zV=UV&&UV.isTypedArray,yOe=zV?gOe(zV):mOe,oX=yOe,vOe=wNe,xOe=oj,bOe=Or,wOe=rX,_Oe=sj,SOe=oX,TOe=Object.prototype,EOe=TOe.hasOwnProperty;function AOe(t,e){var n=bOe(t),r=!n&&xOe(t),i=!n&&!r&&wOe(t),o=!n&&!r&&!i&&SOe(t),s=n||r||i||o,a=s?vOe(t.length,String):[],l=a.length;for(var c in t)(e||EOe.call(t,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||_Oe(c,l)))&&a.push(c);return a}var POe=AOe,IOe=Object.prototype;function COe(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||IOe;return t===n}var kOe=COe;function NOe(t,e){return function(n){return t(e(n))}}var sX=NOe,OOe=sX,jOe=OOe(Object.keys,Object),ROe=jOe,DOe=kOe,MOe=ROe,$Oe=Object.prototype,LOe=$Oe.hasOwnProperty;function VOe(t){if(!DOe(t))return MOe(t);var e=[];for(var n in Object(t))LOe.call(t,n)&&n!="constructor"&&e.push(n);return e}var FOe=VOe,BOe=UO,UOe=aj;function zOe(t){return t!=null&&UOe(t.length)&&!BOe(t)}var Dy=zOe,WOe=POe,qOe=FOe,GOe=Dy;function HOe(t){return GOe(t)?WOe(t):qOe(t)}var x1=HOe,KOe=cNe,YOe=xNe,XOe=x1;function QOe(t){return KOe(t,XOe,YOe)}var JOe=QOe,WV=JOe,ZOe=1,eje=Object.prototype,tje=eje.hasOwnProperty;function nje(t,e,n,r,i,o){var s=n&ZOe,a=WV(t),l=a.length,c=WV(e),u=c.length;if(l!=u&&!s)return!1;for(var d=l;d--;){var h=a[d];if(!(s?h in e:tje.call(e,h)))return!1}var p=o.get(t),v=o.get(e);if(p&&v)return p==e&&v==t;var m=!0;o.set(t,e),o.set(e,t);for(var y=s;++d<l;){h=a[d];var b=t[h],x=e[h];if(r)var w=s?r(x,b,h,e,t,o):r(b,x,h,t,e,o);if(!(w===void 0?b===x||i(b,x,n,r,o):w)){m=!1;break}y||(y=h=="constructor")}if(m&&!y){var E=t.constructor,S=e.constructor;E!=S&&"constructor"in t&&"constructor"in e&&!(typeof E=="function"&&E instanceof E&&typeof S=="function"&&S instanceof S)&&(m=!1)}return o.delete(t),o.delete(e),m}var rje=nje,ije=Eu,oje=Wo,sje=ije(oje,"DataView"),aje=sje,lje=Eu,cje=Wo,uje=lje(cje,"Promise"),dje=uje,fje=Eu,hje=Wo,pje=fje(hje,"Set"),aX=pje,mje=Eu,gje=Wo,yje=mje(gje,"WeakMap"),vje=yje,BP=aje,UP=WO,zP=dje,WP=aX,qP=vje,lX=Ws,Ch=hY,qV="[object Map]",xje="[object Object]",GV="[object Promise]",HV="[object Set]",KV="[object WeakMap]",YV="[object DataView]",bje=Ch(BP),wje=Ch(UP),_je=Ch(zP),Sje=Ch(WP),Tje=Ch(qP),tc=lX;(BP&&tc(new BP(new ArrayBuffer(1)))!=YV||UP&&tc(new UP)!=qV||zP&&tc(zP.resolve())!=GV||WP&&tc(new WP)!=HV||qP&&tc(new qP)!=KV)&&(tc=function(t){var e=lX(t),n=e==xje?t.constructor:void 0,r=n?Ch(n):"";if(r)switch(r){case bje:return YV;case wje:return qV;case _je:return GV;case Sje:return HV;case Tje:return KV}return e});var Eje=tc,BT=XY,Aje=eX,Pje=iNe,Ije=rje,XV=Eje,QV=Or,JV=rX,Cje=oX,kje=1,ZV="[object Arguments]",eF="[object Array]",qv="[object Object]",Nje=Object.prototype,tF=Nje.hasOwnProperty;function Oje(t,e,n,r,i,o){var s=QV(t),a=QV(e),l=s?eF:XV(t),c=a?eF:XV(e);l=l==ZV?qv:l,c=c==ZV?qv:c;var u=l==qv,d=c==qv,h=l==c;if(h&&JV(t)){if(!JV(e))return!1;s=!0,u=!1}if(h&&!u)return o||(o=new BT),s||Cje(t)?Aje(t,e,n,r,i,o):Pje(t,e,l,n,r,i,o);if(!(n&kje)){var p=u&&tF.call(t,"__wrapped__"),v=d&&tF.call(e,"__wrapped__");if(p||v){var m=p?t.value():t,y=v?e.value():e;return o||(o=new BT),i(m,y,n,r,o)}}return h?(o||(o=new BT),Ije(t,e,n,r,i,o)):!1}var jje=Oje,Rje=jje,nF=qs;function cX(t,e,n,r,i){return t===e?!0:t==null||e==null||!nF(t)&&!nF(e)?t!==t&&e!==e:Rje(t,e,n,r,cX,i)}var lj=cX,Dje=XY,Mje=lj,$je=1,Lje=2;function Vje(t,e,n,r){var i=n.length,o=i,s=!r;if(t==null)return!o;for(t=Object(t);i--;){var a=n[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=n[i];var l=a[0],c=t[l],u=a[1];if(s&&a[2]){if(c===void 0&&!(l in t))return!1}else{var d=new Dje;if(r)var h=r(c,u,l,t,e,d);if(!(h===void 0?Mje(u,c,$je|Lje,r,d):h))return!1}}return!0}var Fje=Vje,Bje=Il;function Uje(t){return t===t&&!Bje(t)}var uX=Uje,zje=uX,Wje=x1;function qje(t){for(var e=Wje(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,zje(i)]}return e}var Gje=qje;function Hje(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var dX=Hje,Kje=Fje,Yje=Gje,Xje=dX;function Qje(t){var e=Yje(t);return e.length==1&&e[0][2]?Xje(e[0][0],e[0][1]):function(n){return n===t||Kje(n,t,e)}}var Jje=Qje;function Zje(t,e){return t!=null&&e in Object(t)}var eRe=Zje,tRe=vY,nRe=oj,rRe=Or,iRe=sj,oRe=aj,sRe=i1;function aRe(t,e,n){e=tRe(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=sRe(e[r]);if(!(o=t!=null&&n(t,s)))break;t=t[s]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&oRe(i)&&iRe(s,i)&&(rRe(t)||nRe(t)))}var lRe=aRe,cRe=eRe,uRe=lRe;function dRe(t,e){return t!=null&&uRe(t,e,cRe)}var fRe=dRe,hRe=lj,pRe=xY,mRe=fRe,gRe=BO,yRe=uX,vRe=dX,xRe=i1,bRe=1,wRe=2;function _Re(t,e){return gRe(t)&&yRe(e)?vRe(xRe(t),e):function(n){var r=pRe(n,t);return r===void 0&&r===e?mRe(n,t):hRe(e,r,bRe|wRe)}}var SRe=_Re;function TRe(t){return t}var kh=TRe;function ERe(t){return function(e){return e==null?void 0:e[t]}}var ARe=ERe,PRe=KO;function IRe(t){return function(e){return PRe(e,t)}}var CRe=IRe,kRe=ARe,NRe=CRe,ORe=BO,jRe=i1;function RRe(t){return ORe(t)?kRe(jRe(t)):NRe(t)}var DRe=RRe,MRe=Jje,$Re=SRe,LRe=kh,VRe=Or,FRe=DRe;function BRe(t){return typeof t=="function"?t:t==null?LRe:typeof t=="object"?VRe(t)?$Re(t[0],t[1]):MRe(t):FRe(t)}var qo=BRe;function URe(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var fX=URe;function zRe(t){return t!==t}var WRe=zRe;function qRe(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var GRe=qRe,HRe=fX,KRe=WRe,YRe=GRe;function XRe(t,e,n){return e===e?YRe(t,e,n):HRe(t,KRe,n)}var QRe=XRe,JRe=QRe;function ZRe(t,e){var n=t==null?0:t.length;return!!n&&JRe(t,e,0)>-1}var e2e=ZRe;function t2e(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var n2e=t2e;function r2e(){}var i2e=r2e,UT=aX,o2e=i2e,s2e=ij,a2e=1/0,l2e=UT&&1/s2e(new UT([,-0]))[1]==a2e?function(t){return new UT(t)}:o2e,c2e=l2e,u2e=QY,d2e=e2e,f2e=n2e,h2e=ZY,p2e=c2e,m2e=ij,g2e=200;function y2e(t,e,n){var r=-1,i=d2e,o=t.length,s=!0,a=[],l=a;if(n)s=!1,i=f2e;else if(o>=g2e){var c=e?null:p2e(t);if(c)return m2e(c);s=!1,i=h2e,l=new u2e}else l=e?[]:a;e:for(;++r<o;){var u=t[r],d=e?e(u):u;if(u=n||u!==0?u:0,s&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;e&&l.push(d),a.push(u)}else i(l,d,n)||(l!==a&&l.push(d),a.push(u))}return a}var v2e=y2e,x2e=qo,b2e=v2e;function w2e(t,e){return t&&t.length?b2e(t,x2e(e)):[]}var _2e=w2e;const rF=Ze(_2e);function hX(t,e,n){return e===!0?rF(t,n):Pe(e)?rF(t,e):t}function If(t){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},If(t)}var S2e=["ref"];function iF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iF(Object(n),!0).forEach(function(r){b1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function T2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mX(r.key),r)}}function E2e(t,e,n){return e&&oF(t.prototype,e),n&&oF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function A2e(t,e,n){return e=Ab(e),P2e(t,pX()?Reflect.construct(e,n||[],Ab(t).constructor):e.apply(t,n))}function P2e(t,e){if(e&&(If(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I2e(t)}function I2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pX=function(){return!!t})()}function Ab(t){return Ab=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ab(t)}function C2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GP(t,e)}function GP(t,e){return GP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},GP(t,e)}function b1(t,e,n){return e=mX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mX(t){var e=k2e(t,"string");return If(e)=="symbol"?e:e+""}function k2e(t,e){if(If(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(If(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function N2e(t,e){if(t==null)return{};var n=O2e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function O2e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function j2e(t){return t.value}function R2e(t,e){if(M.isValidElement(t))return M.cloneElement(t,e);if(typeof t=="function")return M.createElement(t,e);e.ref;var n=N2e(e,S2e);return M.createElement(rj,n)}var sF=1,Bd=function(t){function e(){var n;T2e(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=A2e(this,e,[].concat(i)),b1(n,"lastBoundingBox",{width:-1,height:-1}),n}return C2e(e,t),E2e(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>sF||Math.abs(i.height-this.lastBoundingBox.height)>sF)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Jo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,s=i.align,a=i.verticalAlign,l=i.margin,c=i.chartWidth,u=i.chartHeight,d,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&o==="vertical"){var p=this.getBBoxSnapshot();d={left:((c||0)-p.width)/2}}else d=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(a==="middle"){var v=this.getBBoxSnapshot();h={top:((u||0)-v.height)/2}}else h=a==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Jo(Jo({},d),h)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,s=i.width,a=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,u=i.payload,d=Jo(Jo({position:"absolute",width:s||"auto",height:a||"auto"},this.getDefaultPosition(l)),l);return M.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(p){r.wrapperNode=p}},R2e(o,Jo(Jo({},this.props),{},{payload:hX(u,c,j2e)})))}}],[{key:"getWithHeight",value:function(r,i){var o=Jo(Jo({},this.defaultProps),r.props),s=o.layout;return s==="vertical"&&ae(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}(_.PureComponent);b1(Bd,"displayName","Legend");b1(Bd,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var aF=Ry,D2e=oj,M2e=Or,lF=aF?aF.isConcatSpreadable:void 0;function $2e(t){return M2e(t)||D2e(t)||!!(lF&&t&&t[lF])}var L2e=$2e,V2e=tX,F2e=L2e;function gX(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=F2e),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?gX(a,e-1,n,r,i):V2e(i,a):r||(i[i.length]=a)}return i}var yX=gX;function B2e(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var l=s[t?a:++i];if(n(o[l],l,o)===!1)break}return e}}var U2e=B2e,z2e=U2e,W2e=z2e(),q2e=W2e,G2e=q2e,H2e=x1;function K2e(t,e){return t&&G2e(t,e,H2e)}var vX=K2e,Y2e=Dy;function X2e(t,e){return function(n,r){if(n==null)return n;if(!Y2e(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=Object(n);(e?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}var Q2e=X2e,J2e=vX,Z2e=Q2e,eDe=Z2e(J2e),cj=eDe,tDe=cj,nDe=Dy;function rDe(t,e){var n=-1,r=nDe(t)?Array(t.length):[];return tDe(t,function(i,o,s){r[++n]=e(i,o,s)}),r}var xX=rDe;function iDe(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var oDe=iDe,cF=_h;function sDe(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=cF(t),s=e!==void 0,a=e===null,l=e===e,c=cF(e);if(!a&&!c&&!o&&t>e||o&&s&&l&&!a&&!c||r&&s&&l||!n&&l||!i)return 1;if(!r&&!o&&!c&&t<e||c&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!l)return-1}return 0}var aDe=sDe,lDe=aDe;function cDe(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;++r<s;){var l=lDe(i[r],o[r]);if(l){if(r>=a)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return t.index-e.index}var uDe=cDe,zT=HO,dDe=KO,fDe=qo,hDe=xX,pDe=oDe,mDe=iX,gDe=uDe,yDe=kh,vDe=Or;function xDe(t,e,n){e.length?e=zT(e,function(o){return vDe(o)?function(s){return dDe(s,o.length===1?o[0]:o)}:o}):e=[yDe];var r=-1;e=zT(e,mDe(fDe));var i=hDe(t,function(o,s,a){var l=zT(e,function(c){return c(o)});return{criteria:l,index:++r,value:o}});return pDe(i,function(o,s){return gDe(o,s,n)})}var bDe=xDe;function wDe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var _De=wDe,SDe=_De,uF=Math.max;function TDe(t,e,n){return e=uF(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=uF(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),SDe(t,this,a)}}var EDe=TDe;function ADe(t){return function(){return t}}var PDe=ADe,IDe=Eu,CDe=function(){try{var t=IDe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),bX=CDe,kDe=PDe,dF=bX,NDe=kh,ODe=dF?function(t,e){return dF(t,"toString",{configurable:!0,enumerable:!1,value:kDe(e),writable:!0})}:NDe,jDe=ODe,RDe=800,DDe=16,MDe=Date.now;function $De(t){var e=0,n=0;return function(){var r=MDe(),i=DDe-(r-n);if(n=r,i>0){if(++e>=RDe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var LDe=$De,VDe=jDe,FDe=LDe,BDe=FDe(VDe),UDe=BDe,zDe=kh,WDe=EDe,qDe=UDe;function GDe(t,e){return qDe(WDe(t,e,zDe),t+"")}var HDe=GDe,KDe=zO,YDe=Dy,XDe=sj,QDe=Il;function JDe(t,e,n){if(!QDe(n))return!1;var r=typeof e;return(r=="number"?YDe(n)&&XDe(e,n.length):r=="string"&&e in n)?KDe(n[e],t):!1}var w1=JDe,ZDe=yX,eMe=bDe,tMe=HDe,fF=w1,nMe=tMe(function(t,e){if(t==null)return[];var n=e.length;return n>1&&fF(t,e[0],e[1])?e=[]:n>2&&fF(e[0],e[1],e[2])&&(e=[e[0]]),eMe(t,ZDe(e,1),[])}),rMe=nMe;const uj=Ze(rMe);function mg(t){"@babel/helpers - typeof";return mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mg(t)}function HP(){return HP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},HP.apply(this,arguments)}function iMe(t,e){return lMe(t)||aMe(t,e)||sMe(t,e)||oMe()}function oMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sMe(t,e){if(t){if(typeof t=="string")return hF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hF(t,e)}}function hF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function aMe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function lMe(t){if(Array.isArray(t))return t}function pF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pF(Object(n),!0).forEach(function(r){cMe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cMe(t,e,n){return e=uMe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uMe(t){var e=dMe(t,"string");return mg(e)=="symbol"?e:e+""}function dMe(t,e){if(mg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(mg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fMe(t){return Array.isArray(t)&&yn(t[0])&&yn(t[1])?t.join(" ~ "):t}var hMe=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,s=e.itemStyle,a=s===void 0?{}:s,l=e.labelStyle,c=l===void 0?{}:l,u=e.payload,d=e.formatter,h=e.itemSorter,p=e.wrapperClassName,v=e.labelClassName,m=e.label,y=e.labelFormatter,b=e.accessibilityLayer,x=b===void 0?!1:b,w=function(){if(u&&u.length){var C={padding:0,margin:0},j=(h?uj(u,h):u).map(function($,B){if($.type==="none")return null;var U=WT({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},a),z=$.formatter||d||fMe,V=$.value,L=$.name,Y=V,K=L;if(z&&Y!=null&&K!=null){var F=z(V,L,$,B,u);if(Array.isArray(F)){var te=iMe(F,2);Y=te[0],K=te[1]}else Y=F}return M.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:U},yn(K)?M.createElement("span",{className:"recharts-tooltip-item-name"},K):null,yn(K)?M.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,M.createElement("span",{className:"recharts-tooltip-item-value"},Y),M.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return M.createElement("ul",{className:"recharts-tooltip-item-list",style:C},j)}return null},E=WT({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),S=WT({margin:0},c),P=!Oe(m),T=P?m:"",A=je("recharts-default-tooltip",p),k=je("recharts-tooltip-label",v);P&&y&&u!==void 0&&u!==null&&(T=y(m,u));var O=x?{role:"status","aria-live":"assertive"}:{};return M.createElement("div",HP({className:A,style:E},O),M.createElement("p",{className:k,style:S},M.isValidElement(T)?T:"".concat(T)),w())};function gg(t){"@babel/helpers - typeof";return gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gg(t)}function Gv(t,e,n){return e=pMe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pMe(t){var e=mMe(t,"string");return gg(e)=="symbol"?e:e+""}function mMe(t,e){if(gg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hp="recharts-tooltip-wrapper",gMe={visibility:"hidden"};function yMe(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return je(hp,Gv(Gv(Gv(Gv({},"".concat(hp,"-right"),ae(n)&&e&&ae(e.x)&&n>=e.x),"".concat(hp,"-left"),ae(n)&&e&&ae(e.x)&&n<e.x),"".concat(hp,"-bottom"),ae(r)&&e&&ae(e.y)&&r>=e.y),"".concat(hp,"-top"),ae(r)&&e&&ae(e.y)&&r<e.y))}function mF(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,s=t.reverseDirection,a=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(o&&ae(o[r]))return o[r];var u=n[r]-a-i,d=n[r]+i;if(e[r])return s[r]?u:d;if(s[r]){var h=u,p=l[r];return h<p?Math.max(d,l[r]):Math.max(u,l[r])}var v=d+a,m=l[r]+c;return v>m?Math.max(u,l[r]):Math.max(d,l[r])}function vMe(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function xMe(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,s=t.tooltipBox,a=t.useTranslate3d,l=t.viewBox,c,u,d;return s.height>0&&s.width>0&&n?(u=mF({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),d=mF({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=vMe({translateX:u,translateY:d,useTranslate3d:a})):c=gMe,{cssProperties:c,cssClasses:yMe({translateX:u,translateY:d,coordinate:n})}}function Cf(t){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cf(t)}function gF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gF(Object(n),!0).forEach(function(r){YP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_X(r.key),r)}}function wMe(t,e,n){return e&&vF(t.prototype,e),n&&vF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _Me(t,e,n){return e=Pb(e),SMe(t,wX()?Reflect.construct(e,n||[],Pb(t).constructor):e.apply(t,n))}function SMe(t,e){if(e&&(Cf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TMe(t)}function TMe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wX=function(){return!!t})()}function Pb(t){return Pb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pb(t)}function EMe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KP(t,e)}function KP(t,e){return KP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},KP(t,e)}function YP(t,e,n){return e=_X(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _X(t){var e=AMe(t,"string");return Cf(e)=="symbol"?e:e+""}function AMe(t,e){if(Cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xF=1,PMe=function(t){function e(){var n;bMe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=_Me(this,e,[].concat(i)),YP(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),YP(n,"handleKeyDown",function(s){if(s.key==="Escape"){var a,l,c,u;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&a!==void 0?a:0,y:(c=(u=n.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),n}return EMe(e,t),wMe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>xF||Math.abs(r.height-this.state.lastBoundingBox.height)>xF)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,c=i.children,u=i.coordinate,d=i.hasPayload,h=i.isAnimationActive,p=i.offset,v=i.position,m=i.reverseDirection,y=i.useTranslate3d,b=i.viewBox,x=i.wrapperStyle,w=xMe({allowEscapeViewBox:s,coordinate:u,offsetTopLeft:p,position:v,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:b}),E=w.cssClasses,S=w.cssProperties,P=yF(yF({transition:h&&o?"transform ".concat(a,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&d?"visible":"hidden",position:"absolute",top:0,left:0},x);return M.createElement("div",{tabIndex:-1,className:E,style:P,ref:function(A){r.wrapperNode=A}},c)}}])}(_.PureComponent),IMe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ji={isSsr:IMe(),get:function(e){return Ji[e]},set:function(e,n){if(typeof e=="string")Ji[e]=n;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(i){Ji[i]=e[i]})}}};function kf(t){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kf(t)}function bF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bF(Object(n),!0).forEach(function(r){dj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _F(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TX(r.key),r)}}function kMe(t,e,n){return e&&_F(t.prototype,e),n&&_F(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function NMe(t,e,n){return e=Ib(e),OMe(t,SX()?Reflect.construct(e,n||[],Ib(t).constructor):e.apply(t,n))}function OMe(t,e){if(e&&(kf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jMe(t)}function jMe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SX=function(){return!!t})()}function Ib(t){return Ib=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ib(t)}function RMe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XP(t,e)}function XP(t,e){return XP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},XP(t,e)}function dj(t,e,n){return e=TX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TX(t){var e=DMe(t,"string");return kf(e)=="symbol"?e:e+""}function DMe(t,e){if(kf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(kf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function MMe(t){return t.dataKey}function $Me(t,e){return M.isValidElement(t)?M.cloneElement(t,e):typeof t=="function"?M.createElement(t,e):M.createElement(hMe,e)}var Br=function(t){function e(){return CMe(this,e),NMe(this,e,arguments)}return RMe(e,t),kMe(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,c=i.content,u=i.coordinate,d=i.filterNull,h=i.isAnimationActive,p=i.offset,v=i.payload,m=i.payloadUniqBy,y=i.position,b=i.reverseDirection,x=i.useTranslate3d,w=i.viewBox,E=i.wrapperStyle,S=v??[];d&&S.length&&(S=hX(v.filter(function(T){return T.value!=null&&(T.hide!==!0||r.props.includeHidden)}),m,MMe));var P=S.length>0;return M.createElement(PMe,{allowEscapeViewBox:s,animationDuration:a,animationEasing:l,isAnimationActive:h,active:o,coordinate:u,hasPayload:P,offset:p,position:y,reverseDirection:b,useTranslate3d:x,viewBox:w,wrapperStyle:E},$Me(c,wF(wF({},this.props),{},{payload:S})))}}])}(_.PureComponent);dj(Br,"displayName","Tooltip");dj(Br,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ji.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var LMe=Wo,VMe=function(){return LMe.Date.now()},FMe=VMe,BMe=/\s/;function UMe(t){for(var e=t.length;e--&&BMe.test(t.charAt(e)););return e}var zMe=UMe,WMe=zMe,qMe=/^\s+/;function GMe(t){return t&&t.slice(0,WMe(t)+1).replace(qMe,"")}var HMe=GMe,KMe=HMe,SF=Il,YMe=_h,TF=0/0,XMe=/^[-+]0x[0-9a-f]+$/i,QMe=/^0b[01]+$/i,JMe=/^0o[0-7]+$/i,ZMe=parseInt;function e$e(t){if(typeof t=="number")return t;if(YMe(t))return TF;if(SF(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=SF(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=KMe(t);var n=QMe.test(t);return n||JMe.test(t)?ZMe(t.slice(2),n?2:8):XMe.test(t)?TF:+t}var EX=e$e,t$e=Il,qT=FMe,EF=EX,n$e="Expected a function",r$e=Math.max,i$e=Math.min;function o$e(t,e,n){var r,i,o,s,a,l,c=0,u=!1,d=!1,h=!0;if(typeof t!="function")throw new TypeError(n$e);e=EF(e)||0,t$e(n)&&(u=!!n.leading,d="maxWait"in n,o=d?r$e(EF(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function p(P){var T=r,A=i;return r=i=void 0,c=P,s=t.apply(A,T),s}function v(P){return c=P,a=setTimeout(b,e),u?p(P):s}function m(P){var T=P-l,A=P-c,k=e-T;return d?i$e(k,o-A):k}function y(P){var T=P-l,A=P-c;return l===void 0||T>=e||T<0||d&&A>=o}function b(){var P=qT();if(y(P))return x(P);a=setTimeout(b,m(P))}function x(P){return a=void 0,h&&r?p(P):(r=i=void 0,s)}function w(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function E(){return a===void 0?s:x(qT())}function S(){var P=qT(),T=y(P);if(r=arguments,i=this,l=P,T){if(a===void 0)return v(l);if(d)return clearTimeout(a),a=setTimeout(b,e),p(l)}return a===void 0&&(a=setTimeout(b,e)),s}return S.cancel=w,S.flush=E,S}var s$e=o$e,a$e=s$e,l$e=Il,c$e="Expected a function";function u$e(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(c$e);return l$e(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),a$e(t,e,{leading:r,maxWait:e,trailing:i})}var d$e=u$e;const AX=Ze(d$e);function yg(t){"@babel/helpers - typeof";return yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yg(t)}function AF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AF(Object(n),!0).forEach(function(r){f$e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function f$e(t,e,n){return e=h$e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h$e(t){var e=p$e(t,"string");return yg(e)=="symbol"?e:e+""}function p$e(t,e){if(yg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(yg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function m$e(t,e){return x$e(t)||v$e(t,e)||y$e(t,e)||g$e()}function g$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y$e(t,e){if(t){if(typeof t=="string")return PF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PF(t,e)}}function PF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function v$e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function x$e(t){if(Array.isArray(t))return t}var Kv=_.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,s=o===void 0?"100%":o,a=t.height,l=a===void 0?"100%":a,c=t.minWidth,u=c===void 0?0:c,d=t.minHeight,h=t.maxHeight,p=t.children,v=t.debounce,m=v===void 0?0:v,y=t.id,b=t.className,x=t.onResize,w=t.style,E=w===void 0?{}:w,S=_.useRef(null),P=_.useRef();P.current=x,_.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var T=_.useState({containerWidth:i.width,containerHeight:i.height}),A=m$e(T,2),k=A[0],O=A[1],N=_.useCallback(function(j,$){O(function(B){var U=Math.round(j),z=Math.round($);return B.containerWidth===U&&B.containerHeight===z?B:{containerWidth:U,containerHeight:z}})},[]);_.useEffect(function(){var j=function(L){var Y,K=L[0].contentRect,F=K.width,te=K.height;N(F,te),(Y=P.current)===null||Y===void 0||Y.call(P,F,te)};m>0&&(j=AX(j,m,{trailing:!0,leading:!1}));var $=new ResizeObserver(j),B=S.current.getBoundingClientRect(),U=B.width,z=B.height;return N(U,z),$.observe(S.current),function(){$.disconnect()}},[N,m]);var C=_.useMemo(function(){var j=k.containerWidth,$=k.containerHeight;if(j<0||$<0)return null;Qi(pc(s)||pc(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),Qi(!n||n>0,"The aspect(%s) must be greater than zero.",n);var B=pc(s)?j:s,U=pc(l)?$:l;n&&n>0&&(B?U=B/n:U&&(B=U*n),h&&U>h&&(U=h)),Qi(B>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,B,U,s,l,u,d,n);var z=!Array.isArray(p)&&ys(p.type).endsWith("Chart");return M.Children.map(p,function(V){return M.isValidElement(V)?_.cloneElement(V,Hv({width:B,height:U},z?{style:Hv({height:"100%",width:"100%",maxHeight:U,maxWidth:B},V.props.style)}:{})):V})},[n,p,l,h,d,u,k,s]);return M.createElement("div",{id:y?"".concat(y):void 0,className:je("recharts-responsive-container",b),style:Hv(Hv({},E),{},{width:s,height:l,minWidth:u,minHeight:d,maxHeight:h}),ref:S},C)}),_1=function(e){return null};_1.displayName="Cell";function vg(t){"@babel/helpers - typeof";return vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vg(t)}function IF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IF(Object(n),!0).forEach(function(r){b$e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function b$e(t,e,n){return e=w$e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w$e(t){var e=_$e(t,"string");return vg(e)=="symbol"?e:e+""}function _$e(t,e){if(vg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gu={widthCache:{},cacheCount:0},S$e=2e3,T$e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},CF="recharts_measurement_span";function E$e(t){var e=QP({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var dm=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Ji.isSsr)return{width:0,height:0};var r=E$e(n),i=JSON.stringify({text:e,copyStyle:r});if(Gu.widthCache[i])return Gu.widthCache[i];try{var o=document.getElementById(CF);o||(o=document.createElement("span"),o.setAttribute("id",CF),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var s=QP(QP({},T$e),r);Object.assign(o.style,s),o.textContent="".concat(e);var a=o.getBoundingClientRect(),l={width:a.width,height:a.height};return Gu.widthCache[i]=l,++Gu.cacheCount>S$e&&(Gu.cacheCount=0,Gu.widthCache={}),l}catch{return{width:0,height:0}}},A$e=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function xg(t){"@babel/helpers - typeof";return xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xg(t)}function Cb(t,e){return k$e(t)||C$e(t,e)||I$e(t,e)||P$e()}function P$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I$e(t,e){if(t){if(typeof t=="string")return kF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kF(t,e)}}function kF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function C$e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function k$e(t){if(Array.isArray(t))return t}function N$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,j$e(r.key),r)}}function O$e(t,e,n){return e&&NF(t.prototype,e),n&&NF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function j$e(t){var e=R$e(t,"string");return xg(e)=="symbol"?e:e+""}function R$e(t,e){if(xg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var OF=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,jF=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,D$e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,M$e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,PX={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},$$e=Object.keys(PX),yd="NaN";function L$e(t,e){return t*PX[e]}var Yv=function(){function t(e,n){N$e(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!D$e.test(n)&&(this.num=NaN,this.unit=""),$$e.includes(n)&&(this.num=L$e(e,n),this.unit="px")}return O$e(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=M$e.exec(n))!==null&&r!==void 0?r:[],o=Cb(i,3),s=o[1],a=o[2];return new t(parseFloat(s),a??"")}}])}();function IX(t){if(t.includes(yd))return yd;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=OF.exec(e))!==null&&n!==void 0?n:[],i=Cb(r,4),o=i[1],s=i[2],a=i[3],l=Yv.parse(o??""),c=Yv.parse(a??""),u=s==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return yd;e=e.replace(OF,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,h=(d=jF.exec(e))!==null&&d!==void 0?d:[],p=Cb(h,4),v=p[1],m=p[2],y=p[3],b=Yv.parse(v??""),x=Yv.parse(y??""),w=m==="+"?b.add(x):b.subtract(x);if(w.isNaN())return yd;e=e.replace(jF,w.toString())}return e}var RF=/\(([^()]*)\)/;function V$e(t){for(var e=t;e.includes("(");){var n=RF.exec(e),r=Cb(n,2),i=r[1];e=e.replace(RF,IX(i))}return e}function F$e(t){var e=t.replace(/\s+/g,"");return e=V$e(e),e=IX(e),e}function B$e(t){try{return F$e(t)}catch{return yd}}function GT(t){var e=B$e(t.slice(5,-1));return e===yd?"":e}var U$e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],z$e=["dx","dy","angle","className","breakAll"];function JP(){return JP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},JP.apply(this,arguments)}function DF(t,e){if(t==null)return{};var n=W$e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function W$e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function MF(t,e){return K$e(t)||H$e(t,e)||G$e(t,e)||q$e()}function q$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G$e(t,e){if(t){if(typeof t=="string")return $F(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $F(t,e)}}function $F(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function H$e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function K$e(t){if(Array.isArray(t))return t}var CX=/[ \f\n\r\t\v\u2028\u2029]+/,kX=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];Oe(n)||(r?o=n.toString().split(""):o=n.toString().split(CX));var s=o.map(function(l){return{word:l,width:dm(l,i).width}}),a=r?0:dm("",i).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},Y$e=function(e,n,r,i,o){var s=e.maxLines,a=e.children,l=e.style,c=e.breakAll,u=ae(s),d=a,h=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce(function(U,z){var V=z.word,L=z.width,Y=U[U.length-1];if(Y&&(i==null||o||Y.width+L+r<Number(i)))Y.words.push(V),Y.width+=L+r;else{var K={words:[V],width:L};U.push(K)}return U},[])},p=h(n),v=function(B){return B.reduce(function(U,z){return U.width>z.width?U:z})};if(!u)return p;for(var m="",y=function(B){var U=d.slice(0,B),z=kX({breakAll:c,style:l,children:U+m}).wordsWithComputedWidth,V=h(z),L=V.length>s||v(V).width>Number(i);return[L,V]},b=0,x=d.length-1,w=0,E;b<=x&&w<=d.length-1;){var S=Math.floor((b+x)/2),P=S-1,T=y(P),A=MF(T,2),k=A[0],O=A[1],N=y(S),C=MF(N,1),j=C[0];if(!k&&!j&&(b=S+1),k&&j&&(x=S-1),!k&&j){E=O;break}w++}return E||p},LF=function(e){var n=Oe(e)?[]:e.toString().split(CX);return[{words:n}]},X$e=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,s=e.breakAll,a=e.maxLines;if((n||r)&&!Ji.isSsr){var l,c,u=kX({breakAll:s,children:i,style:o});if(u){var d=u.wordsWithComputedWidth,h=u.spaceWidth;l=d,c=h}else return LF(i);return Y$e({breakAll:s,children:i,maxLines:a,style:o},l,c,n,r)}return LF(i)},VF="#808080",ru=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.lineHeight,a=s===void 0?"1em":s,l=e.capHeight,c=l===void 0?"0.71em":l,u=e.scaleToFit,d=u===void 0?!1:u,h=e.textAnchor,p=h===void 0?"start":h,v=e.verticalAnchor,m=v===void 0?"end":v,y=e.fill,b=y===void 0?VF:y,x=DF(e,U$e),w=_.useMemo(function(){return X$e({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:d,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,d,x.style,x.width]),E=x.dx,S=x.dy,P=x.angle,T=x.className,A=x.breakAll,k=DF(x,z$e);if(!yn(r)||!yn(o))return null;var O=r+(ae(E)?E:0),N=o+(ae(S)?S:0),C;switch(m){case"start":C=GT("calc(".concat(c,")"));break;case"middle":C=GT("calc(".concat((w.length-1)/2," * -").concat(a," + (").concat(c," / 2))"));break;default:C=GT("calc(".concat(w.length-1," * -").concat(a,")"));break}var j=[];if(d){var $=w[0].width,B=x.width;j.push("scale(".concat((ae(B)?B/$:1)/$,")"))}return P&&j.push("rotate(".concat(P,", ").concat(O,", ").concat(N,")")),j.length&&(k.transform=j.join(" ")),M.createElement("text",JP({},Ee(k,!0),{x:O,y:N,className:je("recharts-text",T),textAnchor:p,fill:b.includes("url")?VF:b}),w.map(function(U,z){var V=U.words.join(A?"":" ");return M.createElement("tspan",{x:O,dy:z===0?C:a,key:"".concat(V,"-").concat(z)},V)}))};function Ya(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Q$e(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function fj(t){let e,n,r;t.length!==2?(e=Ya,n=(a,l)=>Ya(t(a),l),r=(a,l)=>t(a)-l):(e=t===Ya||t===Q$e?t:J$e,n=t,r=t);function i(a,l,c=0,u=a.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;n(a[d],l)<0?c=d+1:u=d}while(c<u)}return c}function o(a,l,c=0,u=a.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;n(a[d],l)<=0?c=d+1:u=d}while(c<u)}return c}function s(a,l,c=0,u=a.length){const d=i(a,l,c,u-1);return d>c&&r(a[d-1],l)>-r(a[d],l)?d-1:d}return{left:i,center:s,right:o}}function J$e(){return 0}function NX(t){return t===null?NaN:+t}function*Z$e(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)(r=e(r,++n,t))!=null&&(r=+r)>=r&&(yield r)}}const eLe=fj(Ya),tLe=eLe.right;fj(NX).center;const My=tLe;class FF extends Map{constructor(e,n=iLe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(BF(this,e))}has(e){return super.has(BF(this,e))}set(e,n){return super.set(nLe(this,e),n)}delete(e){return super.delete(rLe(this,e))}}function BF({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function nLe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function rLe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function iLe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function oLe(t=Ya){if(t===Ya)return OX;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function OX(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const sLe=Math.sqrt(50),aLe=Math.sqrt(10),lLe=Math.sqrt(2);function kb(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=sLe?10:o>=aLe?5:o>=lLe?2:1;let a,l,c;return i<0?(c=Math.pow(10,-i)/s,a=Math.round(t*c),l=Math.round(e*c),a/c<t&&++a,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*s,a=Math.round(t/c),l=Math.round(e/c),a*c<t&&++a,l*c>e&&--l),l<a&&.5<=n&&n<2?kb(t,e,n*2):[a,l,c]}function ZP(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?kb(e,t,n):kb(t,e,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let c=0;c<a;++c)l[c]=(o-c)/-s;else for(let c=0;c<a;++c)l[c]=(o-c)*s;else if(s<0)for(let c=0;c<a;++c)l[c]=(i+c)/-s;else for(let c=0;c<a;++c)l[c]=(i+c)*s;return l}function eI(t,e,n){return e=+e,t=+t,n=+n,kb(t,e,n)[2]}function tI(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?eI(e,t,n):eI(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function UF(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function zF(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function jX(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?OX:oLe(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,u=Math.log(l),d=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*d*(l-d)/l)*(c-l/2<0?-1:1),p=Math.max(n,Math.floor(e-c*d/l+h)),v=Math.min(r,Math.floor(e+(l-c)*d/l+h));jX(t,e,p,v,i)}const o=t[e];let s=n,a=r;for(pp(t,n,e),i(t[r],o)>0&&pp(t,n,r);s<a;){for(pp(t,s,a),++s,--a;i(t[s],o)<0;)++s;for(;i(t[a],o)>0;)--a}i(t[n],o)===0?pp(t,n,a):(++a,pp(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function pp(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function cLe(t,e,n){if(t=Float64Array.from(Z$e(t,n)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return zF(t);if(e>=1)return UF(t);var r,i=(r-1)*e,o=Math.floor(i),s=UF(jX(t,o).subarray(0,o+1)),a=zF(t.subarray(o+1));return s+(a-s)*(i-o)}}function uLe(t,e,n=NX){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t),a=+n(t[o+1],o+1,t);return s+(a-s)*(i-o)}}function dLe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function ji(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Gs(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const nI=Symbol("implicit");function hj(){var t=new FF,e=[],n=[],r=nI;function i(o){let s=t.get(o);if(s===void 0){if(r!==nI)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new FF;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return hj(e,n).unknown(r)},ji.apply(i,arguments),i}function bg(){var t=hj().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,s,a=!1,l=0,c=0,u=.5;delete t.unknown;function d(){var h=e().length,p=i<r,v=p?i:r,m=p?r:i;o=(m-v)/Math.max(1,h-l+c*2),a&&(o=Math.floor(o)),v+=(m-v-o*(h-l))*u,s=o*(1-l),a&&(v=Math.round(v),s=Math.round(s));var y=dLe(h).map(function(b){return v+o*b});return n(p?y.reverse():y)}return t.domain=function(h){return arguments.length?(e(h),d()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,a=!0,d()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(h){return arguments.length?(a=!!h,d()):a},t.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),d()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},t.paddingOuter=function(h){return arguments.length?(c=+h,d()):c},t.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),d()):u},t.copy=function(){return bg(e(),[r,i]).round(a).paddingInner(l).paddingOuter(c).align(u)},ji.apply(d(),arguments)}function RX(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return RX(e())},t}function fm(){return RX(bg.apply(null,arguments).paddingInner(1))}function pj(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function DX(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function $y(){}var wg=.7,Nb=1/wg,Ud="\\s*([+-]?\\d+)\\s*",_g="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Mo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fLe=/^#([0-9a-f]{3,8})$/,hLe=new RegExp(`^rgb\\(${Ud},${Ud},${Ud}\\)$`),pLe=new RegExp(`^rgb\\(${Mo},${Mo},${Mo}\\)$`),mLe=new RegExp(`^rgba\\(${Ud},${Ud},${Ud},${_g}\\)$`),gLe=new RegExp(`^rgba\\(${Mo},${Mo},${Mo},${_g}\\)$`),yLe=new RegExp(`^hsl\\(${_g},${Mo},${Mo}\\)$`),vLe=new RegExp(`^hsla\\(${_g},${Mo},${Mo},${_g}\\)$`),WF={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};pj($y,Sg,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:qF,formatHex:qF,formatHex8:xLe,formatHsl:bLe,formatRgb:GF,toString:GF});function qF(){return this.rgb().formatHex()}function xLe(){return this.rgb().formatHex8()}function bLe(){return MX(this).formatHsl()}function GF(){return this.rgb().formatRgb()}function Sg(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=fLe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?HF(e):n===3?new Er(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Xv(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Xv(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=hLe.exec(t))?new Er(e[1],e[2],e[3],1):(e=pLe.exec(t))?new Er(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=mLe.exec(t))?Xv(e[1],e[2],e[3],e[4]):(e=gLe.exec(t))?Xv(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=yLe.exec(t))?XF(e[1],e[2]/100,e[3]/100,1):(e=vLe.exec(t))?XF(e[1],e[2]/100,e[3]/100,e[4]):WF.hasOwnProperty(t)?HF(WF[t]):t==="transparent"?new Er(NaN,NaN,NaN,0):null}function HF(t){return new Er(t>>16&255,t>>8&255,t&255,1)}function Xv(t,e,n,r){return r<=0&&(t=e=n=NaN),new Er(t,e,n,r)}function wLe(t){return t instanceof $y||(t=Sg(t)),t?(t=t.rgb(),new Er(t.r,t.g,t.b,t.opacity)):new Er}function rI(t,e,n,r){return arguments.length===1?wLe(t):new Er(t,e,n,r??1)}function Er(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}pj(Er,rI,DX($y,{brighter(t){return t=t==null?Nb:Math.pow(Nb,t),new Er(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?wg:Math.pow(wg,t),new Er(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Er(Ec(this.r),Ec(this.g),Ec(this.b),Ob(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:KF,formatHex:KF,formatHex8:_Le,formatRgb:YF,toString:YF}));function KF(){return`#${mc(this.r)}${mc(this.g)}${mc(this.b)}`}function _Le(){return`#${mc(this.r)}${mc(this.g)}${mc(this.b)}${mc((isNaN(this.opacity)?1:this.opacity)*255)}`}function YF(){const t=Ob(this.opacity);return`${t===1?"rgb(":"rgba("}${Ec(this.r)}, ${Ec(this.g)}, ${Ec(this.b)}${t===1?")":`, ${t})`}`}function Ob(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ec(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function mc(t){return t=Ec(t),(t<16?"0":"")+t.toString(16)}function XF(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Wi(t,e,n,r)}function MX(t){if(t instanceof Wi)return new Wi(t.h,t.s,t.l,t.opacity);if(t instanceof $y||(t=Sg(t)),!t)return new Wi;if(t instanceof Wi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(e===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-e)/a+2:s=(e-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new Wi(s,a,l,t.opacity)}function SLe(t,e,n,r){return arguments.length===1?MX(t):new Wi(t,e,n,r??1)}function Wi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}pj(Wi,SLe,DX($y,{brighter(t){return t=t==null?Nb:Math.pow(Nb,t),new Wi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?wg:Math.pow(wg,t),new Wi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Er(HT(t>=240?t-240:t+120,i,r),HT(t,i,r),HT(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Wi(QF(this.h),Qv(this.s),Qv(this.l),Ob(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ob(this.opacity);return`${t===1?"hsl(":"hsla("}${QF(this.h)}, ${Qv(this.s)*100}%, ${Qv(this.l)*100}%${t===1?")":`, ${t})`}`}}));function QF(t){return t=(t||0)%360,t<0?t+360:t}function Qv(t){return Math.max(0,Math.min(1,t||0))}function HT(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const mj=t=>()=>t;function TLe(t,e){return function(n){return t+n*e}}function ELe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function ALe(t){return(t=+t)==1?$X:function(e,n){return n-e?ELe(e,n,t):mj(isNaN(e)?n:e)}}function $X(t,e){var n=e-t;return n?TLe(t,n):mj(isNaN(t)?e:t)}const JF=function t(e){var n=ALe(e);function r(i,o){var s=n((i=rI(i)).r,(o=rI(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),c=$X(i.opacity,o.opacity);return function(u){return i.r=s(u),i.g=a(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=t,r}(1);function PLe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function ILe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function CLe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=Nh(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function kLe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function jb(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function NLe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Nh(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var iI=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,KT=new RegExp(iI.source,"g");function OLe(t){return function(){return t}}function jLe(t){return function(e){return t(e)+""}}function RLe(t,e){var n=iI.lastIndex=KT.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(t=t+"",e=e+"";(r=iI.exec(t))&&(i=KT.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:jb(r,i)})),n=KT.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?jLe(l[0].x):OLe(e):(e=l.length,function(c){for(var u=0,d;u<e;++u)a[(d=l[u]).i]=d.x(c);return a.join("")})}function Nh(t,e){var n=typeof e,r;return e==null||n==="boolean"?mj(e):(n==="number"?jb:n==="string"?(r=Sg(e))?(e=r,JF):RLe:e instanceof Sg?JF:e instanceof Date?kLe:ILe(e)?PLe:Array.isArray(e)?CLe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?NLe:jb)(t,e)}function gj(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function DLe(t,e){e===void 0&&(e=t,t=Nh);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function MLe(t){return function(){return t}}function Rb(t){return+t}var ZF=[0,1];function cr(t){return t}function oI(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:MLe(isNaN(e)?NaN:.5)}function $Le(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function LLe(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=oI(i,r),o=n(s,o)):(r=oI(r,i),o=n(o,s)),function(a){return o(r(a))}}function VLe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=oI(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(a){var l=My(t,a,1,r)-1;return o[l](i[l](a))}}function Ly(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function S1(){var t=ZF,e=ZF,n=Nh,r,i,o,s=cr,a,l,c;function u(){var h=Math.min(t.length,e.length);return s!==cr&&(s=$Le(t[0],t[h-1])),a=h>2?VLe:LLe,l=c=null,d}function d(h){return h==null||isNaN(h=+h)?o:(l||(l=a(t.map(r),e,n)))(r(s(h)))}return d.invert=function(h){return s(i((c||(c=a(e,t.map(r),jb)))(h)))},d.domain=function(h){return arguments.length?(t=Array.from(h,Rb),u()):t.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),u()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),n=gj,u()},d.clamp=function(h){return arguments.length?(s=h?!0:cr,u()):s!==cr},d.interpolate=function(h){return arguments.length?(n=h,u()):n},d.unknown=function(h){return arguments.length?(o=h,d):o},function(h,p){return r=h,i=p,u()}}function yj(){return S1()(cr,cr)}function FLe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Db(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Nf(t){return t=Db(Math.abs(t)),t?t[1]:NaN}function BLe(t,e){return function(n,r){for(var i=n.length,o=[],s=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}function ULe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var zLe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Tg(t){if(!(e=zLe.exec(t)))throw new Error("invalid format: "+t);var e;return new vj({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Tg.prototype=vj.prototype;function vj(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}vj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function WLe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var LX;function qLe(t,e){var n=Db(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(LX=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Db(t,Math.max(0,e+o-1))[0]}function e4(t,e){var n=Db(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const t4={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:FLe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>e4(t*100,e),r:e4,s:qLe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function n4(t){return t}var r4=Array.prototype.map,i4=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function GLe(t){var e=t.grouping===void 0||t.thousands===void 0?n4:BLe(r4.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?n4:ULe(r4.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(d){d=Tg(d);var h=d.fill,p=d.align,v=d.sign,m=d.symbol,y=d.zero,b=d.width,x=d.comma,w=d.precision,E=d.trim,S=d.type;S==="n"?(x=!0,S="g"):t4[S]||(w===void 0&&(w=12),E=!0,S="g"),(y||h==="0"&&p==="=")&&(y=!0,h="0",p="=");var P=m==="$"?n:m==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",T=m==="$"?r:/[%p]/.test(S)?s:"",A=t4[S],k=/[defgprs%]/.test(S);w=w===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function O(N){var C=P,j=T,$,B,U;if(S==="c")j=A(N)+j,N="";else{N=+N;var z=N<0||1/N<0;if(N=isNaN(N)?l:A(Math.abs(N),w),E&&(N=WLe(N)),z&&+N==0&&v!=="+"&&(z=!1),C=(z?v==="("?v:a:v==="-"||v==="("?"":v)+C,j=(S==="s"?i4[8+LX/3]:"")+j+(z&&v==="("?")":""),k){for($=-1,B=N.length;++$<B;)if(U=N.charCodeAt($),48>U||U>57){j=(U===46?i+N.slice($+1):N.slice($))+j,N=N.slice(0,$);break}}}x&&!y&&(N=e(N,1/0));var V=C.length+N.length+j.length,L=V<b?new Array(b-V+1).join(h):"";switch(x&&y&&(N=e(L+N,L.length?b-j.length:1/0),L=""),p){case"<":N=C+N+j+L;break;case"=":N=C+L+N+j;break;case"^":N=L.slice(0,V=L.length>>1)+C+N+j+L.slice(V);break;default:N=L+C+N+j;break}return o(N)}return O.toString=function(){return d+""},O}function u(d,h){var p=c((d=Tg(d),d.type="f",d)),v=Math.max(-8,Math.min(8,Math.floor(Nf(h)/3)))*3,m=Math.pow(10,-v),y=i4[8+v/3];return function(b){return p(m*b)+y}}return{format:c,formatPrefix:u}}var Jv,xj,VX;HLe({thousands:",",grouping:[3],currency:["$",""]});function HLe(t){return Jv=GLe(t),xj=Jv.format,VX=Jv.formatPrefix,Jv}function KLe(t){return Math.max(0,-Nf(Math.abs(t)))}function YLe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Nf(e)/3)))*3-Nf(Math.abs(t)))}function XLe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Nf(e)-Nf(t))+1}function FX(t,e,n,r){var i=tI(t,e,n),o;switch(r=Tg(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=YLe(i,s))&&(r.precision=o),VX(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=XLe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=KLe(i))&&(r.precision=o-(r.type==="%")*2);break}}return xj(r)}function Cl(t){var e=t.domain;return t.ticks=function(n){var r=e();return ZP(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return FX(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],a=r[o],l,c,u=10;for(a<s&&(c=s,s=a,a=c,c=i,i=o,o=c);u-- >0;){if(c=eI(s,a,n),c===l)return r[i]=s,r[o]=a,e(r);if(c>0)s=Math.floor(s/c)*c,a=Math.ceil(a/c)*c;else if(c<0)s=Math.ceil(s*c)/c,a=Math.floor(a*c)/c;else break;l=c}return t},t}function Mb(){var t=yj();return t.copy=function(){return Ly(t,Mb())},ji.apply(t,arguments),Cl(t)}function BX(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Rb),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return BX(t).unknown(e)},t=arguments.length?Array.from(t,Rb):[0,1],Cl(n)}function UX(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),t[n]=e.floor(i),t[r]=e.ceil(o),t}function o4(t){return Math.log(t)}function s4(t){return Math.exp(t)}function QLe(t){return-Math.log(-t)}function JLe(t){return-Math.exp(-t)}function ZLe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function eVe(t){return t===10?ZLe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function tVe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function a4(t){return(e,n)=>-t(-e,n)}function bj(t){const e=t(o4,s4),n=e.domain;let r=10,i,o;function s(){return i=tVe(r),o=eVe(r),n()[0]<0?(i=a4(i),o=a4(o),t(QLe,JLe)):t(o4,s4),e}return e.base=function(a){return arguments.length?(r=+a,s()):r},e.domain=function(a){return arguments.length?(n(a),s()):n()},e.ticks=a=>{const l=n();let c=l[0],u=l[l.length-1];const d=u<c;d&&([c,u]=[u,c]);let h=i(c),p=i(u),v,m;const y=a==null?10:+a;let b=[];if(!(r%1)&&p-h<y){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(v=1;v<r;++v)if(m=h<0?v/o(-h):v*o(h),!(m<c)){if(m>u)break;b.push(m)}}else for(;h<=p;++h)for(v=r-1;v>=1;--v)if(m=h>0?v/o(-h):v*o(h),!(m<c)){if(m>u)break;b.push(m)}b.length*2<y&&(b=ZP(c,u,y))}else b=ZP(h,p,Math.min(p-h,y)).map(o);return d?b.reverse():b},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Tg(l)).precision==null&&(l.trim=!0),l=xj(l)),a===1/0)return l;const c=Math.max(1,r*a/e.ticks().length);return u=>{let d=u/o(Math.round(i(u)));return d*r<r-.5&&(d*=r),d<=c?l(u):""}},e.nice=()=>n(UX(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),e}function zX(){const t=bj(S1()).domain([1,10]);return t.copy=()=>Ly(t,zX()).base(t.base()),ji.apply(t,arguments),t}function l4(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function c4(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function wj(t){var e=1,n=t(l4(e),c4(e));return n.constant=function(r){return arguments.length?t(l4(e=+r),c4(e)):e},Cl(n)}function WX(){var t=wj(S1());return t.copy=function(){return Ly(t,WX()).constant(t.constant())},ji.apply(t,arguments)}function u4(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function nVe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function rVe(t){return t<0?-t*t:t*t}function _j(t){var e=t(cr,cr),n=1;function r(){return n===1?t(cr,cr):n===.5?t(nVe,rVe):t(u4(n),u4(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Cl(e)}function Sj(){var t=_j(S1());return t.copy=function(){return Ly(t,Sj()).exponent(t.exponent())},ji.apply(t,arguments),t}function iVe(){return Sj.apply(null,arguments).exponent(.5)}function d4(t){return Math.sign(t)*t*t}function oVe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function qX(){var t=yj(),e=[0,1],n=!1,r;function i(o){var s=oVe(t(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return t.invert(d4(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Rb)).map(d4)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return qX(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ji.apply(i,arguments),Cl(i)}function GX(){var t=[],e=[],n=[],r;function i(){var s=0,a=Math.max(1,e.length);for(n=new Array(a-1);++s<a;)n[s-1]=uLe(t,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:e[My(n,s)]}return o.invertExtent=function(s){var a=e.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let a of s)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Ya),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return GX().domain(t).range(e).unknown(r)},ji.apply(o,arguments)}function HX(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function s(l){return l!=null&&l<=l?i[My(r,l,0,n)]:o}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,a()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},s.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},s.unknown=function(l){return arguments.length&&(o=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return HX().domain([t,e]).range(i).unknown(o)},ji.apply(Cl(s),arguments)}function KX(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[My(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return KX().domain(t).range(e).unknown(n)},ji.apply(i,arguments)}const YT=new Date,XT=new Date;function wn(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const l=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;let c;do l.push(c=new Date(+o)),e(o,a),t(o);while(c<o&&o<s);return l},i.filter=o=>wn(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;e(s,-1),!o(s););else for(;--a>=0;)for(;e(s,1),!o(s););}),n&&(i.count=(o,s)=>(YT.setTime(+o),XT.setTime(+s),t(YT),t(XT),Math.floor(n(YT,XT))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const $b=wn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);$b.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?wn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):$b);$b.range;const cs=1e3,wi=cs*60,us=wi*60,Os=us*24,Tj=Os*7,f4=Os*30,QT=Os*365,gc=wn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*cs)},(t,e)=>(e-t)/cs,t=>t.getUTCSeconds());gc.range;const Ej=wn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*cs)},(t,e)=>{t.setTime(+t+e*wi)},(t,e)=>(e-t)/wi,t=>t.getMinutes());Ej.range;const Aj=wn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*wi)},(t,e)=>(e-t)/wi,t=>t.getUTCMinutes());Aj.range;const Pj=wn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*cs-t.getMinutes()*wi)},(t,e)=>{t.setTime(+t+e*us)},(t,e)=>(e-t)/us,t=>t.getHours());Pj.range;const Ij=wn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*us)},(t,e)=>(e-t)/us,t=>t.getUTCHours());Ij.range;const Vy=wn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*wi)/Os,t=>t.getDate()-1);Vy.range;const T1=wn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Os,t=>t.getUTCDate()-1);T1.range;const YX=wn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Os,t=>Math.floor(t/Os));YX.range;function Pu(t){return wn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*wi)/Tj)}const E1=Pu(0),Lb=Pu(1),sVe=Pu(2),aVe=Pu(3),Of=Pu(4),lVe=Pu(5),cVe=Pu(6);E1.range;Lb.range;sVe.range;aVe.range;Of.range;lVe.range;cVe.range;function Iu(t){return wn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Tj)}const A1=Iu(0),Vb=Iu(1),uVe=Iu(2),dVe=Iu(3),jf=Iu(4),fVe=Iu(5),hVe=Iu(6);A1.range;Vb.range;uVe.range;dVe.range;jf.range;fVe.range;hVe.range;const Cj=wn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Cj.range;const kj=wn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());kj.range;const js=wn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());js.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:wn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});js.range;const Rs=wn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Rs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:wn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Rs.range;function XX(t,e,n,r,i,o){const s=[[gc,1,cs],[gc,5,5*cs],[gc,15,15*cs],[gc,30,30*cs],[o,1,wi],[o,5,5*wi],[o,15,15*wi],[o,30,30*wi],[i,1,us],[i,3,3*us],[i,6,6*us],[i,12,12*us],[r,1,Os],[r,2,2*Os],[n,1,Tj],[e,1,f4],[e,3,3*f4],[t,1,QT]];function a(c,u,d){const h=u<c;h&&([c,u]=[u,c]);const p=d&&typeof d.range=="function"?d:l(c,u,d),v=p?p.range(c,+u+1):[];return h?v.reverse():v}function l(c,u,d){const h=Math.abs(u-c)/d,p=fj(([,,y])=>y).right(s,h);if(p===s.length)return t.every(tI(c/QT,u/QT,d));if(p===0)return $b.every(Math.max(tI(c,u,d),1));const[v,m]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return v.every(m)}return[a,l]}const[pVe,mVe]=XX(Rs,kj,A1,YX,Ij,Aj),[gVe,yVe]=XX(js,Cj,E1,Vy,Pj,Ej);function JT(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ZT(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function mp(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function vVe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,a=t.months,l=t.shortMonths,c=gp(i),u=yp(i),d=gp(o),h=yp(o),p=gp(s),v=yp(s),m=gp(a),y=yp(a),b=gp(l),x=yp(l),w={a:z,A:V,b:L,B:Y,c:null,d:v4,e:v4,f:BVe,g:QVe,G:ZVe,H:LVe,I:VVe,j:FVe,L:QX,m:UVe,M:zVe,p:K,q:F,Q:w4,s:_4,S:WVe,u:qVe,U:GVe,V:HVe,w:KVe,W:YVe,x:null,X:null,y:XVe,Y:JVe,Z:eFe,"%":b4},E={a:te,A:ie,b:pe,B:ue,c:null,d:x4,e:x4,f:iFe,g:pFe,G:gFe,H:tFe,I:nFe,j:rFe,L:ZX,m:oFe,M:sFe,p:oe,q:ce,Q:w4,s:_4,S:aFe,u:lFe,U:cFe,V:uFe,w:dFe,W:fFe,x:null,X:null,y:hFe,Y:mFe,Z:yFe,"%":b4},S={a:O,A:N,b:C,B:j,c:$,d:g4,e:g4,f:RVe,g:m4,G:p4,H:y4,I:y4,j:kVe,L:jVe,m:CVe,M:NVe,p:k,q:IVe,Q:MVe,s:$Ve,S:OVe,u:SVe,U:TVe,V:EVe,w:_Ve,W:AVe,x:B,X:U,y:m4,Y:p4,Z:PVe,"%":DVe};w.x=P(n,w),w.X=P(r,w),w.c=P(e,w),E.x=P(n,E),E.X=P(r,E),E.c=P(e,E);function P(Q,Z){return function(se){var H=[],Se=-1,be=0,qe=Q.length,Ge,ft,Rn;for(se instanceof Date||(se=new Date(+se));++Se<qe;)Q.charCodeAt(Se)===37&&(H.push(Q.slice(be,Se)),(ft=h4[Ge=Q.charAt(++Se)])!=null?Ge=Q.charAt(++Se):ft=Ge==="e"?" ":"0",(Rn=Z[Ge])&&(Ge=Rn(se,ft)),H.push(Ge),be=Se+1);return H.push(Q.slice(be,Se)),H.join("")}}function T(Q,Z){return function(se){var H=mp(1900,void 0,1),Se=A(H,Q,se+="",0),be,qe;if(Se!=se.length)return null;if("Q"in H)return new Date(H.Q);if("s"in H)return new Date(H.s*1e3+("L"in H?H.L:0));if(Z&&!("Z"in H)&&(H.Z=0),"p"in H&&(H.H=H.H%12+H.p*12),H.m===void 0&&(H.m="q"in H?H.q:0),"V"in H){if(H.V<1||H.V>53)return null;"w"in H||(H.w=1),"Z"in H?(be=ZT(mp(H.y,0,1)),qe=be.getUTCDay(),be=qe>4||qe===0?Vb.ceil(be):Vb(be),be=T1.offset(be,(H.V-1)*7),H.y=be.getUTCFullYear(),H.m=be.getUTCMonth(),H.d=be.getUTCDate()+(H.w+6)%7):(be=JT(mp(H.y,0,1)),qe=be.getDay(),be=qe>4||qe===0?Lb.ceil(be):Lb(be),be=Vy.offset(be,(H.V-1)*7),H.y=be.getFullYear(),H.m=be.getMonth(),H.d=be.getDate()+(H.w+6)%7)}else("W"in H||"U"in H)&&("w"in H||(H.w="u"in H?H.u%7:"W"in H?1:0),qe="Z"in H?ZT(mp(H.y,0,1)).getUTCDay():JT(mp(H.y,0,1)).getDay(),H.m=0,H.d="W"in H?(H.w+6)%7+H.W*7-(qe+5)%7:H.w+H.U*7-(qe+6)%7);return"Z"in H?(H.H+=H.Z/100|0,H.M+=H.Z%100,ZT(H)):JT(H)}}function A(Q,Z,se,H){for(var Se=0,be=Z.length,qe=se.length,Ge,ft;Se<be;){if(H>=qe)return-1;if(Ge=Z.charCodeAt(Se++),Ge===37){if(Ge=Z.charAt(Se++),ft=S[Ge in h4?Z.charAt(Se++):Ge],!ft||(H=ft(Q,se,H))<0)return-1}else if(Ge!=se.charCodeAt(H++))return-1}return H}function k(Q,Z,se){var H=c.exec(Z.slice(se));return H?(Q.p=u.get(H[0].toLowerCase()),se+H[0].length):-1}function O(Q,Z,se){var H=p.exec(Z.slice(se));return H?(Q.w=v.get(H[0].toLowerCase()),se+H[0].length):-1}function N(Q,Z,se){var H=d.exec(Z.slice(se));return H?(Q.w=h.get(H[0].toLowerCase()),se+H[0].length):-1}function C(Q,Z,se){var H=b.exec(Z.slice(se));return H?(Q.m=x.get(H[0].toLowerCase()),se+H[0].length):-1}function j(Q,Z,se){var H=m.exec(Z.slice(se));return H?(Q.m=y.get(H[0].toLowerCase()),se+H[0].length):-1}function $(Q,Z,se){return A(Q,e,Z,se)}function B(Q,Z,se){return A(Q,n,Z,se)}function U(Q,Z,se){return A(Q,r,Z,se)}function z(Q){return s[Q.getDay()]}function V(Q){return o[Q.getDay()]}function L(Q){return l[Q.getMonth()]}function Y(Q){return a[Q.getMonth()]}function K(Q){return i[+(Q.getHours()>=12)]}function F(Q){return 1+~~(Q.getMonth()/3)}function te(Q){return s[Q.getUTCDay()]}function ie(Q){return o[Q.getUTCDay()]}function pe(Q){return l[Q.getUTCMonth()]}function ue(Q){return a[Q.getUTCMonth()]}function oe(Q){return i[+(Q.getUTCHours()>=12)]}function ce(Q){return 1+~~(Q.getUTCMonth()/3)}return{format:function(Q){var Z=P(Q+="",w);return Z.toString=function(){return Q},Z},parse:function(Q){var Z=T(Q+="",!1);return Z.toString=function(){return Q},Z},utcFormat:function(Q){var Z=P(Q+="",E);return Z.toString=function(){return Q},Z},utcParse:function(Q){var Z=T(Q+="",!0);return Z.toString=function(){return Q},Z}}}var h4={"-":"",_:" ",0:"0"},jn=/^\s*\d+/,xVe=/^%/,bVe=/[\\^$*+?|[\]().{}]/g;function Ye(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function wVe(t){return t.replace(bVe,"\\$&")}function gp(t){return new RegExp("^(?:"+t.map(wVe).join("|")+")","i")}function yp(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function _Ve(t,e,n){var r=jn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function SVe(t,e,n){var r=jn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function TVe(t,e,n){var r=jn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function EVe(t,e,n){var r=jn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function AVe(t,e,n){var r=jn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function p4(t,e,n){var r=jn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function m4(t,e,n){var r=jn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function PVe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function IVe(t,e,n){var r=jn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function CVe(t,e,n){var r=jn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function g4(t,e,n){var r=jn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function kVe(t,e,n){var r=jn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function y4(t,e,n){var r=jn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function NVe(t,e,n){var r=jn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function OVe(t,e,n){var r=jn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function jVe(t,e,n){var r=jn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function RVe(t,e,n){var r=jn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function DVe(t,e,n){var r=xVe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function MVe(t,e,n){var r=jn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function $Ve(t,e,n){var r=jn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function v4(t,e){return Ye(t.getDate(),e,2)}function LVe(t,e){return Ye(t.getHours(),e,2)}function VVe(t,e){return Ye(t.getHours()%12||12,e,2)}function FVe(t,e){return Ye(1+Vy.count(js(t),t),e,3)}function QX(t,e){return Ye(t.getMilliseconds(),e,3)}function BVe(t,e){return QX(t,e)+"000"}function UVe(t,e){return Ye(t.getMonth()+1,e,2)}function zVe(t,e){return Ye(t.getMinutes(),e,2)}function WVe(t,e){return Ye(t.getSeconds(),e,2)}function qVe(t){var e=t.getDay();return e===0?7:e}function GVe(t,e){return Ye(E1.count(js(t)-1,t),e,2)}function JX(t){var e=t.getDay();return e>=4||e===0?Of(t):Of.ceil(t)}function HVe(t,e){return t=JX(t),Ye(Of.count(js(t),t)+(js(t).getDay()===4),e,2)}function KVe(t){return t.getDay()}function YVe(t,e){return Ye(Lb.count(js(t)-1,t),e,2)}function XVe(t,e){return Ye(t.getFullYear()%100,e,2)}function QVe(t,e){return t=JX(t),Ye(t.getFullYear()%100,e,2)}function JVe(t,e){return Ye(t.getFullYear()%1e4,e,4)}function ZVe(t,e){var n=t.getDay();return t=n>=4||n===0?Of(t):Of.ceil(t),Ye(t.getFullYear()%1e4,e,4)}function eFe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ye(e/60|0,"0",2)+Ye(e%60,"0",2)}function x4(t,e){return Ye(t.getUTCDate(),e,2)}function tFe(t,e){return Ye(t.getUTCHours(),e,2)}function nFe(t,e){return Ye(t.getUTCHours()%12||12,e,2)}function rFe(t,e){return Ye(1+T1.count(Rs(t),t),e,3)}function ZX(t,e){return Ye(t.getUTCMilliseconds(),e,3)}function iFe(t,e){return ZX(t,e)+"000"}function oFe(t,e){return Ye(t.getUTCMonth()+1,e,2)}function sFe(t,e){return Ye(t.getUTCMinutes(),e,2)}function aFe(t,e){return Ye(t.getUTCSeconds(),e,2)}function lFe(t){var e=t.getUTCDay();return e===0?7:e}function cFe(t,e){return Ye(A1.count(Rs(t)-1,t),e,2)}function eQ(t){var e=t.getUTCDay();return e>=4||e===0?jf(t):jf.ceil(t)}function uFe(t,e){return t=eQ(t),Ye(jf.count(Rs(t),t)+(Rs(t).getUTCDay()===4),e,2)}function dFe(t){return t.getUTCDay()}function fFe(t,e){return Ye(Vb.count(Rs(t)-1,t),e,2)}function hFe(t,e){return Ye(t.getUTCFullYear()%100,e,2)}function pFe(t,e){return t=eQ(t),Ye(t.getUTCFullYear()%100,e,2)}function mFe(t,e){return Ye(t.getUTCFullYear()%1e4,e,4)}function gFe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?jf(t):jf.ceil(t),Ye(t.getUTCFullYear()%1e4,e,4)}function yFe(){return"+0000"}function b4(){return"%"}function w4(t){return+t}function _4(t){return Math.floor(+t/1e3)}var Hu,tQ,nQ;vFe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function vFe(t){return Hu=vVe(t),tQ=Hu.format,Hu.parse,nQ=Hu.utcFormat,Hu.utcParse,Hu}function xFe(t){return new Date(t)}function bFe(t){return t instanceof Date?+t:+new Date(+t)}function Nj(t,e,n,r,i,o,s,a,l,c){var u=yj(),d=u.invert,h=u.domain,p=c(".%L"),v=c(":%S"),m=c("%I:%M"),y=c("%I %p"),b=c("%a %d"),x=c("%b %d"),w=c("%B"),E=c("%Y");function S(P){return(l(P)<P?p:a(P)<P?v:s(P)<P?m:o(P)<P?y:r(P)<P?i(P)<P?b:x:n(P)<P?w:E)(P)}return u.invert=function(P){return new Date(d(P))},u.domain=function(P){return arguments.length?h(Array.from(P,bFe)):h().map(xFe)},u.ticks=function(P){var T=h();return t(T[0],T[T.length-1],P??10)},u.tickFormat=function(P,T){return T==null?S:c(T)},u.nice=function(P){var T=h();return(!P||typeof P.range!="function")&&(P=e(T[0],T[T.length-1],P??10)),P?h(UX(T,P)):u},u.copy=function(){return Ly(u,Nj(t,e,n,r,i,o,s,a,l,c))},u}function wFe(){return ji.apply(Nj(gVe,yVe,js,Cj,E1,Vy,Pj,Ej,gc,tQ).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function _Fe(){return ji.apply(Nj(pVe,mVe,Rs,kj,A1,T1,Ij,Aj,gc,nQ).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function P1(){var t=0,e=1,n,r,i,o,s=cr,a=!1,l;function c(d){return d==null||isNaN(d=+d)?l:s(i===0?.5:(d=(o(d)-n)*i,a?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([t,e]=d,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(d){return arguments.length?(a=!!d,c):a},c.interpolator=function(d){return arguments.length?(s=d,c):s};function u(d){return function(h){var p,v;return arguments.length?([p,v]=h,s=d(p,v),c):[s(0),s(1)]}}return c.range=u(Nh),c.rangeRound=u(gj),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return o=d,n=d(t),r=d(e),i=n===r?0:1/(r-n),c}}function kl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function rQ(){var t=Cl(P1()(cr));return t.copy=function(){return kl(t,rQ())},Gs.apply(t,arguments)}function iQ(){var t=bj(P1()).domain([1,10]);return t.copy=function(){return kl(t,iQ()).base(t.base())},Gs.apply(t,arguments)}function oQ(){var t=wj(P1());return t.copy=function(){return kl(t,oQ()).constant(t.constant())},Gs.apply(t,arguments)}function Oj(){var t=_j(P1());return t.copy=function(){return kl(t,Oj()).exponent(t.exponent())},Gs.apply(t,arguments)}function SFe(){return Oj.apply(null,arguments).exponent(.5)}function sQ(){var t=[],e=cr;function n(r){if(r!=null&&!isNaN(r=+r))return e((My(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Ya),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>cLe(t,o/r))},n.copy=function(){return sQ(e).domain(t)},Gs.apply(n,arguments)}function I1(){var t=0,e=.5,n=1,r=1,i,o,s,a,l,c=cr,u,d=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+u(m))-o)*(r*m<r*o?a:l),c(d?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([t,e,n]=m,i=u(t=+t),o=u(e=+e),s=u(n=+n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,p):[t,e,n]},p.clamp=function(m){return arguments.length?(d=!!m,p):d},p.interpolator=function(m){return arguments.length?(c=m,p):c};function v(m){return function(y){var b,x,w;return arguments.length?([b,x,w]=y,c=DLe(m,[b,x,w]),p):[c(0),c(.5),c(1)]}}return p.range=v(Nh),p.rangeRound=v(gj),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return u=m,i=m(t),o=m(e),s=m(n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,p}}function aQ(){var t=Cl(I1()(cr));return t.copy=function(){return kl(t,aQ())},Gs.apply(t,arguments)}function lQ(){var t=bj(I1()).domain([.1,1,10]);return t.copy=function(){return kl(t,lQ()).base(t.base())},Gs.apply(t,arguments)}function cQ(){var t=wj(I1());return t.copy=function(){return kl(t,cQ()).constant(t.constant())},Gs.apply(t,arguments)}function jj(){var t=_j(I1());return t.copy=function(){return kl(t,jj()).exponent(t.exponent())},Gs.apply(t,arguments)}function TFe(){return jj.apply(null,arguments).exponent(.5)}const S4=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:bg,scaleDiverging:aQ,scaleDivergingLog:lQ,scaleDivergingPow:jj,scaleDivergingSqrt:TFe,scaleDivergingSymlog:cQ,scaleIdentity:BX,scaleImplicit:nI,scaleLinear:Mb,scaleLog:zX,scaleOrdinal:hj,scalePoint:fm,scalePow:Sj,scaleQuantile:GX,scaleQuantize:HX,scaleRadial:qX,scaleSequential:rQ,scaleSequentialLog:iQ,scaleSequentialPow:Oj,scaleSequentialQuantile:sQ,scaleSequentialSqrt:SFe,scaleSequentialSymlog:oQ,scaleSqrt:iVe,scaleSymlog:WX,scaleThreshold:KX,scaleTime:wFe,scaleUtc:_Fe,tickFormat:FX},Symbol.toStringTag,{value:"Module"}));var EFe=_h;function AFe(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],s=e(o);if(s!=null&&(a===void 0?s===s&&!EFe(s):n(s,a)))var a=s,l=o}return l}var C1=AFe;function PFe(t,e){return t>e}var uQ=PFe,IFe=C1,CFe=uQ,kFe=kh;function NFe(t){return t&&t.length?IFe(t,kFe,CFe):void 0}var OFe=NFe;const ja=Ze(OFe);function jFe(t,e){return t<e}var dQ=jFe,RFe=C1,DFe=dQ,MFe=kh;function $Fe(t){return t&&t.length?RFe(t,MFe,DFe):void 0}var LFe=$Fe;const k1=Ze(LFe);var VFe=HO,FFe=qo,BFe=xX,UFe=Or;function zFe(t,e){var n=UFe(t)?VFe:BFe;return n(t,FFe(e))}var WFe=zFe,qFe=yX,GFe=WFe;function HFe(t,e){return qFe(GFe(t,e),1)}var KFe=HFe;const YFe=Ze(KFe);var XFe=lj;function QFe(t,e){return XFe(t,e)}var JFe=QFe;const iu=Ze(JFe);var Oh=1e9,ZFe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Dj,Dt=!0,Ci="[DecimalError] ",Ac=Ci+"Invalid argument: ",Rj=Ci+"Exponent out of range: ",jh=Math.floor,nc=Math.pow,e4e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Wr,En=1e7,Pt=7,fQ=9007199254740991,Fb=jh(fQ/Pt),xe={};xe.absoluteValue=xe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};xe.comparedTo=xe.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};xe.decimalPlaces=xe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Pt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};xe.dividedBy=xe.div=function(t){return vs(this,new this.constructor(t))};xe.dividedToIntegerBy=xe.idiv=function(t){var e=this,n=e.constructor;return mt(vs(e,new n(t),0,1),n.precision)};xe.equals=xe.eq=function(t){return!this.cmp(t)};xe.exponent=function(){return on(this)};xe.greaterThan=xe.gt=function(t){return this.cmp(t)>0};xe.greaterThanOrEqualTo=xe.gte=function(t){return this.cmp(t)>=0};xe.isInteger=xe.isint=function(){return this.e>this.d.length-2};xe.isNegative=xe.isneg=function(){return this.s<0};xe.isPositive=xe.ispos=function(){return this.s>0};xe.isZero=function(){return this.s===0};xe.lessThan=xe.lt=function(t){return this.cmp(t)<0};xe.lessThanOrEqualTo=xe.lte=function(t){return this.cmp(t)<1};xe.logarithm=xe.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Wr))throw Error(Ci+"NaN");if(n.s<1)throw Error(Ci+(n.s?"NaN":"-Infinity"));return n.eq(Wr)?new r(0):(Dt=!1,e=vs(Eg(n,o),Eg(t,o),o),Dt=!0,mt(e,i))};xe.minus=xe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?mQ(e,t):hQ(e,(t.s=-t.s,t))};xe.modulo=xe.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Ci+"NaN");return n.s?(Dt=!1,e=vs(n,t,0,1).times(t),Dt=!0,n.minus(e)):mt(new r(n),i)};xe.naturalExponential=xe.exp=function(){return pQ(this)};xe.naturalLogarithm=xe.ln=function(){return Eg(this)};xe.negated=xe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};xe.plus=xe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?hQ(e,t):mQ(e,(t.s=-t.s,t))};xe.precision=xe.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ac+t);if(e=on(i)+1,r=i.d.length-1,n=r*Pt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};xe.squareRoot=xe.sqrt=function(){var t,e,n,r,i,o,s,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(Ci+"NaN")}for(t=on(a),Dt=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=To(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=jh((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(o=r,r=o.plus(vs(a,o,s+2)).times(.5),To(o.d).slice(0,s)===(e=To(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(mt(o,n+1,0),o.times(o).eq(a)){r=o;break}}else if(e!="9999")break;s+=4}return Dt=!0,mt(r,n)};xe.times=xe.mul=function(t){var e,n,r,i,o,s,a,l,c,u=this,d=u.constructor,h=u.d,p=(t=new d(t)).d;if(!u.s||!t.s)return new d(0);for(t.s*=u.s,n=u.e+t.e,l=h.length,c=p.length,l<c&&(o=h,h=p,p=o,s=l,l=c,c=s),o=[],s=l+c,r=s;r--;)o.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)a=o[i]+p[r]*h[i-r-1]+e,o[i--]=a%En|0,e=a/En|0;o[i]=(o[i]+e)%En|0}for(;!o[--s];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,Dt?mt(t,d.precision):t};xe.toDecimalPlaces=xe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Uo(t,0,Oh),e===void 0?e=r.rounding:Uo(e,0,8),mt(n,t+on(n)+1,e))};xe.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=ou(r,!0):(Uo(t,0,Oh),e===void 0?e=i.rounding:Uo(e,0,8),r=mt(new i(r),t+1,e),n=ou(r,!0,t+1)),n};xe.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?ou(i):(Uo(t,0,Oh),e===void 0?e=o.rounding:Uo(e,0,8),r=mt(new o(i),t+on(i)+1,e),n=ou(r.abs(),!1,t+on(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};xe.toInteger=xe.toint=function(){var t=this,e=t.constructor;return mt(new e(t),on(t)+1,e.rounding)};xe.toNumber=function(){return+this};xe.toPower=xe.pow=function(t){var e,n,r,i,o,s,a=this,l=a.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l(Wr);if(a=new l(a),!a.s){if(t.s<1)throw Error(Ci+"Infinity");return a}if(a.eq(Wr))return a;if(r=l.precision,t.eq(Wr))return mt(a,r);if(e=t.e,n=t.d.length-1,s=e>=n,o=a.s,s){if((n=u<0?-u:u)<=fQ){for(i=new l(Wr),e=Math.ceil(r/Pt+4),Dt=!1;n%2&&(i=i.times(a),E4(i.d,e)),n=jh(n/2),n!==0;)a=a.times(a),E4(a.d,e);return Dt=!0,t.s<0?new l(Wr).div(i):mt(i,r)}}else if(o<0)throw Error(Ci+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,a.s=1,Dt=!1,i=t.times(Eg(a,r+c)),Dt=!0,i=pQ(i),i.s=o,i};xe.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=on(i),r=ou(i,n<=o.toExpNeg||n>=o.toExpPos)):(Uo(t,1,Oh),e===void 0?e=o.rounding:Uo(e,0,8),i=mt(new o(i),t,e),n=on(i),r=ou(i,t<=n||n<=o.toExpNeg,t)),r};xe.toSignificantDigits=xe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Uo(t,1,Oh),e===void 0?e=r.rounding:Uo(e,0,8)),mt(new r(n),t,e)};xe.toString=xe.valueOf=xe.val=xe.toJSON=xe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=on(t),n=t.constructor;return ou(t,e<=n.toExpNeg||e>=n.toExpPos)};function hQ(t,e){var n,r,i,o,s,a,l,c,u=t.constructor,d=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),Dt?mt(e,d):e;if(l=t.d,c=e.d,s=t.e,i=e.e,l=l.slice(),o=s-i,o){for(o<0?(r=l,o=-o,a=c.length):(r=c,i=s,a=l.length),s=Math.ceil(d/Pt),a=s>a?s+1:a+1,o>a&&(o=a,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(a=l.length,o=c.length,a-o<0&&(o=a,r=c,c=l,l=r),n=0;o;)n=(l[--o]=l[o]+c[o]+n)/En|0,l[o]%=En;for(n&&(l.unshift(n),++i),a=l.length;l[--a]==0;)l.pop();return e.d=l,e.e=i,Dt?mt(e,d):e}function Uo(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Ac+t)}function To(t){var e,n,r,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)r=t[e]+"",n=Pt-r.length,n&&(o+=ya(n)),o+=r;s=t[e],r=s+"",n=Pt-r.length,n&&(o+=ya(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var vs=function(){function t(r,i){var o,s=0,a=r.length;for(r=r.slice();a--;)o=r[a]*i+s,r[a]=o%En|0,s=o/En|0;return s&&r.unshift(s),r}function e(r,i,o,s){var a,l;if(o!=s)l=o>s?1:-1;else for(a=l=0;a<o;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*En+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var a,l,c,u,d,h,p,v,m,y,b,x,w,E,S,P,T,A,k=r.constructor,O=r.s==i.s?1:-1,N=r.d,C=i.d;if(!r.s)return new k(r);if(!i.s)throw Error(Ci+"Division by zero");for(l=r.e-i.e,T=C.length,S=N.length,p=new k(O),v=p.d=[],c=0;C[c]==(N[c]||0);)++c;if(C[c]>(N[c]||0)&&--l,o==null?x=o=k.precision:s?x=o+(on(r)-on(i))+1:x=o,x<0)return new k(0);if(x=x/Pt+2|0,c=0,T==1)for(u=0,C=C[0],x++;(c<S||u)&&x--;c++)w=u*En+(N[c]||0),v[c]=w/C|0,u=w%C|0;else{for(u=En/(C[0]+1)|0,u>1&&(C=t(C,u),N=t(N,u),T=C.length,S=N.length),E=T,m=N.slice(0,T),y=m.length;y<T;)m[y++]=0;A=C.slice(),A.unshift(0),P=C[0],C[1]>=En/2&&++P;do u=0,a=e(C,m,T,y),a<0?(b=m[0],T!=y&&(b=b*En+(m[1]||0)),u=b/P|0,u>1?(u>=En&&(u=En-1),d=t(C,u),h=d.length,y=m.length,a=e(d,m,h,y),a==1&&(u--,n(d,T<h?A:C,h))):(u==0&&(a=u=1),d=C.slice()),h=d.length,h<y&&d.unshift(0),n(m,d,y),a==-1&&(y=m.length,a=e(C,m,T,y),a<1&&(u++,n(m,T<y?A:C,y))),y=m.length):a===0&&(u++,m=[0]),v[c++]=u,a&&m[0]?m[y++]=N[E]||0:(m=[N[E]],y=1);while((E++<S||m[0]!==void 0)&&x--)}return v[0]||v.shift(),p.e=l,mt(p,s?o+on(p)+1:o)}}();function pQ(t,e){var n,r,i,o,s,a,l=0,c=0,u=t.constructor,d=u.precision;if(on(t)>16)throw Error(Rj+on(t));if(!t.s)return new u(Wr);for(e==null?(Dt=!1,a=d):a=e,s=new u(.03125);t.abs().gte(.1);)t=t.times(s),c+=5;for(r=Math.log(nc(2,c))/Math.LN10*2+5|0,a+=r,n=i=o=new u(Wr),u.precision=a;;){if(i=mt(i.times(t),a),n=n.times(++l),s=o.plus(vs(i,n,a)),To(s.d).slice(0,a)===To(o.d).slice(0,a)){for(;c--;)o=mt(o.times(o),a);return u.precision=d,e==null?(Dt=!0,mt(o,d)):o}o=s}}function on(t){for(var e=t.e*Pt,n=t.d[0];n>=10;n/=10)e++;return e}function eE(t,e,n){if(e>t.LN10.sd())throw Dt=!0,n&&(t.precision=n),Error(Ci+"LN10 precision limit exceeded");return mt(new t(t.LN10),e)}function ya(t){for(var e="";t--;)e+="0";return e}function Eg(t,e){var n,r,i,o,s,a,l,c,u,d=1,h=10,p=t,v=p.d,m=p.constructor,y=m.precision;if(p.s<1)throw Error(Ci+(p.s?"NaN":"-Infinity"));if(p.eq(Wr))return new m(0);if(e==null?(Dt=!1,c=y):c=e,p.eq(10))return e==null&&(Dt=!0),eE(m,c);if(c+=h,m.precision=c,n=To(v),r=n.charAt(0),o=on(p),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=To(p.d),r=n.charAt(0),d++;o=on(p),r>1?(p=new m("0."+n),o++):p=new m(r+"."+n.slice(1))}else return l=eE(m,c+2,y).times(o+""),p=Eg(new m(r+"."+n.slice(1)),c-h).plus(l),m.precision=y,e==null?(Dt=!0,mt(p,y)):p;for(a=s=p=vs(p.minus(Wr),p.plus(Wr),c),u=mt(p.times(p),c),i=3;;){if(s=mt(s.times(u),c),l=a.plus(vs(s,new m(i),c)),To(l.d).slice(0,c)===To(a.d).slice(0,c))return a=a.times(2),o!==0&&(a=a.plus(eE(m,c+2,y).times(o+""))),a=vs(a,new m(d),c),m.precision=y,e==null?(Dt=!0,mt(a,y)):a;a=l,i+=2}}function T4(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=jh(n/Pt),t.d=[],r=(n+1)%Pt,n<0&&(r+=Pt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Pt;r<i;)t.d.push(+e.slice(r,r+=Pt));e=e.slice(r),r=Pt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Dt&&(t.e>Fb||t.e<-Fb))throw Error(Rj+n)}else t.s=0,t.e=0,t.d=[0];return t}function mt(t,e,n){var r,i,o,s,a,l,c,u,d=t.d;for(s=1,o=d[0];o>=10;o/=10)s++;if(r=e-s,r<0)r+=Pt,i=e,c=d[u=0];else{if(u=Math.ceil((r+1)/Pt),o=d.length,u>=o)return t;for(c=o=d[u],s=1;o>=10;o/=10)s++;r%=Pt,i=r-Pt+s}if(n!==void 0&&(o=nc(10,s-i-1),a=c/o%10|0,l=e<0||d[u+1]!==void 0||c%o,l=n<4?(a||l)&&(n==0||n==(t.s<0?3:2)):a>5||a==5&&(n==4||l||n==6&&(r>0?i>0?c/nc(10,s-i):0:d[u-1])%10&1||n==(t.s<0?8:7))),e<1||!d[0])return l?(o=on(t),d.length=1,e=e-o-1,d[0]=nc(10,(Pt-e%Pt)%Pt),t.e=jh(-e/Pt)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(r==0?(d.length=u,o=1,u--):(d.length=u+1,o=nc(10,Pt-r),d[u]=i>0?(c/nc(10,s-i)%nc(10,i)|0)*o:0),l)for(;;)if(u==0){(d[0]+=o)==En&&(d[0]=1,++t.e);break}else{if(d[u]+=o,d[u]!=En)break;d[u--]=0,o=1}for(r=d.length;d[--r]===0;)d.pop();if(Dt&&(t.e>Fb||t.e<-Fb))throw Error(Rj+on(t));return t}function mQ(t,e){var n,r,i,o,s,a,l,c,u,d,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),Dt?mt(e,p):e;if(l=t.d,d=e.d,r=e.e,c=t.e,l=l.slice(),s=c-r,s){for(u=s<0,u?(n=l,s=-s,a=d.length):(n=d,r=c,a=l.length),i=Math.max(Math.ceil(p/Pt),a)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,a=d.length,u=i<a,u&&(a=i),i=0;i<a;i++)if(l[i]!=d[i]){u=l[i]<d[i];break}s=0}for(u&&(n=l,l=d,d=n,e.s=-e.s),a=l.length,i=d.length-a;i>0;--i)l[a++]=0;for(i=d.length;i>s;){if(l[--i]<d[i]){for(o=i;o&&l[--o]===0;)l[o]=En-1;--l[o],l[i]+=En}l[i]-=d[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Dt?mt(e,p):e):new h(0)}function ou(t,e,n){var r,i=on(t),o=To(t.d),s=o.length;return e?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+ya(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+ya(-i-1)+o,n&&(r=n-s)>0&&(o+=ya(r))):i>=s?(o+=ya(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+ya(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=ya(r))),t.s<0?"-"+o:o}function E4(t,e){if(t.length>e)return t.length=e,!0}function gQ(t){var e,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Ac+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return T4(s,o.toString())}else if(typeof o!="string")throw Error(Ac+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,e4e.test(o))T4(s,o);else throw Error(Ac+o)}if(i.prototype=xe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=gQ,i.config=i.set=t4e,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function t4e(t){if(!t||typeof t!="object")throw Error(Ci+"Object expected");var e,n,r,i=["precision",1,Oh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(jh(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Ac+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Ac+n+": "+r);return this}var Dj=gQ(ZFe);Wr=new Dj(1);const ct=Dj;function n4e(t){return s4e(t)||o4e(t)||i4e(t)||r4e()}function r4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i4e(t,e){if(t){if(typeof t=="string")return sI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sI(t,e)}}function o4e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function s4e(t){if(Array.isArray(t))return sI(t)}function sI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var a4e=function(e){return e},yQ={"@@functional/placeholder":!0},vQ=function(e){return e===yQ},A4=function(e){return function n(){return arguments.length===0||arguments.length===1&&vQ(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},l4e=function t(e,n){return e===1?n:A4(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i.filter(function(a){return a!==yQ}).length;return s>=e?n.apply(void 0,i):t(e-s,A4(function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];var u=i.map(function(d){return vQ(d)?l.shift():d});return n.apply(void 0,n4e(u).concat(l))}))})},N1=function(e){return l4e(e.length,e)},aI=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},c4e=N1(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),u4e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return a4e;var i=n.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce(function(a,l){return l(a)},o.apply(void 0,arguments))}},lI=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},xQ=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n&&o.every(function(a,l){return a===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function d4e(t){var e;return t===0?e=1:e=Math.floor(new ct(t).abs().log(10).toNumber())+1,e}function f4e(t,e,n){for(var r=new ct(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var h4e=N1(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),p4e=N1(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),m4e=N1(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const O1={rangeStep:f4e,getDigitCount:d4e,interpolateNumber:h4e,uninterpolateNumber:p4e,uninterpolateTruncation:m4e};function cI(t){return v4e(t)||y4e(t)||bQ(t)||g4e()}function g4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y4e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function v4e(t){if(Array.isArray(t))return uI(t)}function Ag(t,e){return w4e(t)||b4e(t,e)||bQ(t,e)||x4e()}function x4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bQ(t,e){if(t){if(typeof t=="string")return uI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uI(t,e)}}function uI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function b4e(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var s=t[Symbol.iterator](),a;!(r=(a=s.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw o}}return n}}function w4e(t){if(Array.isArray(t))return t}function wQ(t){var e=Ag(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function _Q(t,e,n){if(t.lte(0))return new ct(0);var r=O1.getDigitCount(t.toNumber()),i=new ct(10).pow(r),o=t.div(i),s=r!==1?.05:.1,a=new ct(Math.ceil(o.div(s).toNumber())).add(n).mul(s),l=a.mul(i);return e?l:new ct(Math.ceil(l))}function _4e(t,e,n){var r=1,i=new ct(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new ct(10).pow(O1.getDigitCount(t)-1),i=new ct(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new ct(Math.floor(t)))}else t===0?i=new ct(Math.floor((e-1)/2)):n||(i=new ct(Math.floor(t)));var s=Math.floor((e-1)/2),a=u4e(c4e(function(l){return i.add(new ct(l-s).mul(r)).toNumber()}),aI);return a(0,e)}function SQ(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new ct(0),tickMin:new ct(0),tickMax:new ct(0)};var o=_Q(new ct(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new ct(0):(s=new ct(t).add(e).div(2),s=s.sub(new ct(s).mod(o)));var a=Math.ceil(s.sub(t).div(o).toNumber()),l=Math.ceil(new ct(e).sub(s).div(o).toNumber()),c=a+l+1;return c>n?SQ(t,e,n,r,i+1):(c<n&&(l=e>0?l+(n-c):l,a=e>0?a:a+(n-c)),{step:o,tickMin:s.sub(new ct(a).mul(o)),tickMax:s.add(new ct(l).mul(o))})}function S4e(t){var e=Ag(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),a=wQ([n,r]),l=Ag(a,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var d=u===1/0?[c].concat(cI(aI(0,i-1).map(function(){return 1/0}))):[].concat(cI(aI(0,i-1).map(function(){return-1/0})),[u]);return n>r?lI(d):d}if(c===u)return _4e(c,i,o);var h=SQ(c,u,s,o),p=h.step,v=h.tickMin,m=h.tickMax,y=O1.rangeStep(v,m.add(new ct(.1).mul(p)),p);return n>r?lI(y):y}function T4e(t,e){var n=Ag(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=wQ([r,i]),a=Ag(s,2),l=a[0],c=a[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var u=Math.max(e,2),d=_Q(new ct(c).sub(l).div(u-1),o,0),h=[].concat(cI(O1.rangeStep(new ct(l),new ct(c).sub(new ct(.99).mul(d)),d)),[c]);return r>i?lI(h):h}var E4e=xQ(S4e),A4e=xQ(T4e),P4e=!0,tE="Invariant failed";function su(t,e){if(!t){if(P4e)throw new Error(tE);var n=typeof e=="function"?e():e,r=n?"".concat(tE,": ").concat(n):tE;throw new Error(r)}}var I4e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Rf(t){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rf(t)}function Bb(){return Bb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bb.apply(this,arguments)}function C4e(t,e){return j4e(t)||O4e(t,e)||N4e(t,e)||k4e()}function k4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N4e(t,e){if(t){if(typeof t=="string")return P4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P4(t,e)}}function P4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function O4e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function j4e(t){if(Array.isArray(t))return t}function R4e(t,e){if(t==null)return{};var n=D4e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function D4e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function M4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function I4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,AQ(r.key),r)}}function $4e(t,e,n){return e&&I4(t.prototype,e),n&&I4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function L4e(t,e,n){return e=Ub(e),V4e(t,TQ()?Reflect.construct(e,n||[],Ub(t).constructor):e.apply(t,n))}function V4e(t,e){if(e&&(Rf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F4e(t)}function F4e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TQ=function(){return!!t})()}function Ub(t){return Ub=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ub(t)}function B4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dI(t,e)}function dI(t,e){return dI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dI(t,e)}function EQ(t,e,n){return e=AQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AQ(t){var e=U4e(t,"string");return Rf(e)=="symbol"?e:e+""}function U4e(t,e){if(Rf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Rf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fy=function(t){function e(){return M4e(this,e),L4e(this,e,arguments)}return B4e(e,t),$4e(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,s=r.width,a=r.dataKey,l=r.data,c=r.dataPointFormatter,u=r.xAxis,d=r.yAxis,h=R4e(r,I4e),p=Ee(h,!1);this.props.direction==="x"&&u.type!=="number"&&su(!1);var v=l.map(function(m){var y=c(m,a),b=y.x,x=y.y,w=y.value,E=y.errorVal;if(!E)return null;var S=[],P,T;if(Array.isArray(E)){var A=C4e(E,2);P=A[0],T=A[1]}else P=T=E;if(o==="vertical"){var k=u.scale,O=x+i,N=O+s,C=O-s,j=k(w-P),$=k(w+T);S.push({x1:$,y1:N,x2:$,y2:C}),S.push({x1:j,y1:O,x2:$,y2:O}),S.push({x1:j,y1:N,x2:j,y2:C})}else if(o==="horizontal"){var B=d.scale,U=b+i,z=U-s,V=U+s,L=B(w-P),Y=B(w+T);S.push({x1:z,y1:Y,x2:V,y2:Y}),S.push({x1:U,y1:L,x2:U,y2:Y}),S.push({x1:z,y1:L,x2:V,y2:L})}return M.createElement(Fe,Bb({className:"recharts-errorBar",key:"bar-".concat(S.map(function(K){return"".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)}))},p),S.map(function(K){return M.createElement("line",Bb({},K,{key:"line-".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)}))}))});return M.createElement(Fe,{className:"recharts-errorBars"},v)}}])}(M.Component);EQ(Fy,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});EQ(Fy,"displayName","ErrorBar");function Pg(t){"@babel/helpers - typeof";return Pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pg(t)}function C4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?C4(Object(n),!0).forEach(function(r){z4e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function z4e(t,e,n){return e=W4e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W4e(t){var e=q4e(t,"string");return Pg(e)=="symbol"?e:e+""}function q4e(t,e){if(Pg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Pg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var PQ=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,s=Vr(n,Bd);if(!s)return null;var a=Bd.defaultProps,l=a!==void 0?zl(zl({},a),s.props):{},c;return s.props&&s.props.payload?c=s.props&&s.props.payload:o==="children"?c=(r||[]).reduce(function(u,d){var h=d.item,p=d.props,v=p.sectors||p.data||[];return u.concat(v.map(function(m){return{type:s.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):c=(r||[]).map(function(u){var d=u.item,h=d.type.defaultProps,p=h!==void 0?zl(zl({},h),d.props):{},v=p.dataKey,m=p.name,y=p.legendType,b=p.hide;return{inactive:b,dataKey:v,type:l.iconType||y||"square",color:Mj(d),value:m||v,payload:p}}),zl(zl(zl({},l),Bd.getWithHeight(s,i)),{},{payload:c,item:s})};function Ig(t){"@babel/helpers - typeof";return Ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ig(t)}function k4(t){return Y4e(t)||K4e(t)||H4e(t)||G4e()}function G4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H4e(t,e){if(t){if(typeof t=="string")return fI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fI(t,e)}}function K4e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Y4e(t){if(Array.isArray(t))return fI(t)}function fI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function N4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N4(Object(n),!0).forEach(function(r){zd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zd(t,e,n){return e=X4e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X4e(t){var e=Q4e(t,"string");return Ig(e)=="symbol"?e:e+""}function Q4e(t,e){if(Ig(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ig(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xt(t,e,n){return Oe(t)||Oe(e)?n:yn(e)?Jr(t,e,n):Pe(e)?e(t):n}function hm(t,e,n,r){var i=YFe(t,function(a){return Xt(a,e)});if(n==="number"){var o=i.filter(function(a){return ae(a)||parseFloat(a)});return o.length?[k1(o),ja(o)]:[1/0,-1/0]}var s=r?i.filter(function(a){return!Oe(a)}):i;return s.map(function(a){return yn(a)||a instanceof Date?a:""})}var J4e=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=-1,a=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(a<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,c=0;c<a;c++){var u=c>0?i[c-1].coordinate:i[a-1].coordinate,d=i[c].coordinate,h=c>=a-1?i[0].coordinate:i[c+1].coordinate,p=void 0;if(ar(d-u)!==ar(h-d)){var v=[];if(ar(h-d)===ar(l[1]-l[0])){p=h;var m=d+l[1]-l[0];v[0]=Math.min(m,(m+u)/2),v[1]=Math.max(m,(m+u)/2)}else{p=u;var y=h+l[1]-l[0];v[0]=Math.min(d,(y+d)/2),v[1]=Math.max(d,(y+d)/2)}var b=[Math.min(d,(p+d)/2),Math.max(d,(p+d)/2)];if(e>b[0]&&e<=b[1]||e>=v[0]&&e<=v[1]){s=i[c].index;break}}else{var x=Math.min(u,h),w=Math.max(u,h);if(e>(x+d)/2&&e<=(w+d)/2){s=i[c].index;break}}}else for(var E=0;E<a;E++)if(E===0&&e<=(r[E].coordinate+r[E+1].coordinate)/2||E>0&&E<a-1&&e>(r[E].coordinate+r[E-1].coordinate)/2&&e<=(r[E].coordinate+r[E+1].coordinate)/2||E===a-1&&e>(r[E].coordinate+r[E-1].coordinate)/2){s=r[E].index;break}return s},Mj=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?qt(qt({},e.type.defaultProps),e.props):e.props,s=o.stroke,a=o.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:a;break;default:l=a;break}return l},Z4e=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var s={},a=Object.keys(o),l=0,c=a.length;l<c;l++)for(var u=o[a[l]].stackGroups,d=Object.keys(u),h=0,p=d.length;h<p;h++){var v=u[d[h]],m=v.items,y=v.cateAxisId,b=m.filter(function(T){return ys(T.type).indexOf("Bar")>=0});if(b&&b.length){var x=b[0].type.defaultProps,w=x!==void 0?qt(qt({},x),b[0].props):b[0].props,E=w.barSize,S=w[y];s[S]||(s[S]=[]);var P=Oe(E)?n:E;s[S].push({item:b[0],stackList:b.slice(1),barSize:Oe(P)?void 0:lr(P,r,0)})}}return s},e3e=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,s=o===void 0?[]:o,a=e.maxBarSize,l=s.length;if(l<1)return null;var c=lr(n,i,0,!0),u,d=[];if(s[0].barSize===+s[0].barSize){var h=!1,p=i/l,v=s.reduce(function(E,S){return E+S.barSize||0},0);v+=(l-1)*c,v>=i&&(v-=(l-1)*c,c=0),v>=i&&p>0&&(h=!0,p*=.9,v=l*p);var m=(i-v)/2>>0,y={offset:m-c,size:0};u=s.reduce(function(E,S){var P={item:S.item,position:{offset:y.offset+y.size+c,size:h?p:S.barSize}},T=[].concat(k4(E),[P]);return y=T[T.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(A){T.push({item:A,position:y})}),T},d)}else{var b=lr(r,i,0,!0);i-2*b-(l-1)*c<=0&&(c=0);var x=(i-2*b-(l-1)*c)/l;x>1&&(x>>=0);var w=a===+a?Math.min(x,a):x;u=s.reduce(function(E,S,P){var T=[].concat(k4(E),[{item:S.item,position:{offset:b+(x+c)*P+(x-w)/2,size:w}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(A){T.push({item:A,position:T[T.length-1].position})}),T},d)}return u},t3e=function(e,n,r,i){var o=r.children,s=r.width,a=r.margin,l=s-(a.left||0)-(a.right||0),c=PQ({children:o,legendWidth:l});if(c){var u=i||{},d=u.width,h=u.height,p=c.align,v=c.verticalAlign,m=c.layout;if((m==="vertical"||m==="horizontal"&&v==="middle")&&p!=="center"&&ae(e[p]))return qt(qt({},e),{},zd({},p,e[p]+(d||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&v!=="middle"&&ae(e[v]))return qt(qt({},e),{},zd({},v,e[v]+(h||0)))}return e},n3e=function(e,n,r){return Oe(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},IQ=function(e,n,r,i,o){var s=n.props.children,a=Zr(s,Fy).filter(function(c){return n3e(i,o,c.props.direction)});if(a&&a.length){var l=a.map(function(c){return c.props.dataKey});return e.reduce(function(c,u){var d=Xt(u,r);if(Oe(d))return c;var h=Array.isArray(d)?[k1(d),ja(d)]:[d,d],p=l.reduce(function(v,m){var y=Xt(u,m,0),b=h[0]-Math.abs(Array.isArray(y)?y[0]:y),x=h[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(b,v[0]),Math.max(x,v[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},r3e=function(e,n,r,i,o){var s=n.map(function(a){return IQ(e,a,r,o,i)}).filter(function(a){return!Oe(a)});return s&&s.length?s.reduce(function(a,l){return[Math.min(a[0],l[0]),Math.max(a[1],l[1])]},[1/0,-1/0]):null},CQ=function(e,n,r,i,o){var s=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&IQ(e,l,c,i)||hm(e,c,r,o)});if(r==="number")return s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var a={};return s.reduce(function(l,c){for(var u=0,d=c.length;u<d;u++)a[c[u]]||(a[c[u]]=!0,l.push(c[u]));return l},[])},kQ=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},NQ=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,s,a=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(s=!0),l.coordinate});return o||a.push(n),s||a.push(r),a},ds=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,s=e.type,a=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?ar(a[0]-a[1])*2*c:c,n&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(d){var h=o?o.indexOf(d):d;return{coordinate:i(h)+c,value:d,offset:c}});return u.filter(function(d){return!Ph(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,h){return{coordinate:i(d)+c,value:d,index:h,offset:c}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+c,value:d,offset:c}}):i.domain().map(function(d,h){return{coordinate:i(d)+c,value:o?o[d]:d,index:h,offset:c}})},nE=new WeakMap,Zv=function(e,n){if(typeof n!="function")return e;nE.has(e)||nE.set(e,new WeakMap);var r=nE.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},OQ=function(e,n,r){var i=e.scale,o=e.type,s=e.layout,a=e.axisType;if(i==="auto")return s==="radial"&&a==="radiusAxis"?{scale:bg(),realScaleType:"band"}:s==="radial"&&a==="angleAxis"?{scale:Mb(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:fm(),realScaleType:"point"}:o==="category"?{scale:bg(),realScaleType:"band"}:{scale:Mb(),realScaleType:"linear"};if(tu(i)){var l="scale".concat(m1(i));return{scale:(S4[l]||fm)(),realScaleType:S4[l]?l:"point"}}return Pe(i)?{scale:i}:{scale:fm(),realScaleType:"point"}},O4=1e-4,jQ=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-O4,s=Math.max(i[0],i[1])+O4,a=e(n[0]),l=e(n[r-1]);(a<o||a>s||l<o||l>s)&&e.domain([n[0],n[r-1]])}},i3e=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},o3e=function(e,n){if(!n||n.length!==2||!ae(n[0])||!ae(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!ae(e[0])||e[0]<r)&&(o[0]=r),(!ae(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},s3e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0,a=0;a<n;++a){var l=Ph(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=o,e[a][r][1]=o+l,o=e[a][r][1]):(e[a][r][0]=s,e[a][r][1]=s+l,s=e[a][r][1])}},a3e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0;s<n;++s){var a=Ph(e[s][r][1])?e[s][r][0]:e[s][r][1];a>=0?(e[s][r][0]=o,e[s][r][1]=o+a,o=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},l3e={sign:s3e,expand:kCe,none:Af,silhouette:NCe,wiggle:OCe,positive:a3e},c3e=function(e,n,r){var i=n.map(function(a){return a.props.dataKey}),o=l3e[r],s=CCe().keys(i).value(function(a,l){return+Xt(a,l,0)}).order($P).offset(o);return s(e)},u3e=function(e,n,r,i,o,s){if(!e)return null;var a=s?n.reverse():n,l={},c=a.reduce(function(d,h){var p,v=(p=h.type)!==null&&p!==void 0&&p.defaultProps?qt(qt({},h.type.defaultProps),h.props):h.props,m=v.stackId,y=v.hide;if(y)return d;var b=v[r],x=d[b]||{hasStack:!1,stackGroups:{}};if(yn(m)){var w=x.stackGroups[m]||{numericAxisId:r,cateAxisId:i,items:[]};w.items.push(h),x.hasStack=!0,x.stackGroups[m]=w}else x.stackGroups[Au("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return qt(qt({},d),{},zd({},b,x))},l),u={};return Object.keys(c).reduce(function(d,h){var p=c[h];if(p.hasStack){var v={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,y){var b=p.stackGroups[y];return qt(qt({},m),{},zd({},y,{numericAxisId:r,cateAxisId:i,items:b.items,stackedData:c3e(e,b.items,o)}))},v)}return qt(qt({},d),{},zd({},h,p))},u)},RQ=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,s=n.originalDomain,a=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var c=e.domain();if(!c.length)return null;var u=E4e(c,o,a);return e.domain([k1(u),ja(u)]),{niceTicks:u}}if(o&&i==="number"){var d=e.domain(),h=A4e(d,o,a);return{niceTicks:h}}return null};function zb(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Oe(i[e.dataKey])){var a=mb(n,"value",i[e.dataKey]);if(a)return a.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=Xt(i,Oe(s)?e.dataKey:s);return Oe(l)?null:e.scale(l)}var j4=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,s=e.entry,a=e.index;if(n.type==="category")return r[a]?r[a].coordinate+i:null;var l=Xt(s,n.dataKey,n.domain[a]);return Oe(l)?null:n.scale(l)-o/2+i},d3e=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},f3e=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?qt(qt({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(yn(o)){var s=n[o];if(s){var a=s.items.indexOf(e);return a>=0?s.stackedData[a]:null}}return null},h3e=function(e){return e.reduce(function(n,r){return[k1(r.concat([n[0]]).filter(ae)),ja(r.concat([n[1]]).filter(ae))]},[1/0,-1/0])},DQ=function(e,n,r){return Object.keys(e).reduce(function(i,o){var s=e[o],a=s.stackedData,l=a.reduce(function(c,u){var d=h3e(u.slice(n,r+1));return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},R4=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,D4=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,hI=function(e,n,r){if(Pe(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(ae(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(R4.test(e[0])){var o=+R4.exec(e[0])[1];i[0]=n[0]-o}else Pe(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(ae(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(D4.test(e[1])){var s=+D4.exec(e[1])[1];i[1]=n[1]+s}else Pe(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Wb=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=uj(n,function(d){return d.coordinate}),s=1/0,a=1,l=o.length;a<l;a++){var c=o[a],u=o[a-1];s=Math.min((c.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},M4=function(e,n,r){return!e||!e.length||iu(e,Jr(r,"type.defaultProps.domain"))?n:e},MQ=function(e,n){var r=e.type.defaultProps?qt(qt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,s=r.unit,a=r.formatter,l=r.tooltipType,c=r.chartType,u=r.hide;return qt(qt({},Ee(e,!1)),{},{dataKey:i,unit:s,formatter:a,name:o||i,color:Mj(e),value:Xt(n,i),type:l,payload:n,chartType:c,hide:u})};function Cg(t){"@babel/helpers - typeof";return Cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cg(t)}function $4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function es(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$4(Object(n),!0).forEach(function(r){$Q(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $Q(t,e,n){return e=p3e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p3e(t){var e=m3e(t,"string");return Cg(e)=="symbol"?e:e+""}function m3e(t,e){if(Cg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Cg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function g3e(t,e){return b3e(t)||x3e(t,e)||v3e(t,e)||y3e()}function y3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v3e(t,e){if(t){if(typeof t=="string")return L4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L4(t,e)}}function L4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function x3e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function b3e(t){if(Array.isArray(t))return t}var qb=Math.PI/180,w3e=function(e){return e*180/Math.PI},wt=function(e,n,r,i){return{x:e+Math.cos(-qb*i)*r,y:n+Math.sin(-qb*i)*r}},LQ=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},_3e=function(e,n,r,i,o){var s=e.width,a=e.height,l=e.startAngle,c=e.endAngle,u=lr(e.cx,s,s/2),d=lr(e.cy,a,a/2),h=LQ(s,a,r),p=lr(e.innerRadius,h,0),v=lr(e.outerRadius,h,h*.8),m=Object.keys(n);return m.reduce(function(y,b){var x=n[b],w=x.domain,E=x.reversed,S;if(Oe(x.range))i==="angleAxis"?S=[l,c]:i==="radiusAxis"&&(S=[p,v]),E&&(S=[S[1],S[0]]);else{S=x.range;var P=S,T=g3e(P,2);l=T[0],c=T[1]}var A=OQ(x,o),k=A.realScaleType,O=A.scale;O.domain(w).range(S),jQ(O);var N=RQ(O,es(es({},x),{},{realScaleType:k})),C=es(es(es({},x),N),{},{range:S,radius:v,realScaleType:k,scale:O,cx:u,cy:d,innerRadius:p,outerRadius:v,startAngle:l,endAngle:c});return es(es({},y),{},$Q({},b,C))},{})},S3e=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-s,2))},T3e=function(e,n){var r=e.x,i=e.y,o=n.cx,s=n.cy,a=S3e({x:r,y:i},{x:o,y:s});if(a<=0)return{radius:a};var l=(r-o)/a,c=Math.acos(l);return i>s&&(c=2*Math.PI-c),{radius:a,angle:w3e(c),angleInRadian:c}},E3e=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return{startAngle:n-s*360,endAngle:r-s*360}},A3e=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),s=Math.floor(i/360),a=Math.min(o,s);return e+a*360},V4=function(e,n){var r=e.x,i=e.y,o=T3e({x:r,y:i},n),s=o.radius,a=o.angle,l=n.innerRadius,c=n.outerRadius;if(s<l||s>c)return!1;if(s===0)return!0;var u=E3e(n),d=u.startAngle,h=u.endAngle,p=a,v;if(d<=h){for(;p>h;)p-=360;for(;p<d;)p+=360;v=p>=d&&p<=h}else{for(;p>d;)p-=360;for(;p<h;)p+=360;v=p>=h&&p<=d}return v?es(es({},n),{},{radius:s,angle:A3e(p,n)}):null},VQ=function(e){return!_.isValidElement(e)&&!Pe(e)&&typeof e!="boolean"?e.className:""};function kg(t){"@babel/helpers - typeof";return kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kg(t)}var P3e=["offset"];function I3e(t){return O3e(t)||N3e(t)||k3e(t)||C3e()}function C3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k3e(t,e){if(t){if(typeof t=="string")return pI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pI(t,e)}}function N3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function O3e(t){if(Array.isArray(t))return pI(t)}function pI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function j3e(t,e){if(t==null)return{};var n=R3e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function R3e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function F4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F4(Object(n),!0).forEach(function(r){D3e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function D3e(t,e,n){return e=M3e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M3e(t){var e=$3e(t,"string");return kg(e)=="symbol"?e:e+""}function $3e(t,e){if(kg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(kg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ng(){return Ng=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ng.apply(this,arguments)}var L3e=function(e){var n=e.value,r=e.formatter,i=Oe(e.children)?n:e.children;return Pe(r)?r(i):i},V3e=function(e,n){var r=ar(n-e),i=Math.min(Math.abs(n-e),360);return r*i},F3e=function(e,n,r){var i=e.position,o=e.viewBox,s=e.offset,a=e.className,l=o,c=l.cx,u=l.cy,d=l.innerRadius,h=l.outerRadius,p=l.startAngle,v=l.endAngle,m=l.clockWise,y=(d+h)/2,b=V3e(p,v),x=b>=0?1:-1,w,E;i==="insideStart"?(w=p+x*s,E=m):i==="insideEnd"?(w=v-x*s,E=!m):i==="end"&&(w=v+x*s,E=m),E=b<=0?E:!E;var S=wt(c,u,y,w),P=wt(c,u,y,w+(E?1:-1)*359),T="M".concat(S.x,",").concat(S.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(E?0:1,`,
    `).concat(P.x,",").concat(P.y),A=Oe(e.id)?Au("recharts-radial-line-"):e.id;return M.createElement("text",Ng({},r,{dominantBaseline:"central",className:je("recharts-radial-bar-label",a)}),M.createElement("defs",null,M.createElement("path",{id:A,d:T})),M.createElement("textPath",{xlinkHref:"#".concat(A)},n))},B3e=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,s=o.cx,a=o.cy,l=o.innerRadius,c=o.outerRadius,u=o.startAngle,d=o.endAngle,h=(u+d)/2;if(i==="outside"){var p=wt(s,a,c+r,h),v=p.x,m=p.y;return{x:v,y:m,textAnchor:v>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"end"};var y=(l+c)/2,b=wt(s,a,y,h),x=b.x,w=b.y;return{x,y:w,textAnchor:"middle",verticalAnchor:"middle"}},U3e=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,s=n,a=s.x,l=s.y,c=s.width,u=s.height,d=u>=0?1:-1,h=d*i,p=d>0?"end":"start",v=d>0?"start":"end",m=c>=0?1:-1,y=m*i,b=m>0?"end":"start",x=m>0?"start":"end";if(o==="top"){var w={x:a+c/2,y:l-d*i,textAnchor:"middle",verticalAnchor:p};return fn(fn({},w),r?{height:Math.max(l-r.y,0),width:c}:{})}if(o==="bottom"){var E={x:a+c/2,y:l+u+h,textAnchor:"middle",verticalAnchor:v};return fn(fn({},E),r?{height:Math.max(r.y+r.height-(l+u),0),width:c}:{})}if(o==="left"){var S={x:a-y,y:l+u/2,textAnchor:b,verticalAnchor:"middle"};return fn(fn({},S),r?{width:Math.max(S.x-r.x,0),height:u}:{})}if(o==="right"){var P={x:a+c+y,y:l+u/2,textAnchor:x,verticalAnchor:"middle"};return fn(fn({},P),r?{width:Math.max(r.x+r.width-P.x,0),height:u}:{})}var T=r?{width:c,height:u}:{};return o==="insideLeft"?fn({x:a+y,y:l+u/2,textAnchor:x,verticalAnchor:"middle"},T):o==="insideRight"?fn({x:a+c-y,y:l+u/2,textAnchor:b,verticalAnchor:"middle"},T):o==="insideTop"?fn({x:a+c/2,y:l+h,textAnchor:"middle",verticalAnchor:v},T):o==="insideBottom"?fn({x:a+c/2,y:l+u-h,textAnchor:"middle",verticalAnchor:p},T):o==="insideTopLeft"?fn({x:a+y,y:l+h,textAnchor:x,verticalAnchor:v},T):o==="insideTopRight"?fn({x:a+c-y,y:l+h,textAnchor:b,verticalAnchor:v},T):o==="insideBottomLeft"?fn({x:a+y,y:l+u-h,textAnchor:x,verticalAnchor:p},T):o==="insideBottomRight"?fn({x:a+c-y,y:l+u-h,textAnchor:b,verticalAnchor:p},T):Sh(o)&&(ae(o.x)||pc(o.x))&&(ae(o.y)||pc(o.y))?fn({x:a+lr(o.x,c),y:l+lr(o.y,u),textAnchor:"end",verticalAnchor:"end"},T):fn({x:a+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},T)},z3e=function(e){return"cx"in e&&ae(e.cx)};function Cn(t){var e=t.offset,n=e===void 0?5:e,r=j3e(t,P3e),i=fn({offset:n},r),o=i.viewBox,s=i.position,a=i.value,l=i.children,c=i.content,u=i.className,d=u===void 0?"":u,h=i.textBreakAll;if(!o||Oe(a)&&Oe(l)&&!_.isValidElement(c)&&!Pe(c))return null;if(_.isValidElement(c))return _.cloneElement(c,i);var p;if(Pe(c)){if(p=_.createElement(c,i),_.isValidElement(p))return p}else p=L3e(i);var v=z3e(o),m=Ee(i,!0);if(v&&(s==="insideStart"||s==="insideEnd"||s==="end"))return F3e(i,p,m);var y=v?B3e(i):U3e(i);return M.createElement(ru,Ng({className:je("recharts-label",d)},m,y,{breakAll:h}),p)}Cn.displayName="Label";var FQ=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,s=e.endAngle,a=e.r,l=e.radius,c=e.innerRadius,u=e.outerRadius,d=e.x,h=e.y,p=e.top,v=e.left,m=e.width,y=e.height,b=e.clockWise,x=e.labelViewBox;if(x)return x;if(ae(m)&&ae(y)){if(ae(d)&&ae(h))return{x:d,y:h,width:m,height:y};if(ae(p)&&ae(v))return{x:p,y:v,width:m,height:y}}return ae(d)&&ae(h)?{x:d,y:h,width:0,height:0}:ae(n)&&ae(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:s||i||0,innerRadius:c||0,outerRadius:u||l||a||0,clockWise:b}:e.viewBox?e.viewBox:{}},W3e=function(e,n){return e?e===!0?M.createElement(Cn,{key:"label-implicit",viewBox:n}):yn(e)?M.createElement(Cn,{key:"label-implicit",viewBox:n,value:e}):_.isValidElement(e)?e.type===Cn?_.cloneElement(e,{key:"label-implicit",viewBox:n}):M.createElement(Cn,{key:"label-implicit",content:e,viewBox:n}):Pe(e)?M.createElement(Cn,{key:"label-implicit",content:e,viewBox:n}):Sh(e)?M.createElement(Cn,Ng({viewBox:n},e,{key:"label-implicit"})):null:null},q3e=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=FQ(e),s=Zr(i,Cn).map(function(l,c){return _.cloneElement(l,{viewBox:n||o,key:"label-".concat(c)})});if(!r)return s;var a=W3e(e.label,n||o);return[a].concat(I3e(s))};Cn.parseViewBox=FQ;Cn.renderCallByParent=q3e;function G3e(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var H3e=G3e;const K3e=Ze(H3e);function Og(t){"@babel/helpers - typeof";return Og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Og(t)}var Y3e=["valueAccessor"],X3e=["data","dataKey","clockWise","id","textBreakAll"];function Q3e(t){return tBe(t)||eBe(t)||Z3e(t)||J3e()}function J3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z3e(t,e){if(t){if(typeof t=="string")return mI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mI(t,e)}}function eBe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tBe(t){if(Array.isArray(t))return mI(t)}function mI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Gb(){return Gb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gb.apply(this,arguments)}function B4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function U4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B4(Object(n),!0).forEach(function(r){nBe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nBe(t,e,n){return e=rBe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rBe(t){var e=iBe(t,"string");return Og(e)=="symbol"?e:e+""}function iBe(t,e){if(Og(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Og(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function z4(t,e){if(t==null)return{};var n=oBe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function oBe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var sBe=function(e){return Array.isArray(e.value)?K3e(e.value):e.value};function $o(t){var e=t.valueAccessor,n=e===void 0?sBe:e,r=z4(t,Y3e),i=r.data,o=r.dataKey,s=r.clockWise,a=r.id,l=r.textBreakAll,c=z4(r,X3e);return!i||!i.length?null:M.createElement(Fe,{className:"recharts-label-list"},i.map(function(u,d){var h=Oe(o)?n(u,d):Xt(u&&u.payload,o),p=Oe(a)?{}:{id:"".concat(a,"-").concat(d)};return M.createElement(Cn,Gb({},Ee(u,!0),c,p,{parentViewBox:u.parentViewBox,value:h,textBreakAll:l,viewBox:Cn.parseViewBox(Oe(s)?u:U4(U4({},u),{},{clockWise:s})),key:"label-".concat(d),index:d}))}))}$o.displayName="LabelList";function aBe(t,e){return t?t===!0?M.createElement($o,{key:"labelList-implicit",data:e}):M.isValidElement(t)||Pe(t)?M.createElement($o,{key:"labelList-implicit",data:e,content:t}):Sh(t)?M.createElement($o,Gb({data:e},t,{key:"labelList-implicit"})):null:null}function lBe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Zr(r,$o).map(function(s,a){return _.cloneElement(s,{data:e,key:"labelList-".concat(a)})});if(!n)return i;var o=aBe(t.label,e);return[o].concat(Q3e(i))}$o.renderCallByParent=lBe;function jg(t){"@babel/helpers - typeof";return jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jg(t)}function gI(){return gI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gI.apply(this,arguments)}function W4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function q4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W4(Object(n),!0).forEach(function(r){cBe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cBe(t,e,n){return e=uBe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uBe(t){var e=dBe(t,"string");return jg(e)=="symbol"?e:e+""}function dBe(t,e){if(jg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(jg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fBe=function(e,n){var r=ar(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},e0=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,s=e.sign,a=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,u=l*(a?1:-1)+i,d=Math.asin(l/u)/qb,h=c?o:o+s*d,p=wt(n,r,u,h),v=wt(n,r,i,h),m=c?o-s*d:o,y=wt(n,r,u*Math.cos(d*qb),m);return{center:p,circleTangency:v,lineTangency:y,theta:d}},BQ=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.startAngle,a=e.endAngle,l=fBe(s,a),c=s+l,u=wt(n,r,o,s),d=wt(n,r,o,c),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var p=wt(n,r,i,s),v=wt(n,r,i,c);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},hBe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.cornerRadius,a=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,u=e.endAngle,d=ar(u-c),h=e0({cx:n,cy:r,radius:o,angle:c,sign:d,cornerRadius:s,cornerIsExternal:l}),p=h.circleTangency,v=h.lineTangency,m=h.theta,y=e0({cx:n,cy:r,radius:o,angle:u,sign:-d,cornerRadius:s,cornerIsExternal:l}),b=y.circleTangency,x=y.lineTangency,w=y.theta,E=l?Math.abs(c-u):Math.abs(c-u)-m-w;if(E<0)return a?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):BQ({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:c,endAngle:u});var S="M ".concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(E>180),",").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
  `);if(i>0){var P=e0({cx:n,cy:r,radius:i,angle:c,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),T=P.circleTangency,A=P.lineTangency,k=P.theta,O=e0({cx:n,cy:r,radius:i,angle:u,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),N=O.circleTangency,C=O.lineTangency,j=O.theta,$=l?Math.abs(c-u):Math.abs(c-u)-k-j;if($<0&&s===0)return"".concat(S,"L").concat(n,",").concat(r,"Z");S+="L".concat(C.x,",").concat(C.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(N.x,",").concat(N.y,`
      A`).concat(i,",").concat(i,",0,").concat(+($>180),",").concat(+(d>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(A.x,",").concat(A.y,"Z")}else S+="L".concat(n,",").concat(r,"Z");return S},pBe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},UQ=function(e){var n=q4(q4({},pBe),e),r=n.cx,i=n.cy,o=n.innerRadius,s=n.outerRadius,a=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,u=n.startAngle,d=n.endAngle,h=n.className;if(s<o||u===d)return null;var p=je("recharts-sector",h),v=s-o,m=lr(a,v,0,!0),y;return m>0&&Math.abs(u-d)<360?y=hBe({cx:r,cy:i,innerRadius:o,outerRadius:s,cornerRadius:Math.min(m,v/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):y=BQ({cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:u,endAngle:d}),M.createElement("path",gI({},Ee(n,!0),{className:p,d:y,role:"img"}))};function Rg(t){"@babel/helpers - typeof";return Rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rg(t)}function yI(){return yI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yI.apply(this,arguments)}function G4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function H4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G4(Object(n),!0).forEach(function(r){mBe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mBe(t,e,n){return e=gBe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gBe(t){var e=yBe(t,"string");return Rg(e)=="symbol"?e:e+""}function yBe(t,e){if(Rg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Rg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var K4={curveBasisClosed:vCe,curveBasisOpen:xCe,curveBasis:yCe,curveBumpX:rCe,curveBumpY:iCe,curveLinearClosed:bCe,curveLinear:y1,curveMonotoneX:wCe,curveMonotoneY:_Ce,curveNatural:SCe,curveStep:TCe,curveStepAfter:ACe,curveStepBefore:ECe},t0=function(e){return e.x===+e.x&&e.y===+e.y},vp=function(e){return e.x},xp=function(e){return e.y},vBe=function(e,n){if(Pe(e))return e;var r="curve".concat(m1(e));return(r==="curveMonotone"||r==="curveBump")&&n?K4["".concat(r).concat(n==="vertical"?"Y":"X")]:K4[r]||y1},xBe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,s=e.baseLine,a=e.layout,l=e.connectNulls,c=l===void 0?!1:l,u=vBe(r,a),d=c?o.filter(function(m){return t0(m)}):o,h;if(Array.isArray(s)){var p=c?s.filter(function(m){return t0(m)}):s,v=d.map(function(m,y){return H4(H4({},m),{},{base:p[y]})});return a==="vertical"?h=Wv().y(xp).x1(vp).x0(function(m){return m.base.x}):h=Wv().x(vp).y1(xp).y0(function(m){return m.base.y}),h.defined(t0).curve(u),h(v)}return a==="vertical"&&ae(s)?h=Wv().y(xp).x1(vp).x0(s):ae(s)?h=Wv().x(vp).y1(xp).y0(s):h=MY().x(vp).y(xp),h.defined(t0).curve(u),h(d)},Pc=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?xBe(e):i;return _.createElement("path",yI({},Ee(e,!1),gb(e),{className:je("recharts-curve",n),d:s,ref:o}))},zQ={exports:{}},bBe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",wBe=bBe,_Be=wBe;function WQ(){}function qQ(){}qQ.resetWarningCache=WQ;var SBe=function(){function t(r,i,o,s,a,l){if(l!==_Be){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:qQ,resetWarningCache:WQ};return n.PropTypes=n,n};zQ.exports=SBe();var TBe=zQ.exports;const tt=Ze(TBe);var EBe=Object.getOwnPropertyNames,ABe=Object.getOwnPropertySymbols,PBe=Object.prototype.hasOwnProperty;function Y4(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function n0(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var o=i.cache,s=o.get(n),a=o.get(r);if(s&&a)return s===r&&a===n;o.set(n,r),o.set(r,n);var l=t(n,r,i);return o.delete(n),o.delete(r),l}}function IBe(t){return t!=null?t[Symbol.toStringTag]:void 0}function X4(t){return EBe(t).concat(ABe(t))}var CBe=Object.hasOwn||function(t,e){return PBe.call(t,e)};function Cu(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var kBe="__v",NBe="__o",OBe="_owner",Q4=Object.getOwnPropertyDescriptor,J4=Object.keys;function jBe(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function RBe(t,e){return Cu(t.getTime(),e.getTime())}function DBe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function MBe(t,e){return t===e}function Z4(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.entries(),s,a,l=0;(s=o.next())&&!s.done;){for(var c=e.entries(),u=!1,d=0;(a=c.next())&&!a.done;){if(i[d]){d++;continue}var h=s.value,p=a.value;if(n.equals(h[0],p[0],l,d,t,e,n)&&n.equals(h[1],p[1],h[0],p[0],t,e,n)){u=i[d]=!0;break}d++}if(!u)return!1;l++}return!0}var $Be=Cu;function LBe(t,e,n){var r=J4(t),i=r.length;if(J4(e).length!==i)return!1;for(;i-- >0;)if(!GQ(t,e,n,r[i]))return!1;return!0}function bp(t,e,n){var r=X4(t),i=r.length;if(X4(e).length!==i)return!1;for(var o,s,a;i-- >0;)if(o=r[i],!GQ(t,e,n,o)||(s=Q4(t,o),a=Q4(e,o),(s||a)&&(!s||!a||s.configurable!==a.configurable||s.enumerable!==a.enumerable||s.writable!==a.writable)))return!1;return!0}function VBe(t,e){return Cu(t.valueOf(),e.valueOf())}function FBe(t,e){return t.source===e.source&&t.flags===e.flags}function e3(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.values(),s,a;(s=o.next())&&!s.done;){for(var l=e.values(),c=!1,u=0;(a=l.next())&&!a.done;){if(!i[u]&&n.equals(s.value,a.value,s.value,a.value,t,e,n)){c=i[u]=!0;break}u++}if(!c)return!1}return!0}function BBe(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function UBe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function GQ(t,e,n,r){return(r===OBe||r===NBe||r===kBe)&&(t.$$typeof||e.$$typeof)?!0:CBe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var zBe="[object Arguments]",WBe="[object Boolean]",qBe="[object Date]",GBe="[object Error]",HBe="[object Map]",KBe="[object Number]",YBe="[object Object]",XBe="[object RegExp]",QBe="[object Set]",JBe="[object String]",ZBe="[object URL]",e5e=Array.isArray,t3=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,n3=Object.assign,t5e=Object.prototype.toString.call.bind(Object.prototype.toString);function n5e(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,o=t.areMapsEqual,s=t.areNumbersEqual,a=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,c=t.areRegExpsEqual,u=t.areSetsEqual,d=t.areTypedArraysEqual,h=t.areUrlsEqual,p=t.unknownTagComparators;return function(m,y,b){if(m===y)return!0;if(m==null||y==null)return!1;var x=typeof m;if(x!==typeof y)return!1;if(x!=="object")return x==="number"?s(m,y,b):x==="function"?i(m,y,b):!1;var w=m.constructor;if(w!==y.constructor)return!1;if(w===Object)return a(m,y,b);if(e5e(m))return e(m,y,b);if(t3!=null&&t3(m))return d(m,y,b);if(w===Date)return n(m,y,b);if(w===RegExp)return c(m,y,b);if(w===Map)return o(m,y,b);if(w===Set)return u(m,y,b);var E=t5e(m);if(E===qBe)return n(m,y,b);if(E===XBe)return c(m,y,b);if(E===HBe)return o(m,y,b);if(E===QBe)return u(m,y,b);if(E===YBe)return typeof m.then!="function"&&typeof y.then!="function"&&a(m,y,b);if(E===ZBe)return h(m,y,b);if(E===GBe)return r(m,y,b);if(E===zBe)return a(m,y,b);if(E===WBe||E===KBe||E===JBe)return l(m,y,b);if(p){var S=p[E];if(!S){var P=IBe(m);P&&(S=p[P])}if(S)return S(m,y,b)}return!1}}function r5e(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?bp:jBe,areDatesEqual:RBe,areErrorsEqual:DBe,areFunctionsEqual:MBe,areMapsEqual:r?Y4(Z4,bp):Z4,areNumbersEqual:$Be,areObjectsEqual:r?bp:LBe,arePrimitiveWrappersEqual:VBe,areRegExpsEqual:FBe,areSetsEqual:r?Y4(e3,bp):e3,areTypedArraysEqual:r?bp:BBe,areUrlsEqual:UBe,unknownTagComparators:void 0};if(n&&(i=n3({},i,n(i))),e){var o=n0(i.areArraysEqual),s=n0(i.areMapsEqual),a=n0(i.areObjectsEqual),l=n0(i.areSetsEqual);i=n3({},i,{areArraysEqual:o,areMapsEqual:s,areObjectsEqual:a,areSetsEqual:l})}return i}function i5e(t){return function(e,n,r,i,o,s,a){return t(e,n,a)}}function o5e(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,o=t.strict;if(r)return function(l,c){var u=r(),d=u.cache,h=d===void 0?e?new WeakMap:void 0:d,p=u.meta;return n(l,c,{cache:h,equals:i,meta:p,strict:o})};if(e)return function(l,c){return n(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var s={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,c){return n(l,c,s)}}var s5e=Nl();Nl({strict:!0});Nl({circular:!0});Nl({circular:!0,strict:!0});Nl({createInternalComparator:function(){return Cu}});Nl({strict:!0,createInternalComparator:function(){return Cu}});Nl({circular:!0,createInternalComparator:function(){return Cu}});Nl({circular:!0,createInternalComparator:function(){return Cu},strict:!0});function Nl(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,o=t.strict,s=o===void 0?!1:o,a=r5e(t),l=n5e(a),c=r?r(l):i5e(l);return o5e({circular:n,comparator:l,createState:i,equals:c,strict:s})}function a5e(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function r3(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):a5e(i)};requestAnimationFrame(r)}function vI(t){"@babel/helpers - typeof";return vI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vI(t)}function l5e(t){return f5e(t)||d5e(t)||u5e(t)||c5e()}function c5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u5e(t,e){if(t){if(typeof t=="string")return i3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i3(t,e)}}function i3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function d5e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function f5e(t){if(Array.isArray(t))return t}function h5e(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,a=l5e(s),l=a[0],c=a.slice(1);if(typeof l=="number"){r3(i.bind(null,c),l);return}i(l),r3(i.bind(null,c));return}vI(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Dg(t){"@babel/helpers - typeof";return Dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dg(t)}function o3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function s3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o3(Object(n),!0).forEach(function(r){HQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HQ(t,e,n){return e=p5e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p5e(t){var e=m5e(t,"string");return Dg(e)==="symbol"?e:String(e)}function m5e(t,e){if(Dg(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Dg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var g5e=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},y5e=function(e){return e},v5e=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},pm=function(e,n){return Object.keys(n).reduce(function(r,i){return s3(s3({},r),{},HQ({},i,e(i,n[i])))},{})},a3=function(e,n,r){return e.map(function(i){return"".concat(v5e(i)," ").concat(n,"ms ").concat(r)}).join(",")};function x5e(t,e){return _5e(t)||w5e(t,e)||KQ(t,e)||b5e()}function b5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w5e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function _5e(t){if(Array.isArray(t))return t}function S5e(t){return A5e(t)||E5e(t)||KQ(t)||T5e()}function T5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KQ(t,e){if(t){if(typeof t=="string")return xI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xI(t,e)}}function E5e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function A5e(t){if(Array.isArray(t))return xI(t)}function xI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Hb=1e-4,YQ=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},XQ=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},l3=function(e,n){return function(r){var i=YQ(e,n);return XQ(i,r)}},P5e=function(e,n){return function(r){var i=YQ(e,n),o=[].concat(S5e(i.map(function(s,a){return s*a}).slice(1)),[0]);return XQ(o,r)}},c3=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],s=n[2],a=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,s=1,a=1;break;case"ease":i=.25,o=.1,s=.25,a=1;break;case"ease-in":i=.42,o=0,s=1,a=1;break;case"ease-out":i=.42,o=0,s=.58,a=1;break;case"ease-in-out":i=0,o=0,s=.58,a=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),u=x5e(c,4);i=u[0],o=u[1],s=u[2],a=u[3]}}}var d=l3(i,s),h=l3(o,a),p=P5e(i,s),v=function(b){return b>1?1:b<0?0:b},m=function(b){for(var x=b>1?1:b,w=x,E=0;E<8;++E){var S=d(w)-x,P=p(w);if(Math.abs(S-x)<Hb||P<Hb)return h(w);w=v(w-S/P)}return h(w)};return m.isStepper=!1,m},I5e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,s=e.dt,a=s===void 0?17:s,l=function(u,d,h){var p=-(u-d)*r,v=h*o,m=h+(p-v)*a/1e3,y=h*a/1e3+u;return Math.abs(y-d)<Hb&&Math.abs(m)<Hb?[d,0]:[y,m]};return l.isStepper=!0,l.dt=a,l},C5e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return c3(i);case"spring":return I5e();default:if(i.split("(")[0]==="cubic-bezier")return c3(i)}return typeof i=="function"?i:null};function Mg(t){"@babel/helpers - typeof";return Mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mg(t)}function u3(t){return O5e(t)||N5e(t)||QQ(t)||k5e()}function k5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N5e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function O5e(t){if(Array.isArray(t))return wI(t)}function d3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?d3(Object(n),!0).forEach(function(r){bI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bI(t,e,n){return e=j5e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j5e(t){var e=R5e(t,"string");return Mg(e)==="symbol"?e:String(e)}function R5e(t,e){if(Mg(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Mg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function D5e(t,e){return L5e(t)||$5e(t,e)||QQ(t,e)||M5e()}function M5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QQ(t,e){if(t){if(typeof t=="string")return wI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wI(t,e)}}function wI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $5e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function L5e(t){if(Array.isArray(t))return t}var Kb=function(e,n,r){return e+(n-e)*r},_I=function(e){var n=e.from,r=e.to;return n!==r},V5e=function t(e,n,r){var i=pm(function(o,s){if(_I(s)){var a=e(s.from,s.to,s.velocity),l=D5e(a,2),c=l[0],u=l[1];return Mn(Mn({},s),{},{from:c,velocity:u})}return s},n);return r<1?pm(function(o,s){return _I(s)?Mn(Mn({},s),{},{velocity:Kb(s.velocity,i[o].velocity,r),from:Kb(s.from,i[o].from,r)}):s},n):t(e,i,r-1)};const F5e=function(t,e,n,r,i){var o=g5e(t,e),s=o.reduce(function(y,b){return Mn(Mn({},y),{},bI({},b,[t[b],e[b]]))},{}),a=o.reduce(function(y,b){return Mn(Mn({},y),{},bI({},b,{from:t[b],velocity:0,to:e[b]}))},{}),l=-1,c,u,d=function(){return null},h=function(){return pm(function(b,x){return x.from},a)},p=function(){return!Object.values(a).filter(_I).length},v=function(b){c||(c=b);var x=b-c,w=x/n.dt;a=V5e(n,a,w),i(Mn(Mn(Mn({},t),e),h())),c=b,p()||(l=requestAnimationFrame(d))},m=function(b){u||(u=b);var x=(b-u)/r,w=pm(function(S,P){return Kb.apply(void 0,u3(P).concat([n(x)]))},s);if(i(Mn(Mn(Mn({},t),e),w)),x<1)l=requestAnimationFrame(d);else{var E=pm(function(S,P){return Kb.apply(void 0,u3(P).concat([n(1)]))},s);i(Mn(Mn(Mn({},t),e),E))}};return d=n.isStepper?v:m,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function Df(t){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Df(t)}var B5e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function U5e(t,e){if(t==null)return{};var n=z5e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function z5e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function rE(t){return H5e(t)||G5e(t)||q5e(t)||W5e()}function W5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q5e(t,e){if(t){if(typeof t=="string")return SI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SI(t,e)}}function G5e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function H5e(t){if(Array.isArray(t))return SI(t)}function SI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function f3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Di(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f3(Object(n),!0).forEach(function(r){Mp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mp(t,e,n){return e=JQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,JQ(r.key),r)}}function Y5e(t,e,n){return e&&h3(t.prototype,e),n&&h3(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function JQ(t){var e=X5e(t,"string");return Df(e)==="symbol"?e:String(e)}function X5e(t,e){if(Df(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Df(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Q5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TI(t,e)}function TI(t,e){return TI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},TI(t,e)}function J5e(t){var e=Z5e();return function(){var r=Yb(t),i;if(e){var o=Yb(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return EI(this,i)}}function EI(t,e){if(e&&(Df(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AI(t)}function AI(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Z5e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Yb(t){return Yb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yb(t)}var j1=function(t){Q5e(n,t);var e=J5e(n);function n(r,i){var o;K5e(this,n),o=e.call(this,r,i);var s=o.props,a=s.isActive,l=s.attributeName,c=s.from,u=s.to,d=s.steps,h=s.children,p=s.duration;if(o.handleStyleChange=o.handleStyleChange.bind(AI(o)),o.changeStyle=o.changeStyle.bind(AI(o)),!a||p<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:u}),EI(o);if(d&&d.length)o.state={style:d[0].style};else if(c){if(typeof h=="function")return o.state={style:c},EI(o);o.state={style:l?Mp({},l,c):c}}else o.state={style:{}};return o}return Y5e(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,s=i.canBegin;this.mounted=!0,!(!o||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.isActive,a=o.canBegin,l=o.attributeName,c=o.shouldReAnimate,u=o.to,d=o.from,h=this.state.style;if(a){if(!s){var p={style:l?Mp({},l,u):u};this.state&&h&&(l&&h[l]!==u||!l&&h!==u)&&this.setState(p);return}if(!(s5e(i.to,u)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=v||c?d:i.to;if(this.state&&h){var y={style:l?Mp({},l,m):m};(l&&h[l]!==m||!l&&h!==m)&&this.setState(y)}this.runAnimation(Di(Di({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,s=i.from,a=i.to,l=i.duration,c=i.easing,u=i.begin,d=i.onAnimationEnd,h=i.onAnimationStart,p=F5e(s,a,C5e(c),l,this.changeStyle),v=function(){o.stopJSAnimation=p()};this.manager.start([h,u,v,l,d])}},{key:"runStepAnimation",value:function(i){var o=this,s=i.steps,a=i.begin,l=i.onAnimationStart,c=s[0],u=c.style,d=c.duration,h=d===void 0?0:d,p=function(m,y,b){if(b===0)return m;var x=y.duration,w=y.easing,E=w===void 0?"ease":w,S=y.style,P=y.properties,T=y.onAnimationEnd,A=b>0?s[b-1]:y,k=P||Object.keys(S);if(typeof E=="function"||E==="spring")return[].concat(rE(m),[o.runJSAnimation.bind(o,{from:A.style,to:S,duration:x,easing:E}),x]);var O=a3(k,x,E),N=Di(Di(Di({},A.style),S),{},{transition:O});return[].concat(rE(m),[N,x,T]).filter(y5e)};return this.manager.start([l].concat(rE(s.reduce(p,[u,Math.max(h,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=h5e());var o=i.begin,s=i.duration,a=i.attributeName,l=i.to,c=i.easing,u=i.onAnimationStart,d=i.onAnimationEnd,h=i.steps,p=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var m=a?Mp({},a,l):l,y=a3(Object.keys(m),s,c);v.start([u,o,Di(Di({},m),{},{transition:y}),s,d])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=U5e(i,B5e),c=_.Children.count(o),u=this.state.style;if(typeof o=="function")return o(u);if(!a||c===0||s<=0)return o;var d=function(p){var v=p.props,m=v.style,y=m===void 0?{}:m,b=v.className,x=_.cloneElement(p,Di(Di({},l),{},{style:Di(Di({},y),u),className:b}));return x};return c===1?d(_.Children.only(o)):M.createElement("div",null,_.Children.map(o,function(h){return d(h)}))}}]),n}(_.PureComponent);j1.displayName="Animate";j1.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};j1.propTypes={from:tt.oneOfType([tt.object,tt.string]),to:tt.oneOfType([tt.object,tt.string]),attributeName:tt.string,duration:tt.number,begin:tt.number,easing:tt.oneOfType([tt.string,tt.func]),steps:tt.arrayOf(tt.shape({duration:tt.number.isRequired,style:tt.object.isRequired,easing:tt.oneOfType([tt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),tt.func]),properties:tt.arrayOf("string"),onAnimationEnd:tt.func})),children:tt.oneOfType([tt.node,tt.func]),isActive:tt.bool,canBegin:tt.bool,onAnimationEnd:tt.func,shouldReAnimate:tt.bool,onAnimationStart:tt.func,onAnimationReStart:tt.func};const hl=j1;function $g(t){"@babel/helpers - typeof";return $g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$g(t)}function Xb(){return Xb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xb.apply(this,arguments)}function e6e(t,e){return i6e(t)||r6e(t,e)||n6e(t,e)||t6e()}function t6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n6e(t,e){if(t){if(typeof t=="string")return p3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p3(t,e)}}function p3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function r6e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function i6e(t){if(Array.isArray(t))return t}function m3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function g3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m3(Object(n),!0).forEach(function(r){o6e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function o6e(t,e,n){return e=s6e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s6e(t){var e=a6e(t,"string");return $g(e)=="symbol"?e:e+""}function a6e(t,e){if($g(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if($g(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var y3=function(e,n,r,i,o){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),a=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,u;if(s>0&&o instanceof Array){for(var d=[0,0,0,0],h=0,p=4;h<p;h++)d[h]=o[h]>s?s:o[h];u="M".concat(e,",").concat(n+a*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(n)),u+="L ".concat(e+r-l*d[1],",").concat(n),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(n+a*d[1])),u+="L ".concat(e+r,",").concat(n+i-a*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-l*d[2],",").concat(n+i)),u+="L ".concat(e+l*d[3],",").concat(n+i),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(n+i-a*d[3])),u+="Z"}else if(s>0&&o===+o&&o>0){var v=Math.min(s,o);u="M ".concat(e,",").concat(n+a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e+l*v,",").concat(n,`
            L `).concat(e+r-l*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e+r,",").concat(n+a*v,`
            L `).concat(e+r,",").concat(n+i-a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e+r-l*v,",").concat(n+i,`
            L `).concat(e+l*v,",").concat(n+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e,",").concat(n+i-a*v," Z")}else u="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return u},l6e=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,s=n.y,a=n.width,l=n.height;if(Math.abs(a)>0&&Math.abs(l)>0){var c=Math.min(o,o+a),u=Math.max(o,o+a),d=Math.min(s,s+l),h=Math.max(s,s+l);return r>=c&&r<=u&&i>=d&&i<=h}return!1},c6e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},$j=function(e){var n=g3(g3({},c6e),e),r=_.useRef(),i=_.useState(-1),o=e6e(i,2),s=o[0],a=o[1];_.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var E=r.current.getTotalLength();E&&a(E)}catch{}},[]);var l=n.x,c=n.y,u=n.width,d=n.height,h=n.radius,p=n.className,v=n.animationEasing,m=n.animationDuration,y=n.animationBegin,b=n.isAnimationActive,x=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||u===0||d===0)return null;var w=je("recharts-rectangle",p);return x?M.createElement(hl,{canBegin:s>0,from:{width:u,height:d,x:l,y:c},to:{width:u,height:d,x:l,y:c},duration:m,animationEasing:v,isActive:x},function(E){var S=E.width,P=E.height,T=E.x,A=E.y;return M.createElement(hl,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:m,isActive:b,easing:v},M.createElement("path",Xb({},Ee(n,!0),{className:w,d:y3(T,A,S,P,h),ref:r})))}):M.createElement("path",Xb({},Ee(n,!0),{className:w,d:y3(l,c,u,d,h)}))},u6e=["points","className","baseLinePoints","connectNulls"];function vd(){return vd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vd.apply(this,arguments)}function d6e(t,e){if(t==null)return{};var n=f6e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function f6e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function v3(t){return g6e(t)||m6e(t)||p6e(t)||h6e()}function h6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p6e(t,e){if(t){if(typeof t=="string")return PI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PI(t,e)}}function m6e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function g6e(t){if(Array.isArray(t))return PI(t)}function PI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var x3=function(e){return e&&e.x===+e.x&&e.y===+e.y},y6e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){x3(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),x3(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},mm=function(e,n){var r=y6e(e);n&&(r=[r.reduce(function(o,s){return[].concat(v3(o),v3(s))},[])]);var i=r.map(function(o){return o.reduce(function(s,a,l){return"".concat(s).concat(l===0?"M":"L").concat(a.x,",").concat(a.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},v6e=function(e,n,r){var i=mm(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(mm(n.reverse(),r).slice(1))},x6e=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,o=e.connectNulls,s=d6e(e,u6e);if(!n||!n.length)return null;var a=je("recharts-polygon",r);if(i&&i.length){var l=s.stroke&&s.stroke!=="none",c=v6e(n,i,o);return M.createElement("g",{className:a},M.createElement("path",vd({},Ee(s,!0),{fill:c.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:c})),l?M.createElement("path",vd({},Ee(s,!0),{fill:"none",d:mm(n,o)})):null,l?M.createElement("path",vd({},Ee(s,!0),{fill:"none",d:mm(i,o)})):null)}var u=mm(n,o);return M.createElement("path",vd({},Ee(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",className:a,d:u}))};function II(){return II=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},II.apply(this,arguments)}var By=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,s=je("recharts-dot",o);return n===+n&&r===+r&&i===+i?_.createElement("circle",II({},Ee(e,!1),gb(e),{className:s,cx:n,cy:r,r:i})):null};function Lg(t){"@babel/helpers - typeof";return Lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lg(t)}var b6e=["x","y","top","left","width","height","className"];function CI(){return CI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CI.apply(this,arguments)}function b3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function w6e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b3(Object(n),!0).forEach(function(r){_6e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _6e(t,e,n){return e=S6e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S6e(t){var e=T6e(t,"string");return Lg(e)=="symbol"?e:e+""}function T6e(t,e){if(Lg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Lg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function E6e(t,e){if(t==null)return{};var n=A6e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function A6e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var P6e=function(e,n,r,i,o,s){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},I6e=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.top,a=s===void 0?0:s,l=e.left,c=l===void 0?0:l,u=e.width,d=u===void 0?0:u,h=e.height,p=h===void 0?0:h,v=e.className,m=E6e(e,b6e),y=w6e({x:r,y:o,top:a,left:c,width:d,height:p},m);return!ae(r)||!ae(o)||!ae(d)||!ae(p)||!ae(a)||!ae(c)?null:M.createElement("path",CI({},Ee(y,!0),{className:je("recharts-cross",v),d:P6e(r,o,d,p,a,c)}))},C6e=C1,k6e=uQ,N6e=qo;function O6e(t,e){return t&&t.length?C6e(t,N6e(e),k6e):void 0}var j6e=O6e;const R6e=Ze(j6e);var D6e=C1,M6e=qo,$6e=dQ;function L6e(t,e){return t&&t.length?D6e(t,M6e(e),$6e):void 0}var V6e=L6e;const F6e=Ze(V6e);var B6e=["cx","cy","angle","ticks","axisLine"],U6e=["ticks","tick","angle","tickFormatter","stroke"];function Mf(t){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mf(t)}function gm(){return gm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gm.apply(this,arguments)}function w3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w3(Object(n),!0).forEach(function(r){R1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _3(t,e){if(t==null)return{};var n=z6e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function z6e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function W6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eJ(r.key),r)}}function q6e(t,e,n){return e&&S3(t.prototype,e),n&&S3(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function G6e(t,e,n){return e=Qb(e),H6e(t,ZQ()?Reflect.construct(e,n||[],Qb(t).constructor):e.apply(t,n))}function H6e(t,e){if(e&&(Mf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return K6e(t)}function K6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZQ=function(){return!!t})()}function Qb(t){return Qb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qb(t)}function Y6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kI(t,e)}function kI(t,e){return kI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},kI(t,e)}function R1(t,e,n){return e=eJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eJ(t){var e=X6e(t,"string");return Mf(e)=="symbol"?e:e+""}function X6e(t,e){if(Mf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Mf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var D1=function(t){function e(){return W6e(this,e),G6e(this,e,arguments)}return Y6e(e,t),q6e(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,o=this.props,s=o.angle,a=o.cx,l=o.cy;return wt(a,l,i,s)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,o=r.cy,s=r.angle,a=r.ticks,l=R6e(a,function(u){return u.coordinate||0}),c=F6e(a,function(u){return u.coordinate||0});return{cx:i,cy:o,startAngle:s,endAngle:s,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,s=r.angle,a=r.ticks,l=r.axisLine,c=_3(r,B6e),u=a.reduce(function(v,m){return[Math.min(v[0],m.coordinate),Math.max(v[1],m.coordinate)]},[1/0,-1/0]),d=wt(i,o,u[0],s),h=wt(i,o,u[1],s),p=Wl(Wl(Wl({},Ee(c,!1)),{},{fill:"none"},Ee(l,!1)),{},{x1:d.x,y1:d.y,x2:h.x,y2:h.y});return M.createElement("line",gm({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,s=i.tick,a=i.angle,l=i.tickFormatter,c=i.stroke,u=_3(i,U6e),d=this.getTickTextAnchor(),h=Ee(u,!1),p=Ee(s,!1),v=o.map(function(m,y){var b=r.getTickValueCoord(m),x=Wl(Wl(Wl(Wl({textAnchor:d,transform:"rotate(".concat(90-a,", ").concat(b.x,", ").concat(b.y,")")},h),{},{stroke:"none",fill:c},p),{},{index:y},b),{},{payload:m});return M.createElement(Fe,gm({className:je("recharts-polar-radius-axis-tick",VQ(s)),key:"tick-".concat(m.coordinate)},nu(r.props,m,y)),e.renderTickItem(s,x,l?l(m.value,y):m.value))});return M.createElement(Fe,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.axisLine,s=r.tick;return!i||!i.length?null:M.createElement(Fe,{className:je("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),s&&this.renderTicks(),Cn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,o){var s;return M.isValidElement(r)?s=M.cloneElement(r,i):Pe(r)?s=r(i):s=M.createElement(ru,gm({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),s}}])}(_.PureComponent);R1(D1,"displayName","PolarRadiusAxis");R1(D1,"axisType","radiusAxis");R1(D1,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function $f(t){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$f(t)}function ac(){return ac=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ac.apply(this,arguments)}function T3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ql(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T3(Object(n),!0).forEach(function(r){M1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Q6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nJ(r.key),r)}}function J6e(t,e,n){return e&&E3(t.prototype,e),n&&E3(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Z6e(t,e,n){return e=Jb(e),eUe(t,tJ()?Reflect.construct(e,n||[],Jb(t).constructor):e.apply(t,n))}function eUe(t,e){if(e&&($f(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tUe(t)}function tUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tJ=function(){return!!t})()}function Jb(t){return Jb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jb(t)}function nUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&NI(t,e)}function NI(t,e){return NI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},NI(t,e)}function M1(t,e,n){return e=nJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nJ(t){var e=rUe(t,"string");return $f(e)=="symbol"?e:e+""}function rUe(t,e){if($f(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if($f(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iUe=Math.PI/180,A3=1e-5,$1=function(t){function e(){return Q6e(this,e),Z6e(this,e,arguments)}return nUe(e,t),J6e(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.cx,s=i.cy,a=i.radius,l=i.orientation,c=i.tickSize,u=c||8,d=wt(o,s,a,r.coordinate),h=wt(o,s,a+(l==="inner"?-1:1)*u,r.coordinate);return{x1:d.x,y1:d.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,o=Math.cos(-r.coordinate*iUe),s;return o>A3?s=i==="outer"?"start":"end":o<-A3?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,s=r.radius,a=r.axisLine,l=r.axisLineType,c=ql(ql({},Ee(this.props,!1)),{},{fill:"none"},Ee(a,!1));if(l==="circle")return M.createElement(By,ac({className:"recharts-polar-angle-axis-line"},c,{cx:i,cy:o,r:s}));var u=this.props.ticks,d=u.map(function(h){return wt(i,o,s,h.coordinate)});return M.createElement(x6e,ac({className:"recharts-polar-angle-axis-line"},c,{points:d}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,s=i.tick,a=i.tickLine,l=i.tickFormatter,c=i.stroke,u=Ee(this.props,!1),d=Ee(s,!1),h=ql(ql({},u),{},{fill:"none"},Ee(a,!1)),p=o.map(function(v,m){var y=r.getTickLineCoord(v),b=r.getTickTextAnchor(v),x=ql(ql(ql({textAnchor:b},u),{},{stroke:"none",fill:c},d),{},{index:m,payload:v,x:y.x2,y:y.y2});return M.createElement(Fe,ac({className:je("recharts-polar-angle-axis-tick",VQ(s)),key:"tick-".concat(v.coordinate)},nu(r.props,v,m)),a&&M.createElement("line",ac({className:"recharts-polar-angle-axis-tick-line"},h,y)),s&&e.renderTickItem(s,x,l?l(v.value,m):v.value))});return M.createElement(Fe,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.radius,s=r.axisLine;return o<=0||!i||!i.length?null:M.createElement(Fe,{className:je("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,o){var s;return M.isValidElement(r)?s=M.cloneElement(r,i):Pe(r)?s=r(i):s=M.createElement(ru,ac({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),s}}])}(_.PureComponent);M1($1,"displayName","PolarAngleAxis");M1($1,"axisType","angleAxis");M1($1,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var oUe=sX,sUe=oUe(Object.getPrototypeOf,Object),aUe=sUe,lUe=Ws,cUe=aUe,uUe=qs,dUe="[object Object]",fUe=Function.prototype,hUe=Object.prototype,rJ=fUe.toString,pUe=hUe.hasOwnProperty,mUe=rJ.call(Object);function gUe(t){if(!uUe(t)||lUe(t)!=dUe)return!1;var e=cUe(t);if(e===null)return!0;var n=pUe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&rJ.call(n)==mUe}var yUe=gUe;const vUe=Ze(yUe);var xUe=Ws,bUe=qs,wUe="[object Boolean]";function _Ue(t){return t===!0||t===!1||bUe(t)&&xUe(t)==wUe}var SUe=_Ue;const TUe=Ze(SUe);function Vg(t){"@babel/helpers - typeof";return Vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vg(t)}function Zb(){return Zb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zb.apply(this,arguments)}function EUe(t,e){return CUe(t)||IUe(t,e)||PUe(t,e)||AUe()}function AUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PUe(t,e){if(t){if(typeof t=="string")return P3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P3(t,e)}}function P3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function IUe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function CUe(t){if(Array.isArray(t))return t}function I3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function C3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I3(Object(n),!0).forEach(function(r){kUe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kUe(t,e,n){return e=NUe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NUe(t){var e=OUe(t,"string");return Vg(e)=="symbol"?e:e+""}function OUe(t,e){if(Vg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Vg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var k3=function(e,n,r,i,o){var s=r-i,a;return a="M ".concat(e,",").concat(n),a+="L ".concat(e+r,",").concat(n),a+="L ".concat(e+r-s/2,",").concat(n+o),a+="L ".concat(e+r-s/2-i,",").concat(n+o),a+="L ".concat(e,",").concat(n," Z"),a},jUe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},RUe=function(e){var n=C3(C3({},jUe),e),r=_.useRef(),i=_.useState(-1),o=EUe(i,2),s=o[0],a=o[1];_.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&a(w)}catch{}},[]);var l=n.x,c=n.y,u=n.upperWidth,d=n.lowerWidth,h=n.height,p=n.className,v=n.animationEasing,m=n.animationDuration,y=n.animationBegin,b=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||h!==+h||u===0&&d===0||h===0)return null;var x=je("recharts-trapezoid",p);return b?M.createElement(hl,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:u,lowerWidth:d,height:h,x:l,y:c},duration:m,animationEasing:v,isActive:b},function(w){var E=w.upperWidth,S=w.lowerWidth,P=w.height,T=w.x,A=w.y;return M.createElement(hl,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:m,easing:v},M.createElement("path",Zb({},Ee(n,!0),{className:x,d:k3(T,A,E,S,P),ref:r})))}):M.createElement("g",null,M.createElement("path",Zb({},Ee(n,!0),{className:x,d:k3(l,c,u,d,h)})))},DUe=["option","shapeType","propTransformer","activeClassName","isActive"];function Fg(t){"@babel/helpers - typeof";return Fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fg(t)}function MUe(t,e){if(t==null)return{};var n=$Ue(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $Ue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function N3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ew(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N3(Object(n),!0).forEach(function(r){LUe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LUe(t,e,n){return e=VUe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VUe(t){var e=FUe(t,"string");return Fg(e)=="symbol"?e:e+""}function FUe(t,e){if(Fg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Fg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BUe(t,e){return ew(ew({},e),t)}function UUe(t,e){return t==="symbols"}function O3(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return M.createElement($j,n);case"trapezoid":return M.createElement(RUe,n);case"sector":return M.createElement(UQ,n);case"symbols":if(UUe(e))return M.createElement(nj,n);break;default:return null}}function zUe(t){return _.isValidElement(t)?t.props:t}function iJ(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?BUe:r,o=t.activeClassName,s=o===void 0?"recharts-active-shape":o,a=t.isActive,l=MUe(t,DUe),c;if(_.isValidElement(e))c=_.cloneElement(e,ew(ew({},l),zUe(e)));else if(Pe(e))c=e(l);else if(vUe(e)&&!TUe(e)){var u=i(e,l);c=M.createElement(O3,{shapeType:n,elementProps:u})}else{var d=l;c=M.createElement(O3,{shapeType:n,elementProps:d})}return a?M.createElement(Fe,{className:s},c):c}function L1(t,e){return e!=null&&"trapezoids"in t.props}function V1(t,e){return e!=null&&"sectors"in t.props}function Bg(t,e){return e!=null&&"points"in t.props}function WUe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function qUe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function GUe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function HUe(t,e){var n;return L1(t,e)?n=WUe:V1(t,e)?n=qUe:Bg(t,e)&&(n=GUe),n}function KUe(t,e){var n;return L1(t,e)?n="trapezoids":V1(t,e)?n="sectors":Bg(t,e)&&(n="points"),n}function YUe(t,e){if(L1(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(V1(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Bg(t,e)?e.payload:{}}function XUe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=KUe(n,e),o=YUe(n,e),s=r.filter(function(l,c){var u=iu(o,l),d=n.props[i].filter(function(v){var m=HUe(n,e);return m(v,e)}),h=n.props[i].indexOf(d[d.length-1]),p=c===h;return u&&p}),a=r.indexOf(s[s.length-1]);return a}var B0;function Lf(t){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lf(t)}function xd(){return xd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xd.apply(this,arguments)}function j3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j3(Object(n),!0).forEach(function(r){vi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sJ(r.key),r)}}function JUe(t,e,n){return e&&R3(t.prototype,e),n&&R3(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ZUe(t,e,n){return e=tw(e),eze(t,oJ()?Reflect.construct(e,n||[],tw(t).constructor):e.apply(t,n))}function eze(t,e){if(e&&(Lf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tze(t)}function tze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oJ=function(){return!!t})()}function tw(t){return tw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tw(t)}function nze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&OI(t,e)}function OI(t,e){return OI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},OI(t,e)}function vi(t,e,n){return e=sJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sJ(t){var e=rze(t,"string");return Lf(e)=="symbol"?e:e+""}function rze(t,e){if(Lf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Lf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hs=function(t){function e(n){var r;return QUe(this,e),r=ZUe(this,e,[n]),vi(r,"pieRef",null),vi(r,"sectorRefs",[]),vi(r,"id",Au("recharts-pie-")),vi(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Pe(i)&&i()}),vi(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Pe(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return nze(e,t),JUe(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.label,a=o.labelLine,l=o.dataKey,c=o.valueKey,u=Ee(this.props,!1),d=Ee(s,!1),h=Ee(a,!1),p=s&&s.offsetRadius||20,v=r.map(function(m,y){var b=(m.startAngle+m.endAngle)/2,x=wt(m.cx,m.cy,m.outerRadius+p,b),w=yt(yt(yt(yt({},u),m),{},{stroke:"none"},d),{},{index:y,textAnchor:e.getTextAnchor(x.x,m.cx)},x),E=yt(yt(yt(yt({},u),m),{},{fill:"none",stroke:m.fill},h),{},{index:y,points:[wt(m.cx,m.cy,m.outerRadius,b),x]}),S=l;return Oe(l)&&Oe(c)?S="value":Oe(l)&&(S=c),M.createElement(Fe,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(y)},a&&e.renderLabelLineItem(a,E,"line"),e.renderLabelItem(s,w,Xt(m,S)))});return M.createElement(Fe,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(r){var i=this,o=this.props,s=o.activeShape,a=o.blendStroke,l=o.inactiveShape;return r.map(function(c,u){if((c==null?void 0:c.startAngle)===0&&(c==null?void 0:c.endAngle)===0&&r.length!==1)return null;var d=i.isActiveIndex(u),h=l&&i.hasActiveIndex()?l:null,p=d?s:h,v=yt(yt({},c),{},{stroke:a?c.fill:c.stroke,tabIndex:-1});return M.createElement(Fe,xd({ref:function(y){y&&!i.sectorRefs.includes(y)&&i.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},nu(i.props,c,u),{key:"sector-".concat(c==null?void 0:c.startAngle,"-").concat(c==null?void 0:c.endAngle,"-").concat(c.midAngle,"-").concat(u)}),M.createElement(iJ,xd({option:p,isActive:d,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,o=i.sectors,s=i.isAnimationActive,a=i.animationBegin,l=i.animationDuration,c=i.animationEasing,u=i.animationId,d=this.state,h=d.prevSectors,p=d.prevIsAnimationActive;return M.createElement(hl,{begin:a,duration:l,isActive:s,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var m=v.t,y=[],b=o&&o[0],x=b.startAngle;return o.forEach(function(w,E){var S=h&&h[E],P=E>0?Jr(w,"paddingAngle",0):0;if(S){var T=mn(S.endAngle-S.startAngle,w.endAngle-w.startAngle),A=yt(yt({},w),{},{startAngle:x+P,endAngle:x+T(m)+P});y.push(A),x=A.endAngle}else{var k=w.endAngle,O=w.startAngle,N=mn(0,k-O),C=N(m),j=yt(yt({},w),{},{startAngle:x+P,endAngle:x+C+P});y.push(j),x=j.endAngle}}),M.createElement(Fe,null,r.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var a=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,o=r.isAnimationActive,s=this.state.prevSectors;return o&&i&&i.length&&(!s||!iu(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,o=i.hide,s=i.sectors,a=i.className,l=i.label,c=i.cx,u=i.cy,d=i.innerRadius,h=i.outerRadius,p=i.isAnimationActive,v=this.state.isAnimationFinished;if(o||!s||!s.length||!ae(c)||!ae(u)||!ae(d)||!ae(h))return null;var m=je("recharts-pie",a);return M.createElement(Fe,{tabIndex:this.props.rootTabIndex,className:m,ref:function(b){r.pieRef=b}},this.renderSectors(),l&&this.renderLabels(s),Cn.renderCallByParent(this.props,null,!1),(!p||v)&&$o.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,o){if(M.isValidElement(r))return M.cloneElement(r,i);if(Pe(r))return r(i);var s=je("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return M.createElement(Pc,xd({},i,{key:o,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(r,i,o){if(M.isValidElement(r))return M.cloneElement(r,i);var s=o;if(Pe(r)&&(s=r(i),M.isValidElement(s)))return s;var a=je("recharts-pie-label-text",typeof r!="boolean"&&!Pe(r)?r.className:"");return M.createElement(ru,xd({},i,{alignmentBaseline:"middle",className:a}),s)}}])}(_.PureComponent);B0=Hs;vi(Hs,"displayName","Pie");vi(Hs,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Ji.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});vi(Hs,"parseDeltaAngle",function(t,e){var n=ar(e-t),r=Math.min(Math.abs(e-t),360);return n*r});vi(Hs,"getRealPieData",function(t){var e=t.data,n=t.children,r=Ee(t,!1),i=Zr(n,_1);return e&&e.length?e.map(function(o,s){return yt(yt(yt({payload:o},r),o),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(o){return yt(yt({},r),o.props)}):[]});vi(Hs,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,o=e.height,s=LQ(i,o),a=r+lr(t.cx,i,i/2),l=n+lr(t.cy,o,o/2),c=lr(t.innerRadius,s,0),u=lr(t.outerRadius,s,s*.8),d=t.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:a,cy:l,innerRadius:c,outerRadius:u,maxRadius:d}});vi(Hs,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?yt(yt({},e.type.defaultProps),e.props):e.props,i=B0.getRealPieData(r);if(!i||!i.length)return null;var o=r.cornerRadius,s=r.startAngle,a=r.endAngle,l=r.paddingAngle,c=r.dataKey,u=r.nameKey,d=r.valueKey,h=r.tooltipType,p=Math.abs(r.minAngle),v=B0.parseCoordinateOfPie(r,n),m=B0.parseDeltaAngle(s,a),y=Math.abs(m),b=c;Oe(c)&&Oe(d)?(Qi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):Oe(c)&&(Qi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=d);var x=i.filter(function(A){return Xt(A,b,0)!==0}).length,w=(y>=360?x:x-1)*l,E=y-x*p-w,S=i.reduce(function(A,k){var O=Xt(k,b,0);return A+(ae(O)?O:0)},0),P;if(S>0){var T;P=i.map(function(A,k){var O=Xt(A,b,0),N=Xt(A,u,k),C=(ae(O)?O:0)/S,j;k?j=T.endAngle+ar(m)*l*(O!==0?1:0):j=s;var $=j+ar(m)*((O!==0?p:0)+C*E),B=(j+$)/2,U=(v.innerRadius+v.outerRadius)/2,z=[{name:N,value:O,payload:A,dataKey:b,type:h}],V=wt(v.cx,v.cy,U,B);return T=yt(yt(yt({percent:C,cornerRadius:o,name:N,tooltipPayload:z,midAngle:B,middleRadius:U,tooltipPosition:V},A),v),{},{value:Xt(A,b),startAngle:j,endAngle:$,payload:A,paddingAngle:ar(m)*l}),T})}return yt(yt({},v),{},{sectors:P,data:i})});var ize=Math.ceil,oze=Math.max;function sze(t,e,n,r){for(var i=-1,o=oze(ize((e-t)/(n||1)),0),s=Array(o);o--;)s[r?o:++i]=t,t+=n;return s}var aze=sze,lze=EX,D3=1/0,cze=17976931348623157e292;function uze(t){if(!t)return t===0?t:0;if(t=lze(t),t===D3||t===-D3){var e=t<0?-1:1;return e*cze}return t===t?t:0}var aJ=uze,dze=aze,fze=w1,iE=aJ;function hze(t){return function(e,n,r){return r&&typeof r!="number"&&fze(e,n,r)&&(n=r=void 0),e=iE(e),n===void 0?(n=e,e=0):n=iE(n),r=r===void 0?e<n?1:-1:iE(r),dze(e,n,r,t)}}var pze=hze,mze=pze,gze=mze(),yze=gze;const nw=Ze(yze);function Ug(t){"@babel/helpers - typeof";return Ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ug(t)}function M3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M3(Object(n),!0).forEach(function(r){lJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lJ(t,e,n){return e=vze(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vze(t){var e=xze(t,"string");return Ug(e)=="symbol"?e:e+""}function xze(t,e){if(Ug(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ug(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bze=["Webkit","Moz","O","ms"],wze=function(e,n){if(!e)return null;var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=bze.reduce(function(o,s){return $3($3({},o),{},lJ({},s+r,n))},{});return i[e]=n,i};function Vf(t){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vf(t)}function rw(){return rw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rw.apply(this,arguments)}function L3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L3(Object(n),!0).forEach(function(r){$r(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _ze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function V3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uJ(r.key),r)}}function Sze(t,e,n){return e&&V3(t.prototype,e),n&&V3(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tze(t,e,n){return e=iw(e),Eze(t,cJ()?Reflect.construct(e,n||[],iw(t).constructor):e.apply(t,n))}function Eze(t,e){if(e&&(Vf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Aze(t)}function Aze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cJ=function(){return!!t})()}function iw(t){return iw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},iw(t)}function Pze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jI(t,e)}function jI(t,e){return jI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jI(t,e)}function $r(t,e,n){return e=uJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uJ(t){var e=Ize(t,"string");return Vf(e)=="symbol"?e:e+""}function Ize(t,e){if(Vf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Vf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cze=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,s=e.width,a=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=fm().domain(nw(0,l)).range([o,o+s-a]),u=c.domain().map(function(d){return c(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:u}},F3=function(e){return e.changedTouches&&!!e.changedTouches.length},Ff=function(t){function e(n){var r;return _ze(this,e),r=Tze(this,e,[n]),$r(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),$r(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),$r(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,s=i.onDragEnd,a=i.startIndex;s==null||s({endIndex:o,startIndex:a})}),r.detachDragEndListener()}),$r(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),$r(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),$r(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),$r(r,"handleSlideDragStart",function(i){var o=F3(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Pze(e,t),Sze(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,s=this.state.scaleValues,a=this.props,l=a.gap,c=a.data,u=c.length-1,d=Math.min(i,o),h=Math.max(i,o),p=e.getIndexInRange(s,d),v=e.getIndexInRange(s,h);return{startIndex:p-p%l,endIndex:v===u?u:v-v%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,s=i.tickFormatter,a=i.dataKey,l=Xt(o[r],a,r);return Pe(s)?s(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,s=i.startX,a=i.endX,l=this.props,c=l.x,u=l.width,d=l.travellerWidth,h=l.startIndex,p=l.endIndex,v=l.onChange,m=r.pageX-o;m>0?m=Math.min(m,c+u-d-a,c+u-d-s):m<0&&(m=Math.max(m,c-s,c-a));var y=this.getIndex({startX:s+m,endX:a+m});(y.startIndex!==h||y.endIndex!==p)&&v&&v(y),this.setState({startX:s+m,endX:a+m,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=F3(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,s=i.movingTravellerId,a=i.endX,l=i.startX,c=this.state[s],u=this.props,d=u.x,h=u.width,p=u.travellerWidth,v=u.onChange,m=u.gap,y=u.data,b={startX:this.state.startX,endX:this.state.endX},x=r.pageX-o;x>0?x=Math.min(x,d+h-p-c):x<0&&(x=Math.max(x,d-c)),b[s]=c+x;var w=this.getIndex(b),E=w.startIndex,S=w.endIndex,P=function(){var A=y.length-1;return s==="startX"&&(a>l?E%m===0:S%m===0)||a<l&&S===A||s==="endX"&&(a>l?S%m===0:E%m===0)||a>l&&S===A};this.setState($r($r({},s,c+x),"brushMoveStartX",r.pageX),function(){v&&P()&&v(w)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,s=this.state,a=s.scaleValues,l=s.startX,c=s.endX,u=this.state[i],d=a.indexOf(u);if(d!==-1){var h=d+r;if(!(h===-1||h>=a.length)){var p=a[h];i==="startX"&&p>=c||i==="endX"&&p<=l||this.setState($r({},i,p),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.fill,c=r.stroke;return M.createElement("rect",{stroke:c,fill:l,x:i,y:o,width:s,height:a})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.data,c=r.children,u=r.padding,d=_.Children.only(c);return d?M.cloneElement(d,{x:i,y:o,width:s,height:a,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,s,a=this,l=this.props,c=l.y,u=l.travellerWidth,d=l.height,h=l.traveller,p=l.ariaLabel,v=l.data,m=l.startIndex,y=l.endIndex,b=Math.max(r,this.props.x),x=oE(oE({},Ee(this.props,!1)),{},{x:b,y:c,width:u,height:d}),w=p||"Min value: ".concat((o=v[m])===null||o===void 0?void 0:o.name,", Max value: ").concat((s=v[y])===null||s===void 0?void 0:s.name);return M.createElement(Fe,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),a.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,x))}},{key:"renderSlide",value:function(r,i){var o=this.props,s=o.y,a=o.height,l=o.stroke,c=o.travellerWidth,u=Math.min(r,i)+c,d=Math.max(Math.abs(i-r)-c,0);return M.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:s,width:d,height:a})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,s=r.y,a=r.height,l=r.travellerWidth,c=r.stroke,u=this.state,d=u.startX,h=u.endX,p=5,v={pointerEvents:"none",fill:c};return M.createElement(Fe,{className:"recharts-brush-texts"},M.createElement(ru,rw({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-p,y:s+a/2},v),this.getTextOfTick(i)),M.createElement(ru,rw({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+l+p,y:s+a/2},v),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,s=r.children,a=r.x,l=r.y,c=r.width,u=r.height,d=r.alwaysShowText,h=this.state,p=h.startX,v=h.endX,m=h.isTextActive,y=h.isSlideMoving,b=h.isTravellerMoving,x=h.isTravellerFocused;if(!i||!i.length||!ae(a)||!ae(l)||!ae(c)||!ae(u)||c<=0||u<=0)return null;var w=je("recharts-brush",o),E=M.Children.count(s)===1,S=wze("userSelect","none");return M.createElement(Fe,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),E&&this.renderPanorama(),this.renderSlide(p,v),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(v,"endX"),(m||y||b||x||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,s=r.width,a=r.height,l=r.stroke,c=Math.floor(o+a/2)-1;return M.createElement(M.Fragment,null,M.createElement("rect",{x:i,y:o,width:s,height:a,fill:l,stroke:"none"}),M.createElement("line",{x1:i+1,y1:c,x2:i+s-1,y2:c,fill:"none",stroke:"#fff"}),M.createElement("line",{x1:i+1,y1:c+2,x2:i+s-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return M.isValidElement(r)?o=M.cloneElement(r,i):Pe(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,s=r.width,a=r.x,l=r.travellerWidth,c=r.updateId,u=r.startIndex,d=r.endIndex;if(o!==i.prevData||c!==i.prevUpdateId)return oE({prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:a,prevWidth:s},o&&o.length?Cze({data:o,width:s,x:a,travellerWidth:l,startIndex:u,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||a!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([a,a+s-l]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:a,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,s=0,a=o-1;a-s>1;){var l=Math.floor((s+a)/2);r[l]>i?a=l:s=l}return i>=r[a]?a:s}}])}(_.PureComponent);$r(Ff,"displayName","Brush");$r(Ff,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var kze=cj;function Nze(t,e){var n;return kze(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var Oze=Nze,jze=JY,Rze=qo,Dze=Oze,Mze=Or,$ze=w1;function Lze(t,e,n){var r=Mze(t)?jze:Dze;return n&&$ze(t,e,n)&&(e=void 0),r(t,Rze(e))}var Vze=Lze;const Fze=Ze(Vze);var Lo=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},B3=bX;function Bze(t,e,n){e=="__proto__"&&B3?B3(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Uze=Bze,zze=Uze,Wze=vX,qze=qo;function Gze(t,e){var n={};return e=qze(e),Wze(t,function(r,i,o){zze(n,i,e(r,i,o))}),n}var Hze=Gze;const Kze=Ze(Hze);function Yze(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var Xze=Yze,Qze=cj;function Jze(t,e){var n=!0;return Qze(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var Zze=Jze,e9e=Xze,t9e=Zze,n9e=qo,r9e=Or,i9e=w1;function o9e(t,e,n){var r=r9e(t)?e9e:t9e;return n&&i9e(t,e,n)&&(e=void 0),r(t,n9e(e))}var s9e=o9e;const dJ=Ze(s9e);var a9e=["x","y"];function zg(t){"@babel/helpers - typeof";return zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zg(t)}function RI(){return RI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},RI.apply(this,arguments)}function U3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U3(Object(n),!0).forEach(function(r){l9e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function l9e(t,e,n){return e=c9e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c9e(t){var e=u9e(t,"string");return zg(e)=="symbol"?e:e+""}function u9e(t,e){if(zg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(zg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function d9e(t,e){if(t==null)return{};var n=f9e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function f9e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function h9e(t,e){var n=t.x,r=t.y,i=d9e(t,a9e),o="".concat(n),s=parseInt(o,10),a="".concat(r),l=parseInt(a,10),c="".concat(e.height||i.height),u=parseInt(c,10),d="".concat(e.width||i.width),h=parseInt(d,10);return wp(wp(wp(wp(wp({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:u,width:h,name:e.name,radius:e.radius})}function z3(t){return M.createElement(iJ,RI({shapeType:"rectangle",propTransformer:h9e,activeClassName:"recharts-active-bar"},t))}var p9e=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=ae(r)||zPe(r);return o?e(r,i):(o||su(!1),n)}},m9e=["value","background"],fJ;function Bf(t){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bf(t)}function g9e(t,e){if(t==null)return{};var n=y9e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function y9e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ow(){return ow=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ow.apply(this,arguments)}function W3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function en(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W3(Object(n),!0).forEach(function(r){Ra(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function v9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pJ(r.key),r)}}function x9e(t,e,n){return e&&q3(t.prototype,e),n&&q3(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function b9e(t,e,n){return e=sw(e),w9e(t,hJ()?Reflect.construct(e,n||[],sw(t).constructor):e.apply(t,n))}function w9e(t,e){if(e&&(Bf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _9e(t)}function _9e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hJ=function(){return!!t})()}function sw(t){return sw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sw(t)}function S9e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DI(t,e)}function DI(t,e){return DI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},DI(t,e)}function Ra(t,e,n){return e=pJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pJ(t){var e=T9e(t,"string");return Bf(e)=="symbol"?e:e+""}function T9e(t,e){if(Bf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Bf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ku=function(t){function e(){var n;v9e(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=b9e(this,e,[].concat(i)),Ra(n,"state",{isAnimationFinished:!1}),Ra(n,"id",Au("recharts-bar-")),Ra(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),Ra(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return S9e(e,t),x9e(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,s=o.shape,a=o.dataKey,l=o.activeIndex,c=o.activeBar,u=Ee(this.props,!1);return r&&r.map(function(d,h){var p=h===l,v=p?c:s,m=en(en(en({},u),d),{},{isActive:p,option:v,index:h,dataKey:a,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return M.createElement(Fe,ow({className:"recharts-bar-rectangle"},nu(i.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),M.createElement(z3,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,s=i.layout,a=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,h=this.state.prevData;return M.createElement(hl,{begin:l,duration:c,isActive:a,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var v=p.t,m=o.map(function(y,b){var x=h&&h[b];if(x){var w=mn(x.x,y.x),E=mn(x.y,y.y),S=mn(x.width,y.width),P=mn(x.height,y.height);return en(en({},y),{},{x:w(v),y:E(v),width:S(v),height:P(v)})}if(s==="horizontal"){var T=mn(0,y.height),A=T(v);return en(en({},y),{},{y:y.y+y.height-A,height:A})}var k=mn(0,y.width),O=k(v);return en(en({},y),{},{width:O})});return M.createElement(Fe,null,r.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,s=this.state.prevData;return o&&i&&i.length&&(!s||!iu(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,s=i.dataKey,a=i.activeIndex,l=Ee(this.props.background,!1);return o.map(function(c,u){c.value;var d=c.background,h=g9e(c,m9e);if(!d)return null;var p=en(en(en(en(en({},h),{},{fill:"#eee"},d),l),nu(r.props,c,u)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:u,className:"recharts-bar-background-rectangle"});return M.createElement(z3,ow({key:"background-bar-".concat(u),option:r.props.background,isActive:u===a},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.data,a=o.xAxis,l=o.yAxis,c=o.layout,u=o.children,d=Zr(u,Fy);if(!d)return null;var h=c==="vertical"?s[0].height/2:s[0].width/2,p=function(y,b){var x=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:x,errorVal:Xt(y,b)}},v={clipPath:r?"url(#clipPath-".concat(i,")"):null};return M.createElement(Fe,v,d.map(function(m){return M.cloneElement(m,{key:"error-bar-".concat(i,"-").concat(m.props.dataKey),data:s,xAxis:a,yAxis:l,layout:c,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,s=r.className,a=r.xAxis,l=r.yAxis,c=r.left,u=r.top,d=r.width,h=r.height,p=r.isAnimationActive,v=r.background,m=r.id;if(i||!o||!o.length)return null;var y=this.state.isAnimationFinished,b=je("recharts-bar",s),x=a&&a.allowDataOverflow,w=l&&l.allowDataOverflow,E=x||w,S=Oe(m)?this.id:m;return M.createElement(Fe,{className:b},x||w?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(S)},M.createElement("rect",{x:x?c:c-d/2,y:w?u:u-h/2,width:x?d:d*2,height:w?h:h*2}))):null,M.createElement(Fe,{className:"recharts-bar-rectangles",clipPath:E?"url(#clipPath-".concat(S,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(E,S),(!p||y)&&$o.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(_.PureComponent);fJ=ku;Ra(ku,"displayName","Bar");Ra(ku,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ji.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ra(ku,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,s=t.yAxis,a=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,u=t.dataStartIndex,d=t.displayedData,h=t.offset,p=i3e(r,n);if(!p)return null;var v=e.layout,m=n.type.defaultProps,y=m!==void 0?en(en({},m),n.props):n.props,b=y.dataKey,x=y.children,w=y.minPointSize,E=v==="horizontal"?s:o,S=c?E.scale.domain():null,P=d3e({numericAxis:E}),T=Zr(x,_1),A=d.map(function(k,O){var N,C,j,$,B,U;c?N=o3e(c[u+O],S):(N=Xt(k,b),Array.isArray(N)||(N=[P,N]));var z=p9e(w,fJ.defaultProps.minPointSize)(N[1],O);if(v==="horizontal"){var V,L=[s.scale(N[0]),s.scale(N[1])],Y=L[0],K=L[1];C=j4({axis:o,ticks:a,bandSize:i,offset:p.offset,entry:k,index:O}),j=(V=K??Y)!==null&&V!==void 0?V:void 0,$=p.size;var F=Y-K;if(B=Number.isNaN(F)?0:F,U={x:C,y:s.y,width:$,height:s.height},Math.abs(z)>0&&Math.abs(B)<Math.abs(z)){var te=ar(B||z)*(Math.abs(z)-Math.abs(B));j-=te,B+=te}}else{var ie=[o.scale(N[0]),o.scale(N[1])],pe=ie[0],ue=ie[1];if(C=pe,j=j4({axis:s,ticks:l,bandSize:i,offset:p.offset,entry:k,index:O}),$=ue-pe,B=p.size,U={x:o.x,y:j,width:o.width,height:B},Math.abs(z)>0&&Math.abs($)<Math.abs(z)){var oe=ar($||z)*(Math.abs(z)-Math.abs($));$+=oe}}return en(en(en({},k),{},{x:C,y:j,width:$,height:B,value:c?N:N[1],payload:k,background:U},T&&T[O]&&T[O].props),{},{tooltipPayload:[MQ(n,k)],tooltipPosition:{x:C+$/2,y:j+B/2}})});return en({data:A,layout:v},h)});function Wg(t){"@babel/helpers - typeof";return Wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wg(t)}function E9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mJ(r.key),r)}}function A9e(t,e,n){return e&&G3(t.prototype,e),n&&G3(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function H3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H3(Object(n),!0).forEach(function(r){F1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function F1(t,e,n){return e=mJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mJ(t){var e=P9e(t,"string");return Wg(e)=="symbol"?e:e+""}function P9e(t,e){if(Wg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Wg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lj=function(e,n,r,i,o){var s=e.width,a=e.height,l=e.layout,c=e.children,u=Object.keys(n),d={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:a-r.bottom,bottomMirror:a-r.bottom},h=!!Vr(c,ku);return u.reduce(function(p,v){var m=n[v],y=m.orientation,b=m.domain,x=m.padding,w=x===void 0?{}:x,E=m.mirror,S=m.reversed,P="".concat(y).concat(E?"Mirror":""),T,A,k,O,N;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var C=b[1]-b[0],j=1/0,$=m.categoricalDomain.sort(GPe);if($.forEach(function(ie,pe){pe>0&&(j=Math.min((ie||0)-($[pe-1]||0),j))}),Number.isFinite(j)){var B=j/C,U=m.layout==="vertical"?r.height:r.width;if(m.padding==="gap"&&(T=B*U/2),m.padding==="no-gap"){var z=lr(e.barCategoryGap,B*U),V=B*U/2;T=V-z-(V-z)/U*z}}}i==="xAxis"?A=[r.left+(w.left||0)+(T||0),r.left+r.width-(w.right||0)-(T||0)]:i==="yAxis"?A=l==="horizontal"?[r.top+r.height-(w.bottom||0),r.top+(w.top||0)]:[r.top+(w.top||0)+(T||0),r.top+r.height-(w.bottom||0)-(T||0)]:A=m.range,S&&(A=[A[1],A[0]]);var L=OQ(m,o,h),Y=L.scale,K=L.realScaleType;Y.domain(b).range(A),jQ(Y);var F=RQ(Y,Bi(Bi({},m),{},{realScaleType:K}));i==="xAxis"?(N=y==="top"&&!E||y==="bottom"&&E,k=r.left,O=d[P]-N*m.height):i==="yAxis"&&(N=y==="left"&&!E||y==="right"&&E,k=d[P]-N*m.width,O=r.top);var te=Bi(Bi(Bi({},m),F),{},{realScaleType:K,x:k,y:O,scale:Y,width:i==="xAxis"?r.width:m.width,height:i==="yAxis"?r.height:m.height});return te.bandSize=Wb(te,F),!m.hide&&i==="xAxis"?d[P]+=(N?-1:1)*te.height:m.hide||(d[P]+=(N?-1:1)*te.width),Bi(Bi({},p),{},F1({},v,te))},{})},gJ=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return{x:Math.min(r,o),y:Math.min(i,s),width:Math.abs(o-r),height:Math.abs(s-i)}},I9e=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return gJ({x:n,y:r},{x:i,y:o})},yJ=function(){function t(e){E9e(this,t),this.scale=e}return A9e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(n)+a}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();F1(yJ,"EPS",1e-4);var Vj=function(e){var n=Object.keys(e).reduce(function(r,i){return Bi(Bi({},r),{},F1({},i,yJ.create(e[i])))},{});return Bi(Bi({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.bandAware,a=o.position;return Kze(i,function(l,c){return n[c].apply(l,{bandAware:s,position:a})})},isInRange:function(i){return dJ(i,function(o,s){return n[s].isInRange(o)})}})};function C9e(t){return(t%180+180)%180}var k9e=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=C9e(i),s=o*Math.PI/180,a=Math.atan(r/n),l=s>a&&s<Math.PI-a?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},N9e=qo,O9e=Dy,j9e=x1;function R9e(t){return function(e,n,r){var i=Object(e);if(!O9e(e)){var o=N9e(n);e=j9e(e),n=function(a){return o(i[a],a,i)}}var s=t(e,n,r);return s>-1?i[o?e[s]:s]:void 0}}var D9e=R9e,M9e=aJ;function $9e(t){var e=M9e(t),n=e%1;return e===e?n?e-n:e:0}var L9e=$9e,V9e=fX,F9e=qo,B9e=L9e,U9e=Math.max;function z9e(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:B9e(n);return i<0&&(i=U9e(r+i,0)),V9e(t,F9e(e),i)}var W9e=z9e,q9e=D9e,G9e=W9e,H9e=q9e(G9e),K9e=H9e;const Y9e=Ze(K9e);var X9e=HAe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),Fj=_.createContext(void 0),Bj=_.createContext(void 0),vJ=_.createContext(void 0),xJ=_.createContext({}),bJ=_.createContext(void 0),wJ=_.createContext(0),_J=_.createContext(0),K3=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,s=e.clipPathId,a=e.children,l=e.width,c=e.height,u=X9e(o);return M.createElement(Fj.Provider,{value:r},M.createElement(Bj.Provider,{value:i},M.createElement(xJ.Provider,{value:o},M.createElement(vJ.Provider,{value:u},M.createElement(bJ.Provider,{value:s},M.createElement(wJ.Provider,{value:c},M.createElement(_J.Provider,{value:l},a)))))))},Q9e=function(){return _.useContext(bJ)},SJ=function(e){var n=_.useContext(Fj);n==null&&su(!1);var r=n[e];return r==null&&su(!1),r},J9e=function(){var e=_.useContext(Fj);return Aa(e)},Z9e=function(){var e=_.useContext(Bj),n=Y9e(e,function(r){return dJ(r.domain,Number.isFinite)});return n||Aa(e)},TJ=function(e){var n=_.useContext(Bj);n==null&&su(!1);var r=n[e];return r==null&&su(!1),r},e8e=function(){var e=_.useContext(vJ);return e},t8e=function(){return _.useContext(xJ)},Uj=function(){return _.useContext(_J)},zj=function(){return _.useContext(wJ)};function Uf(t){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uf(t)}function n8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Y3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,AJ(r.key),r)}}function r8e(t,e,n){return e&&Y3(t.prototype,e),n&&Y3(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function i8e(t,e,n){return e=aw(e),o8e(t,EJ()?Reflect.construct(e,n||[],aw(t).constructor):e.apply(t,n))}function o8e(t,e){if(e&&(Uf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s8e(t)}function s8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EJ=function(){return!!t})()}function aw(t){return aw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},aw(t)}function a8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&MI(t,e)}function MI(t,e){return MI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},MI(t,e)}function X3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Q3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X3(Object(n),!0).forEach(function(r){Wj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wj(t,e,n){return e=AJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AJ(t){var e=l8e(t,"string");return Uf(e)=="symbol"?e:e+""}function l8e(t,e){if(Uf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function c8e(t,e){return h8e(t)||f8e(t,e)||d8e(t,e)||u8e()}function u8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d8e(t,e){if(t){if(typeof t=="string")return J3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J3(t,e)}}function J3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function f8e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function h8e(t){if(Array.isArray(t))return t}function $I(){return $I=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$I.apply(this,arguments)}var p8e=function(e,n){var r;return M.isValidElement(e)?r=M.cloneElement(e,n):Pe(e)?r=e(n):r=M.createElement("line",$I({},n,{className:"recharts-reference-line-line"})),r},m8e=function(e,n,r,i,o,s,a,l,c){var u=o.x,d=o.y,h=o.width,p=o.height;if(r){var v=c.y,m=e.y.apply(v,{position:s});if(Lo(c,"discard")&&!e.y.isInRange(m))return null;var y=[{x:u+h,y:m},{x:u,y:m}];return l==="left"?y.reverse():y}if(n){var b=c.x,x=e.x.apply(b,{position:s});if(Lo(c,"discard")&&!e.x.isInRange(x))return null;var w=[{x,y:d+p},{x,y:d}];return a==="top"?w.reverse():w}if(i){var E=c.segment,S=E.map(function(P){return e.apply(P,{position:s})});return Lo(c,"discard")&&Fze(S,function(P){return!e.isInRange(P)})?null:S}return null};function g8e(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,s=t.shape,a=t.className,l=t.alwaysShow,c=Q9e(),u=SJ(i),d=TJ(o),h=e8e();if(!c||!h)return null;Qi(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=Vj({x:u.scale,y:d.scale}),v=yn(e),m=yn(n),y=r&&r.length===2,b=m8e(p,v,m,y,h,t.position,u.orientation,d.orientation,t);if(!b)return null;var x=c8e(b,2),w=x[0],E=w.x,S=w.y,P=x[1],T=P.x,A=P.y,k=Lo(t,"hidden")?"url(#".concat(c,")"):void 0,O=Q3(Q3({clipPath:k},Ee(t,!0)),{},{x1:E,y1:S,x2:T,y2:A});return M.createElement(Fe,{className:je("recharts-reference-line",a)},p8e(s,O),Cn.renderCallByParent(t,I9e({x1:E,y1:S,x2:T,y2:A})))}var qj=function(t){function e(){return n8e(this,e),i8e(this,e,arguments)}return a8e(e,t),r8e(e,[{key:"render",value:function(){return M.createElement(g8e,this.props)}}])}(M.Component);Wj(qj,"displayName","ReferenceLine");Wj(qj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function LI(){return LI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},LI.apply(this,arguments)}function zf(t){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zf(t)}function Z3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z3(Object(n),!0).forEach(function(r){B1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function y8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,IJ(r.key),r)}}function v8e(t,e,n){return e&&tB(t.prototype,e),n&&tB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function x8e(t,e,n){return e=lw(e),b8e(t,PJ()?Reflect.construct(e,n||[],lw(t).constructor):e.apply(t,n))}function b8e(t,e){if(e&&(zf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w8e(t)}function w8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PJ=function(){return!!t})()}function lw(t){return lw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lw(t)}function _8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VI(t,e)}function VI(t,e){return VI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},VI(t,e)}function B1(t,e,n){return e=IJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IJ(t){var e=S8e(t,"string");return zf(e)=="symbol"?e:e+""}function S8e(t,e){if(zf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(zf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var T8e=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,s=Vj({x:i.scale,y:o.scale}),a=s.apply({x:n,y:r},{bandAware:!0});return Lo(e,"discard")&&!s.isInRange(a)?null:a},U1=function(t){function e(){return y8e(this,e),x8e(this,e,arguments)}return _8e(e,t),v8e(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,s=r.r,a=r.alwaysShow,l=r.clipPathId,c=yn(i),u=yn(o);if(Qi(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var d=T8e(this.props);if(!d)return null;var h=d.x,p=d.y,v=this.props,m=v.shape,y=v.className,b=Lo(this.props,"hidden")?"url(#".concat(l,")"):void 0,x=eB(eB({clipPath:b},Ee(this.props,!0)),{},{cx:h,cy:p});return M.createElement(Fe,{className:je("recharts-reference-dot",y)},e.renderDot(m,x),Cn.renderCallByParent(this.props,{x:h-s,y:p-s,width:2*s,height:2*s}))}}])}(M.Component);B1(U1,"displayName","ReferenceDot");B1(U1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});B1(U1,"renderDot",function(t,e){var n;return M.isValidElement(t)?n=M.cloneElement(t,e):Pe(t)?n=t(e):n=M.createElement(By,LI({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function FI(){return FI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},FI.apply(this,arguments)}function Wf(t){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wf(t)}function nB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nB(Object(n),!0).forEach(function(r){z1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function E8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kJ(r.key),r)}}function A8e(t,e,n){return e&&iB(t.prototype,e),n&&iB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function P8e(t,e,n){return e=cw(e),I8e(t,CJ()?Reflect.construct(e,n||[],cw(t).constructor):e.apply(t,n))}function I8e(t,e){if(e&&(Wf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C8e(t)}function C8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CJ=function(){return!!t})()}function cw(t){return cw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cw(t)}function k8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BI(t,e)}function BI(t,e){return BI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},BI(t,e)}function z1(t,e,n){return e=kJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kJ(t){var e=N8e(t,"string");return Wf(e)=="symbol"?e:e+""}function N8e(t,e){if(Wf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Wf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var O8e=function(e,n,r,i,o){var s=o.x1,a=o.x2,l=o.y1,c=o.y2,u=o.xAxis,d=o.yAxis;if(!u||!d)return null;var h=Vj({x:u.scale,y:d.scale}),p={x:e?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},v={x:n?h.x.apply(a,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(c,{position:"end"}):h.y.rangeMax};return Lo(o,"discard")&&(!h.isInRange(p)||!h.isInRange(v))?null:gJ(p,v)},W1=function(t){function e(){return E8e(this,e),P8e(this,e,arguments)}return k8e(e,t),A8e(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,s=r.y1,a=r.y2,l=r.className,c=r.alwaysShow,u=r.clipPathId;Qi(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=yn(i),h=yn(o),p=yn(s),v=yn(a),m=this.props.shape;if(!d&&!h&&!p&&!v&&!m)return null;var y=O8e(d,h,p,v,this.props);if(!y&&!m)return null;var b=Lo(this.props,"hidden")?"url(#".concat(u,")"):void 0;return M.createElement(Fe,{className:je("recharts-reference-area",l)},e.renderRect(m,rB(rB({clipPath:b},Ee(this.props,!0)),y)),Cn.renderCallByParent(this.props,y))}}])}(M.Component);z1(W1,"displayName","ReferenceArea");z1(W1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});z1(W1,"renderRect",function(t,e){var n;return M.isValidElement(t)?n=M.cloneElement(t,e):Pe(t)?n=t(e):n=M.createElement($j,FI({},e,{className:"recharts-reference-area-rect"})),n});function NJ(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)if(n===void 0||n(t[i])===!0)r.push(t[i]);else return;return r}function j8e(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return k9e(r,n)}function R8e(t,e,n){var r=n==="width",i=t.x,o=t.y,s=t.width,a=t.height;return e===1?{start:r?i:o,end:r?i+s:o+a}:{start:r?i+s:o+a,end:r?i:o}}function uw(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function D8e(t,e){return NJ(t,e+1)}function M8e(t,e,n,r,i){for(var o=(r||[]).slice(),s=e.start,a=e.end,l=0,c=1,u=s,d=function(){var v=r==null?void 0:r[l];if(v===void 0)return{v:NJ(r,c)};var m=l,y,b=function(){return y===void 0&&(y=n(v,m)),y},x=v.coordinate,w=l===0||uw(t,x,b,u,a);w||(l=0,u=s,c+=1),w&&(u=x+t*(b()/2+i),l+=c)},h;c<=o.length;)if(h=d(),h)return h.v;return[]}function qg(t){"@babel/helpers - typeof";return qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qg(t)}function oB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oB(Object(n),!0).forEach(function(r){$8e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $8e(t,e,n){return e=L8e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L8e(t){var e=V8e(t,"string");return qg(e)=="symbol"?e:e+""}function V8e(t,e){if(qg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(qg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function F8e(t,e,n,r,i){for(var o=(r||[]).slice(),s=o.length,a=e.start,l=e.end,c=function(h){var p=o[h],v,m=function(){return v===void 0&&(v=n(p,h)),v};if(h===s-1){var y=t*(p.coordinate+t*m()/2-l);o[h]=p=Hn(Hn({},p),{},{tickCoord:y>0?p.coordinate-y*t:p.coordinate})}else o[h]=p=Hn(Hn({},p),{},{tickCoord:p.coordinate});var b=uw(t,p.tickCoord,m,a,l);b&&(l=p.tickCoord-t*(m()/2+i),o[h]=Hn(Hn({},p),{},{isShow:!0}))},u=s-1;u>=0;u--)c(u);return o}function B8e(t,e,n,r,i,o){var s=(r||[]).slice(),a=s.length,l=e.start,c=e.end;if(o){var u=r[a-1],d=n(u,a-1),h=t*(u.coordinate+t*d/2-c);s[a-1]=u=Hn(Hn({},u),{},{tickCoord:h>0?u.coordinate-h*t:u.coordinate});var p=uw(t,u.tickCoord,function(){return d},l,c);p&&(c=u.tickCoord-t*(d/2+i),s[a-1]=Hn(Hn({},u),{},{isShow:!0}))}for(var v=o?a-1:a,m=function(x){var w=s[x],E,S=function(){return E===void 0&&(E=n(w,x)),E};if(x===0){var P=t*(w.coordinate-t*S()/2-l);s[x]=w=Hn(Hn({},w),{},{tickCoord:P<0?w.coordinate-P*t:w.coordinate})}else s[x]=w=Hn(Hn({},w),{},{tickCoord:w.coordinate});var T=uw(t,w.tickCoord,S,l,c);T&&(l=w.tickCoord+t*(S()/2+i),s[x]=Hn(Hn({},w),{},{isShow:!0}))},y=0;y<v;y++)m(y);return s}function Gj(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,s=t.minTickGap,a=t.orientation,l=t.interval,c=t.tickFormatter,u=t.unit,d=t.angle;if(!i||!i.length||!r)return[];if(ae(l)||Ji.isSsr)return D8e(i,typeof l=="number"&&ae(l)?l:0);var h=[],p=a==="top"||a==="bottom"?"width":"height",v=u&&p==="width"?dm(u,{fontSize:e,letterSpacing:n}):{width:0,height:0},m=function(w,E){var S=Pe(c)?c(w.value,E):w.value;return p==="width"?j8e(dm(S,{fontSize:e,letterSpacing:n}),v,d):dm(S,{fontSize:e,letterSpacing:n})[p]},y=i.length>=2?ar(i[1].coordinate-i[0].coordinate):1,b=R8e(o,y,p);return l==="equidistantPreserveStart"?M8e(y,b,m,i,s):(l==="preserveStart"||l==="preserveStartEnd"?h=B8e(y,b,m,i,s,l==="preserveStartEnd"):h=F8e(y,b,m,i,s),h.filter(function(x){return x.isShow}))}var U8e=["viewBox"],z8e=["viewBox"],W8e=["ticks"];function qf(t){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qf(t)}function bd(){return bd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bd.apply(this,arguments)}function sB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sB(Object(n),!0).forEach(function(r){Hj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sE(t,e){if(t==null)return{};var n=q8e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function q8e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function G8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jJ(r.key),r)}}function H8e(t,e,n){return e&&aB(t.prototype,e),n&&aB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function K8e(t,e,n){return e=dw(e),Y8e(t,OJ()?Reflect.construct(e,n||[],dw(t).constructor):e.apply(t,n))}function Y8e(t,e){if(e&&(qf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X8e(t)}function X8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function OJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OJ=function(){return!!t})()}function dw(t){return dw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dw(t)}function Q8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&UI(t,e)}function UI(t,e){return UI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},UI(t,e)}function Hj(t,e,n){return e=jJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jJ(t){var e=J8e(t,"string");return qf(e)=="symbol"?e:e+""}function J8e(t,e){if(qf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(qf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rh=function(t){function e(n){var r;return G8e(this,e),r=K8e(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return Q8e(e,t),H8e(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,s=sE(r,U8e),a=this.props,l=a.viewBox,c=sE(a,z8e);return!Fd(o,l)||!Fd(s,c)||!Fd(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,s=i.y,a=i.width,l=i.height,c=i.orientation,u=i.tickSize,d=i.mirror,h=i.tickMargin,p,v,m,y,b,x,w=d?-1:1,E=r.tickSize||u,S=ae(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":p=v=r.coordinate,y=s+ +!d*l,m=y-w*E,x=m-w*h,b=S;break;case"left":m=y=r.coordinate,v=o+ +!d*a,p=v-w*E,b=p-w*h,x=S;break;case"right":m=y=r.coordinate,v=o+ +d*a,p=v+w*E,b=p+w*h,x=S;break;default:p=v=r.coordinate,y=s+ +d*l,m=y+w*E,x=m+w*h,b=S;break}return{line:{x1:p,y1:m,x2:v,y2:y},tick:{x:b,y:x}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s;switch(i){case"left":s=o?"start":"end";break;case"right":s=o?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=o?"start":"end";break;default:s=o?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.orientation,c=r.mirror,u=r.axisLine,d=dn(dn(dn({},Ee(this.props,!1)),Ee(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);d=dn(dn({},d),{},{x1:i,y1:o+h*a,x2:i+s,y2:o+h*a})}else{var p=+(l==="left"&&!c||l==="right"&&c);d=dn(dn({},d),{},{x1:i+p*s,y1:o,x2:i+p*s,y2:o+a})}return M.createElement("line",bd({},d,{className:je("recharts-cartesian-axis-line",Jr(u,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var s=this,a=this.props,l=a.tickLine,c=a.stroke,u=a.tick,d=a.tickFormatter,h=a.unit,p=Gj(dn(dn({},this.props),{},{ticks:r}),i,o),v=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),y=Ee(this.props,!1),b=Ee(u,!1),x=dn(dn({},y),{},{fill:"none"},Ee(l,!1)),w=p.map(function(E,S){var P=s.getTickLineCoord(E),T=P.line,A=P.tick,k=dn(dn(dn(dn({textAnchor:v,verticalAnchor:m},y),{},{stroke:"none",fill:c},b),A),{},{index:S,payload:E,visibleTicksCount:p.length,tickFormatter:d});return M.createElement(Fe,bd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(E.value,"-").concat(E.coordinate,"-").concat(E.tickCoord)},nu(s.props,E,S)),l&&M.createElement("line",bd({},x,T,{className:je("recharts-cartesian-axis-tick-line",Jr(l,"className"))})),u&&e.renderTickItem(u,k,"".concat(Pe(d)?d(E.value,S):E.value).concat(h||"")))});return M.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,s=i.width,a=i.height,l=i.ticksGenerator,c=i.className,u=i.hide;if(u)return null;var d=this.props,h=d.ticks,p=sE(d,W8e),v=h;return Pe(l)&&(v=h&&h.length>0?l(this.props):l(p)),s<=0||a<=0||!v||!v.length?null:M.createElement(Fe,{className:je("recharts-cartesian-axis",c),ref:function(y){r.layerReference=y}},o&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Cn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var s,a=je(i.className,"recharts-cartesian-axis-tick-value");return M.isValidElement(r)?s=M.cloneElement(r,dn(dn({},i),{},{className:a})):Pe(r)?s=r(dn(dn({},i),{},{className:a})):s=M.createElement(ru,bd({},i,{className:"recharts-cartesian-axis-tick-value"}),o),s}}])}(_.Component);Hj(Rh,"displayName","CartesianAxis");Hj(Rh,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Z8e=["x1","y1","x2","y2","key"],eWe=["offset"];function au(t){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},au(t)}function lB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lB(Object(n),!0).forEach(function(r){tWe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tWe(t,e,n){return e=nWe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nWe(t){var e=rWe(t,"string");return au(e)=="symbol"?e:e+""}function rWe(t,e){if(au(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(au(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yc(){return yc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yc.apply(this,arguments)}function cB(t,e){if(t==null)return{};var n=iWe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function iWe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var oWe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,s=e.width,a=e.height,l=e.ry;return M.createElement("rect",{x:i,y:o,ry:l,width:s,height:a,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function RJ(t,e){var n;if(M.isValidElement(t))n=M.cloneElement(t,e);else if(Pe(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,s=e.y2,a=e.key,l=cB(e,Z8e),c=Ee(l,!1);c.offset;var u=cB(c,eWe);n=M.createElement("line",yc({},u,{x1:r,y1:i,x2:o,y2:s,fill:"none",key:a}))}return n}function sWe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(a,l){var c=Xn(Xn({},t),{},{x1:e,y1:a,x2:e+n,y2:a,key:"line-".concat(l),index:l});return RJ(i,c)});return M.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function aWe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(a,l){var c=Xn(Xn({},t),{},{x1:a,y1:e,x2:a,y2:e+n,key:"line-".concat(l),index:l});return RJ(i,c)});return M.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function lWe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,s=t.height,a=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var u=a.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==u[0]&&u.unshift(0);var d=u.map(function(h,p){var v=!u[p+1],m=v?i+s-h:u[p+1]-h;if(m<=0)return null;var y=p%e.length;return M.createElement("rect",{key:"react-".concat(p),y:h,x:r,height:m,width:o,stroke:"none",fill:e[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function cWe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,s=t.y,a=t.width,l=t.height,c=t.verticalPoints;if(!n||!r||!r.length)return null;var u=c.map(function(h){return Math.round(h+o-o)}).sort(function(h,p){return h-p});o!==u[0]&&u.unshift(0);var d=u.map(function(h,p){var v=!u[p+1],m=v?o+a-h:u[p+1]-h;if(m<=0)return null;var y=p%r.length;return M.createElement("rect",{key:"react-".concat(p),x:h,y:s,width:m,height:l,stroke:"none",fill:r[y],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var uWe=function(e,n){var r=e.xAxis,i=e.width,o=e.height,s=e.offset;return NQ(Gj(Xn(Xn(Xn({},Rh.defaultProps),r),{},{ticks:ds(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.left,s.left+s.width,n)},dWe=function(e,n){var r=e.yAxis,i=e.width,o=e.height,s=e.offset;return NQ(Gj(Xn(Xn(Xn({},Rh.defaultProps),r),{},{ticks:ds(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.top,s.top+s.height,n)},Ku={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function U0(t){var e,n,r,i,o,s,a=Uj(),l=zj(),c=t8e(),u=Xn(Xn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Ku.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Ku.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Ku.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Ku.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:Ku.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:Ku.verticalFill,x:ae(t.x)?t.x:c.left,y:ae(t.y)?t.y:c.top,width:ae(t.width)?t.width:c.width,height:ae(t.height)?t.height:c.height}),d=u.x,h=u.y,p=u.width,v=u.height,m=u.syncWithTicks,y=u.horizontalValues,b=u.verticalValues,x=J9e(),w=Z9e();if(!ae(p)||p<=0||!ae(v)||v<=0||!ae(d)||d!==+d||!ae(h)||h!==+h)return null;var E=u.verticalCoordinatesGenerator||uWe,S=u.horizontalCoordinatesGenerator||dWe,P=u.horizontalPoints,T=u.verticalPoints;if((!P||!P.length)&&Pe(S)){var A=y&&y.length,k=S({yAxis:w?Xn(Xn({},w),{},{ticks:A?y:w.ticks}):void 0,width:a,height:l,offset:c},A?!0:m);Qi(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(au(k),"]")),Array.isArray(k)&&(P=k)}if((!T||!T.length)&&Pe(E)){var O=b&&b.length,N=E({xAxis:x?Xn(Xn({},x),{},{ticks:O?b:x.ticks}):void 0,width:a,height:l,offset:c},O?!0:m);Qi(Array.isArray(N),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(au(N),"]")),Array.isArray(N)&&(T=N)}return M.createElement("g",{className:"recharts-cartesian-grid"},M.createElement(oWe,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),M.createElement(sWe,yc({},u,{offset:c,horizontalPoints:P,xAxis:x,yAxis:w})),M.createElement(aWe,yc({},u,{offset:c,verticalPoints:T,xAxis:x,yAxis:w})),M.createElement(lWe,yc({},u,{horizontalPoints:P})),M.createElement(cWe,yc({},u,{verticalPoints:T})))}U0.displayName="CartesianGrid";var fWe=["type","layout","connectNulls","ref"],hWe=["key"];function Gf(t){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gf(t)}function uB(t,e){if(t==null)return{};var n=pWe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pWe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ym(){return ym=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ym.apply(this,arguments)}function dB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dB(Object(n),!0).forEach(function(r){Ui(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yu(t){return vWe(t)||yWe(t)||gWe(t)||mWe()}function mWe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gWe(t,e){if(t){if(typeof t=="string")return zI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zI(t,e)}}function yWe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vWe(t){if(Array.isArray(t))return zI(t)}function zI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,MJ(r.key),r)}}function bWe(t,e,n){return e&&fB(t.prototype,e),n&&fB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function wWe(t,e,n){return e=fw(e),_We(t,DJ()?Reflect.construct(e,n||[],fw(t).constructor):e.apply(t,n))}function _We(t,e){if(e&&(Gf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SWe(t)}function SWe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DJ=function(){return!!t})()}function fw(t){return fw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fw(t)}function TWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WI(t,e)}function WI(t,e){return WI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},WI(t,e)}function Ui(t,e,n){return e=MJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MJ(t){var e=EWe(t,"string");return Gf(e)=="symbol"?e:e+""}function EWe(t,e){if(Gf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Gf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uy=function(t){function e(){var n;xWe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=wWe(this,e,[].concat(i)),Ui(n,"state",{isAnimationFinished:!0,totalLength:0}),Ui(n,"generateSimpleStrokeDasharray",function(s,a){return"".concat(a,"px ").concat(s-a,"px")}),Ui(n,"getStrokeDasharray",function(s,a,l){var c=l.reduce(function(b,x){return b+x});if(!c)return n.generateSimpleStrokeDasharray(a,s);for(var u=Math.floor(s/c),d=s%c,h=a-s,p=[],v=0,m=0;v<l.length;m+=l[v],++v)if(m+l[v]>d){p=[].concat(Yu(l.slice(0,v)),[d-m]);break}var y=p.length%2===0?[0,h]:[h];return[].concat(Yu(e.repeat(l,u)),Yu(p),y).map(function(b){return"".concat(b,"px")}).join(", ")}),Ui(n,"id",Au("recharts-line-")),Ui(n,"pathRef",function(s){n.mainCurve=s}),Ui(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Ui(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return TWe(e,t),bWe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.points,a=o.xAxis,l=o.yAxis,c=o.layout,u=o.children,d=Zr(u,Fy);if(!d)return null;var h=function(m,y){return{x:m.x,y:m.y,value:m.value,errorVal:Xt(m.payload,y)}},p={clipPath:r?"url(#clipPath-".concat(i,")"):null};return M.createElement(Fe,p,d.map(function(v){return M.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:s,xAxis:a,yAxis:l,layout:c,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,o){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var a=this.props,l=a.dot,c=a.points,u=a.dataKey,d=Ee(this.props,!1),h=Ee(l,!0),p=c.map(function(m,y){var b=Mr(Mr(Mr({key:"dot-".concat(y),r:3},d),h),{},{index:y,cx:m.x,cy:m.y,value:m.value,dataKey:u,payload:m.payload,points:c});return e.renderDotItem(l,b)}),v={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return M.createElement(Fe,ym({className:"recharts-line-dots",key:"dots"},v),p)}},{key:"renderCurveStatically",value:function(r,i,o,s){var a=this.props,l=a.type,c=a.layout,u=a.connectNulls;a.ref;var d=uB(a,fWe),h=Mr(Mr(Mr({},Ee(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},s),{},{type:l,layout:c,connectNulls:u});return M.createElement(Pc,ym({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,s=this.props,a=s.points,l=s.strokeDasharray,c=s.isAnimationActive,u=s.animationBegin,d=s.animationDuration,h=s.animationEasing,p=s.animationId,v=s.animateNewValues,m=s.width,y=s.height,b=this.state,x=b.prevPoints,w=b.totalLength;return M.createElement(hl,{begin:u,duration:d,isActive:c,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(E){var S=E.t;if(x){var P=x.length/a.length,T=a.map(function(C,j){var $=Math.floor(j*P);if(x[$]){var B=x[$],U=mn(B.x,C.x),z=mn(B.y,C.y);return Mr(Mr({},C),{},{x:U(S),y:z(S)})}if(v){var V=mn(m*2,C.x),L=mn(y/2,C.y);return Mr(Mr({},C),{},{x:V(S),y:L(S)})}return Mr(Mr({},C),{},{x:C.x,y:C.y})});return o.renderCurveStatically(T,r,i)}var A=mn(0,w),k=A(S),O;if(l){var N="".concat(l).split(/[,\s]+/gim).map(function(C){return parseFloat(C)});O=o.getStrokeDasharray(k,w,N)}else O=o.generateSimpleStrokeDasharray(w,k);return o.renderCurveStatically(a,r,i,{strokeDasharray:O})})}},{key:"renderCurve",value:function(r,i){var o=this.props,s=o.points,a=o.isAnimationActive,l=this.state,c=l.prevPoints,u=l.totalLength;return a&&s&&s.length&&(!c&&u>0||!iu(c,s))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(s,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,s=i.dot,a=i.points,l=i.className,c=i.xAxis,u=i.yAxis,d=i.top,h=i.left,p=i.width,v=i.height,m=i.isAnimationActive,y=i.id;if(o||!a||!a.length)return null;var b=this.state.isAnimationFinished,x=a.length===1,w=je("recharts-line",l),E=c&&c.allowDataOverflow,S=u&&u.allowDataOverflow,P=E||S,T=Oe(y)?this.id:y,A=(r=Ee(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},k=A.r,O=k===void 0?3:k,N=A.strokeWidth,C=N===void 0?2:N,j=SY(s)?s:{},$=j.clipDot,B=$===void 0?!0:$,U=O*2+C;return M.createElement(Fe,{className:w},E||S?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(T)},M.createElement("rect",{x:E?h:h-p/2,y:S?d:d-v/2,width:E?p:p*2,height:S?v:v*2})),!B&&M.createElement("clipPath",{id:"clipPath-dots-".concat(T)},M.createElement("rect",{x:h-U/2,y:d-U/2,width:p+U,height:v+U}))):null,!x&&this.renderCurve(P,T),this.renderErrorBar(P,T),(x||s)&&this.renderDots(P,B,T),(!m||b)&&$o.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(Yu(r),[0]):r,s=[],a=0;a<i;++a)s=[].concat(Yu(s),Yu(o));return s}},{key:"renderDotItem",value:function(r,i){var o;if(M.isValidElement(r))o=M.cloneElement(r,i);else if(Pe(r))o=r(i);else{var s=i.key,a=uB(i,hWe),l=je("recharts-line-dot",typeof r!="boolean"?r.className:"");o=M.createElement(By,ym({key:s},a,{className:l}))}return o}}])}(_.PureComponent);Ui(Uy,"displayName","Line");Ui(Uy,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Ji.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Ui(Uy,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,s=t.dataKey,a=t.bandSize,l=t.displayedData,c=t.offset,u=e.layout,d=l.map(function(h,p){var v=Xt(h,s);return u==="horizontal"?{x:zb({axis:n,ticks:i,bandSize:a,entry:h,index:p}),y:Oe(v)?null:r.scale(v),value:v,payload:h}:{x:Oe(v)?null:n.scale(v),y:zb({axis:r,ticks:o,bandSize:a,entry:h,index:p}),value:v,payload:h}});return Mr({points:d,layout:u},c)});var AWe=["layout","type","stroke","connectNulls","isRange","ref"],PWe=["key"],$J;function Hf(t){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hf(t)}function LJ(t,e){if(t==null)return{};var n=IWe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function IWe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function vc(){return vc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vc.apply(this,arguments)}function hB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hB(Object(n),!0).forEach(function(r){Eo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,FJ(r.key),r)}}function kWe(t,e,n){return e&&pB(t.prototype,e),n&&pB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function NWe(t,e,n){return e=hw(e),OWe(t,VJ()?Reflect.construct(e,n||[],hw(t).constructor):e.apply(t,n))}function OWe(t,e){if(e&&(Hf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jWe(t)}function jWe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VJ=function(){return!!t})()}function hw(t){return hw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hw(t)}function RWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qI(t,e)}function qI(t,e){return qI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},qI(t,e)}function Eo(t,e,n){return e=FJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FJ(t){var e=DWe(t,"string");return Hf(e)=="symbol"?e:e+""}function DWe(t,e){if(Hf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Hf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ds=function(t){function e(){var n;CWe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=NWe(this,e,[].concat(i)),Eo(n,"state",{isAnimationFinished:!0}),Eo(n,"id",Au("recharts-area-")),Eo(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Pe(s)&&s()}),Eo(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Pe(s)&&s()}),n}return RWe(e,t),kWe(e,[{key:"renderDots",value:function(r,i,o){var s=this.props.isAnimationActive,a=this.state.isAnimationFinished;if(s&&!a)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,h=Ee(this.props,!1),p=Ee(c,!0),v=u.map(function(y,b){var x=fa(fa(fa({key:"dot-".concat(b),r:3},h),p),{},{index:b,cx:y.x,cy:y.y,dataKey:d,value:y.value,payload:y.payload,points:u});return e.renderDotItem(c,x)}),m={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return M.createElement(Fe,vc({className:"recharts-area-dots"},m),v)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,o=i.baseLine,s=i.points,a=i.strokeWidth,l=s[0].x,c=s[s.length-1].x,u=r*Math.abs(l-c),d=ja(s.map(function(h){return h.y||0}));return ae(o)&&typeof o=="number"?d=Math.max(o,d):o&&Array.isArray(o)&&o.length&&(d=Math.max(ja(o.map(function(h){return h.y||0})),d)),ae(d)?M.createElement("rect",{x:l<c?l:l-u,y:0,width:u,height:Math.floor(d+(a?parseInt("".concat(a),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,o=i.baseLine,s=i.points,a=i.strokeWidth,l=s[0].y,c=s[s.length-1].y,u=r*Math.abs(l-c),d=ja(s.map(function(h){return h.x||0}));return ae(o)&&typeof o=="number"?d=Math.max(o,d):o&&Array.isArray(o)&&o.length&&(d=Math.max(ja(o.map(function(h){return h.x||0})),d)),ae(d)?M.createElement("rect",{x:0,y:l<c?l:l-u,width:d+(a?parseInt("".concat(a),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,o,s){var a=this.props,l=a.layout,c=a.type,u=a.stroke,d=a.connectNulls,h=a.isRange;a.ref;var p=LJ(a,AWe);return M.createElement(Fe,{clipPath:o?"url(#clipPath-".concat(s,")"):null},M.createElement(Pc,vc({},Ee(p,!0),{points:r,connectNulls:d,type:c,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),u!=="none"&&M.createElement(Pc,vc({},Ee(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:r})),u!=="none"&&h&&M.createElement(Pc,vc({},Ee(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var o=this,s=this.props,a=s.points,l=s.baseLine,c=s.isAnimationActive,u=s.animationBegin,d=s.animationDuration,h=s.animationEasing,p=s.animationId,v=this.state,m=v.prevPoints,y=v.prevBaseLine;return M.createElement(hl,{begin:u,duration:d,isActive:c,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var x=b.t;if(m){var w=m.length/a.length,E=a.map(function(A,k){var O=Math.floor(k*w);if(m[O]){var N=m[O],C=mn(N.x,A.x),j=mn(N.y,A.y);return fa(fa({},A),{},{x:C(x),y:j(x)})}return A}),S;if(ae(l)&&typeof l=="number"){var P=mn(y,l);S=P(x)}else if(Oe(l)||Ph(l)){var T=mn(y,0);S=T(x)}else S=l.map(function(A,k){var O=Math.floor(k*w);if(y[O]){var N=y[O],C=mn(N.x,A.x),j=mn(N.y,A.y);return fa(fa({},A),{},{x:C(x),y:j(x)})}return A});return o.renderAreaStatically(E,S,r,i)}return M.createElement(Fe,null,M.createElement("defs",null,M.createElement("clipPath",{id:"animationClipPath-".concat(i)},o.renderClipRect(x))),M.createElement(Fe,{clipPath:"url(#animationClipPath-".concat(i,")")},o.renderAreaStatically(a,l,r,i)))})}},{key:"renderArea",value:function(r,i){var o=this.props,s=o.points,a=o.baseLine,l=o.isAnimationActive,c=this.state,u=c.prevPoints,d=c.prevBaseLine,h=c.totalLength;return l&&s&&s.length&&(!u&&h>0||!iu(u,s)||!iu(d,a))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(s,a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,s=i.dot,a=i.points,l=i.className,c=i.top,u=i.left,d=i.xAxis,h=i.yAxis,p=i.width,v=i.height,m=i.isAnimationActive,y=i.id;if(o||!a||!a.length)return null;var b=this.state.isAnimationFinished,x=a.length===1,w=je("recharts-area",l),E=d&&d.allowDataOverflow,S=h&&h.allowDataOverflow,P=E||S,T=Oe(y)?this.id:y,A=(r=Ee(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},k=A.r,O=k===void 0?3:k,N=A.strokeWidth,C=N===void 0?2:N,j=SY(s)?s:{},$=j.clipDot,B=$===void 0?!0:$,U=O*2+C;return M.createElement(Fe,{className:w},E||S?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(T)},M.createElement("rect",{x:E?u:u-p/2,y:S?c:c-v/2,width:E?p:p*2,height:S?v:v*2})),!B&&M.createElement("clipPath",{id:"clipPath-dots-".concat(T)},M.createElement("rect",{x:u-U/2,y:c-U/2,width:p+U,height:v+U}))):null,x?null:this.renderArea(P,T),(s||x)&&this.renderDots(P,B,T),(!m||b)&&$o.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(_.PureComponent);$J=Ds;Eo(Ds,"displayName","Area");Eo(Ds,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Ji.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Eo(Ds,"getBaseValue",function(t,e,n,r){var i=t.layout,o=t.baseValue,s=e.props.baseValue,a=s??o;if(ae(a)&&typeof a=="number")return a;var l=i==="horizontal"?r:n,c=l.scale.domain();if(l.type==="number"){var u=Math.max(c[0],c[1]),d=Math.min(c[0],c[1]);return a==="dataMin"?d:a==="dataMax"||u<0?u:Math.max(Math.min(c[0],c[1]),0)}return a==="dataMin"?c[0]:a==="dataMax"?c[1]:c[0]});Eo(Ds,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,o=t.xAxisTicks,s=t.yAxisTicks,a=t.bandSize,l=t.dataKey,c=t.stackedData,u=t.dataStartIndex,d=t.displayedData,h=t.offset,p=e.layout,v=c&&c.length,m=$J.getBaseValue(e,n,r,i),y=p==="horizontal",b=!1,x=d.map(function(E,S){var P;v?P=c[u+S]:(P=Xt(E,l),Array.isArray(P)?b=!0:P=[m,P]);var T=P[1]==null||v&&Xt(E,l)==null;return y?{x:zb({axis:r,ticks:o,bandSize:a,entry:E,index:S}),y:T?null:i.scale(P[1]),value:P,payload:E}:{x:T?null:r.scale(P[1]),y:zb({axis:i,ticks:s,bandSize:a,entry:E,index:S}),value:P,payload:E}}),w;return v||b?w=x.map(function(E){var S=Array.isArray(E.value)?E.value[0]:null;return y?{x:E.x,y:S!=null&&E.y!=null?i.scale(S):null}:{x:S!=null?r.scale(S):null,y:E.y}}):w=y?i.scale(m):r.scale(m),fa({points:x,baseLine:w,layout:p,isRange:b},h)});Eo(Ds,"renderDotItem",function(t,e){var n;if(M.isValidElement(t))n=M.cloneElement(t,e);else if(Pe(t))n=t(e);else{var r=je("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,o=LJ(e,PWe);n=M.createElement(By,vc({},o,{key:i,className:r}))}return n});function Kf(t){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kf(t)}function MWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zJ(r.key),r)}}function $We(t,e,n){return e&&mB(t.prototype,e),n&&mB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function LWe(t,e,n){return e=pw(e),VWe(t,BJ()?Reflect.construct(e,n||[],pw(t).constructor):e.apply(t,n))}function VWe(t,e){if(e&&(Kf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FWe(t)}function FWe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BJ=function(){return!!t})()}function pw(t){return pw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pw(t)}function BWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GI(t,e)}function GI(t,e){return GI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},GI(t,e)}function UJ(t,e,n){return e=zJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zJ(t){var e=UWe(t,"string");return Kf(e)=="symbol"?e:e+""}function UWe(t,e){if(Kf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Kf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HI(){return HI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},HI.apply(this,arguments)}function zWe(t){var e=t.xAxisId,n=Uj(),r=zj(),i=SJ(e);return i==null?null:_.createElement(Rh,HI({},i,{className:je("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return ds(s,!0)}}))}var Xa=function(t){function e(){return MWe(this,e),LWe(this,e,arguments)}return BWe(e,t),$We(e,[{key:"render",value:function(){return _.createElement(zWe,this.props)}}])}(_.Component);UJ(Xa,"displayName","XAxis");UJ(Xa,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Yf(t){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yf(t)}function WWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,GJ(r.key),r)}}function qWe(t,e,n){return e&&gB(t.prototype,e),n&&gB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function GWe(t,e,n){return e=mw(e),HWe(t,WJ()?Reflect.construct(e,n||[],mw(t).constructor):e.apply(t,n))}function HWe(t,e){if(e&&(Yf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KWe(t)}function KWe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WJ=function(){return!!t})()}function mw(t){return mw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mw(t)}function YWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KI(t,e)}function KI(t,e){return KI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},KI(t,e)}function qJ(t,e,n){return e=GJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GJ(t){var e=XWe(t,"string");return Yf(e)=="symbol"?e:e+""}function XWe(t,e){if(Yf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Yf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YI(){return YI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YI.apply(this,arguments)}var QWe=function(e){var n=e.yAxisId,r=Uj(),i=zj(),o=TJ(n);return o==null?null:_.createElement(Rh,YI({},o,{className:je("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(a){return ds(a,!0)}}))},Qa=function(t){function e(){return WWe(this,e),GWe(this,e,arguments)}return YWe(e,t),qWe(e,[{key:"render",value:function(){return _.createElement(QWe,this.props)}}])}(_.Component);qJ(Qa,"displayName","YAxis");qJ(Qa,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function yB(t){return t7e(t)||e7e(t)||ZWe(t)||JWe()}function JWe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZWe(t,e){if(t){if(typeof t=="string")return XI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XI(t,e)}}function e7e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function t7e(t){if(Array.isArray(t))return XI(t)}function XI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var QI=function(e,n,r,i,o){var s=Zr(e,qj),a=Zr(e,U1),l=[].concat(yB(s),yB(a)),c=Zr(e,W1),u="".concat(i,"Id"),d=i[0],h=n;if(l.length&&(h=l.reduce(function(m,y){if(y.props[u]===r&&Lo(y.props,"extendDomain")&&ae(y.props[d])){var b=y.props[d];return[Math.min(m[0],b),Math.max(m[1],b)]}return m},h)),c.length){var p="".concat(d,"1"),v="".concat(d,"2");h=c.reduce(function(m,y){if(y.props[u]===r&&Lo(y.props,"extendDomain")&&ae(y.props[p])&&ae(y.props[v])){var b=y.props[p],x=y.props[v];return[Math.min(m[0],b,x),Math.max(m[1],b,x)]}return m},h)}return o&&o.length&&(h=o.reduce(function(m,y){return ae(y)?[Math.min(m[0],y),Math.max(m[1],y)]:m},h)),h},HJ={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function o(l,c,u,d,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,d||l,h),v=n?n+c:c;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],p]:l._events[v].push(p):(l._events[v]=p,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)e.call(u,d)&&c.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},a.prototype.listeners=function(c){var u=n?n+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,p=d.length,v=new Array(p);h<p;h++)v[h]=d[h].fn;return v},a.prototype.listenerCount=function(c){var u=n?n+c:c,d=this._events[u];return d?d.fn?1:d.length:0},a.prototype.emit=function(c,u,d,h,p,v){var m=n?n+c:c;if(!this._events[m])return!1;var y=this._events[m],b=arguments.length,x,w;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),b){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,d),!0;case 4:return y.fn.call(y.context,u,d,h),!0;case 5:return y.fn.call(y.context,u,d,h,p),!0;case 6:return y.fn.call(y.context,u,d,h,p,v),!0}for(w=1,x=new Array(b-1);w<b;w++)x[w-1]=arguments[w];y.fn.apply(y.context,x)}else{var E=y.length,S;for(w=0;w<E;w++)switch(y[w].once&&this.removeListener(c,y[w].fn,void 0,!0),b){case 1:y[w].fn.call(y[w].context);break;case 2:y[w].fn.call(y[w].context,u);break;case 3:y[w].fn.call(y[w].context,u,d);break;case 4:y[w].fn.call(y[w].context,u,d,h);break;default:if(!x)for(S=1,x=new Array(b-1);S<b;S++)x[S-1]=arguments[S];y[w].fn.apply(y[w].context,x)}}return!0},a.prototype.on=function(c,u,d){return o(this,c,u,d,!1)},a.prototype.once=function(c,u,d){return o(this,c,u,d,!0)},a.prototype.removeListener=function(c,u,d,h){var p=n?n+c:c;if(!this._events[p])return this;if(!u)return s(this,p),this;var v=this._events[p];if(v.fn)v.fn===u&&(!h||v.once)&&(!d||v.context===d)&&s(this,p);else{for(var m=0,y=[],b=v.length;m<b;m++)(v[m].fn!==u||h&&!v[m].once||d&&v[m].context!==d)&&y.push(v[m]);y.length?this._events[p]=y.length===1?y[0]:y:s(this,p)}return this},a.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&s(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(HJ);var n7e=HJ.exports;const r7e=Ze(n7e);var aE=new r7e,lE="recharts.syncMouseEvents";function Gg(t){"@babel/helpers - typeof";return Gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gg(t)}function i7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,KJ(r.key),r)}}function o7e(t,e,n){return e&&vB(t.prototype,e),n&&vB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function cE(t,e,n){return e=KJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KJ(t){var e=s7e(t,"string");return Gg(e)=="symbol"?e:e+""}function s7e(t,e){if(Gg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Gg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var a7e=function(){function t(){i7e(this,t),cE(this,"activeIndex",0),cE(this,"coordinateList",[]),cE(this,"layout","horizontal")}return o7e(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,s=n.container,a=s===void 0?null:s,l=n.layout,c=l===void 0?null:l,u=n.offset,d=u===void 0?null:u,h=n.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=a??this.container,this.layout=c??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,s=i.y,a=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,u=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=o+l+c,h=s+this.offset.top+a/2+u;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function l7e(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&ae(r)&&ae(i))return!0}return!1}function c7e(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function YJ(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,s=wt(e,n,r,i),a=wt(e,n,r,o);return{points:[s,a],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function u7e(t,e,n){var r,i,o,s;if(t==="horizontal")r=e.x,o=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var a=e.cx,l=e.cy,c=e.innerRadius,u=e.outerRadius,d=e.angle,h=wt(a,l,c,d),p=wt(a,l,u,d);r=h.x,i=h.y,o=p.x,s=p.y}else return YJ(e);return[{x:r,y:i},{x:o,y:s}]}function Hg(t){"@babel/helpers - typeof";return Hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hg(t)}function xB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function r0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xB(Object(n),!0).forEach(function(r){d7e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function d7e(t,e,n){return e=f7e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f7e(t){var e=h7e(t,"string");return Hg(e)=="symbol"?e:e+""}function h7e(t,e){if(Hg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Hg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function p7e(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,s=t.activeCoordinate,a=t.activePayload,l=t.offset,c=t.activeTooltipIndex,u=t.tooltipAxisBandSize,d=t.layout,h=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!o||!s||h!=="ScatterChart"&&i!=="axis")return null;var v,m=Pc;if(h==="ScatterChart")v=s,m=I6e;else if(h==="BarChart")v=c7e(d,s,l,u),m=$j;else if(d==="radial"){var y=YJ(s),b=y.cx,x=y.cy,w=y.radius,E=y.startAngle,S=y.endAngle;v={cx:b,cy:x,startAngle:E,endAngle:S,innerRadius:w,outerRadius:w},m=UQ}else v={points:u7e(d,s,l)},m=Pc;var P=r0(r0(r0(r0({stroke:"#ccc",pointerEvents:"none"},l),v),Ee(p,!1)),{},{payload:a,payloadIndex:c,className:je("recharts-tooltip-cursor",p.className)});return _.isValidElement(p)?_.cloneElement(p,P):_.createElement(m,P)}var m7e=["item"],g7e=["children","className","width","height","style","compact","title","desc"];function Xf(t){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xf(t)}function wd(){return wd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wd.apply(this,arguments)}function bB(t,e){return x7e(t)||v7e(t,e)||QJ(t,e)||y7e()}function y7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v7e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function x7e(t){if(Array.isArray(t))return t}function wB(t,e){if(t==null)return{};var n=b7e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function b7e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function w7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _B(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,JJ(r.key),r)}}function _7e(t,e,n){return e&&_B(t.prototype,e),n&&_B(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function S7e(t,e,n){return e=gw(e),T7e(t,XJ()?Reflect.construct(e,n||[],gw(t).constructor):e.apply(t,n))}function T7e(t,e){if(e&&(Xf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E7e(t)}function E7e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XJ=function(){return!!t})()}function gw(t){return gw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gw(t)}function A7e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JI(t,e)}function JI(t,e){return JI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},JI(t,e)}function Qf(t){return C7e(t)||I7e(t)||QJ(t)||P7e()}function P7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QJ(t,e){if(t){if(typeof t=="string")return ZI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZI(t,e)}}function I7e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function C7e(t){if(Array.isArray(t))return ZI(t)}function ZI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function SB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function J(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SB(Object(n),!0).forEach(function(r){Ae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ae(t,e,n){return e=JJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JJ(t){var e=k7e(t,"string");return Xf(e)=="symbol"?e:e+""}function k7e(t,e){if(Xf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Xf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var N7e={xAxis:["bottom","top"],yAxis:["left","right"]},O7e={width:"100%",height:"100%"},ZJ={x:0,y:0};function i0(t){return t}var j7e=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},R7e=function(e,n,r,i){var o=n.find(function(u){return u&&u.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var s=o.coordinate,a=i.radius;return J(J(J({},i),wt(i.cx,i.cy,a,s)),{},{angle:s,radius:a})}var l=o.coordinate,c=i.angle;return J(J(J({},i),wt(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return ZJ},q1=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,s=(r??[]).reduce(function(a,l){var c=l.props.data;return c&&c.length?[].concat(Qf(a),Qf(c)):a},[]);return s.length>0?s:e&&e.length&&ae(i)&&ae(o)?e.slice(i,o+1):[]};function eZ(t){return t==="number"?[0,"auto"]:void 0}var eC=function(e,n,r,i){var o=e.graphicalItems,s=e.tooltipAxis,a=q1(n,e);return r<0||!o||!o.length||r>=a.length?null:o.reduce(function(l,c){var u,d=(u=c.props.data)!==null&&u!==void 0?u:n;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var p=d===void 0?a:d;h=mb(p,s.dataKey,i)}else h=d&&d[r]||a[r];return h?[].concat(Qf(l),[MQ(c,h)]):l},[])},TB=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},s=j7e(o,r),a=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,u=J4e(s,a,c,l);if(u>=0&&c){var d=c[u]&&c[u].value,h=eC(e,n,u,d),p=R7e(r,a,u,o);return{activeTooltipIndex:u,activeLabel:d,activePayload:h,activeCoordinate:p}}return null},D7e=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.layout,d=e.children,h=e.stackOffset,p=kQ(u,o);return r.reduce(function(v,m){var y,b=m.type.defaultProps!==void 0?J(J({},m.type.defaultProps),m.props):m.props,x=b.type,w=b.dataKey,E=b.allowDataOverflow,S=b.allowDuplicatedCategory,P=b.scale,T=b.ticks,A=b.includeHidden,k=b[s];if(v[k])return v;var O=q1(e.data,{graphicalItems:i.filter(function(F){var te,ie=s in F.props?F.props[s]:(te=F.type.defaultProps)===null||te===void 0?void 0:te[s];return ie===k}),dataStartIndex:l,dataEndIndex:c}),N=O.length,C,j,$;l7e(b.domain,E,x)&&(C=hI(b.domain,null,E),p&&(x==="number"||P!=="auto")&&($=hm(O,w,"category")));var B=eZ(x);if(!C||C.length===0){var U,z=(U=b.domain)!==null&&U!==void 0?U:B;if(w){if(C=hm(O,w,x),x==="category"&&p){var V=qPe(C);S&&V?(j=C,C=nw(0,N)):S||(C=M4(z,C,m).reduce(function(F,te){return F.indexOf(te)>=0?F:[].concat(Qf(F),[te])},[]))}else if(x==="category")S?C=C.filter(function(F){return F!==""&&!Oe(F)}):C=M4(z,C,m).reduce(function(F,te){return F.indexOf(te)>=0||te===""||Oe(te)?F:[].concat(Qf(F),[te])},[]);else if(x==="number"){var L=r3e(O,i.filter(function(F){var te,ie,pe=s in F.props?F.props[s]:(te=F.type.defaultProps)===null||te===void 0?void 0:te[s],ue="hide"in F.props?F.props.hide:(ie=F.type.defaultProps)===null||ie===void 0?void 0:ie.hide;return pe===k&&(A||!ue)}),w,o,u);L&&(C=L)}p&&(x==="number"||P!=="auto")&&($=hm(O,w,"category"))}else p?C=nw(0,N):a&&a[k]&&a[k].hasStack&&x==="number"?C=h==="expand"?[0,1]:DQ(a[k].stackGroups,l,c):C=CQ(O,i.filter(function(F){var te=s in F.props?F.props[s]:F.type.defaultProps[s],ie="hide"in F.props?F.props.hide:F.type.defaultProps.hide;return te===k&&(A||!ie)}),x,u,!0);if(x==="number")C=QI(d,C,k,o,T),z&&(C=hI(z,C,E));else if(x==="category"&&z){var Y=z,K=C.every(function(F){return Y.indexOf(F)>=0});K&&(C=Y)}}return J(J({},v),{},Ae({},k,J(J({},b),{},{axisType:o,domain:C,categoricalDomain:$,duplicateDomain:j,originalDomain:(y=b.domain)!==null&&y!==void 0?y:B,isCategorical:p,layout:u})))},{})},M7e=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.layout,d=e.children,h=q1(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),p=h.length,v=kQ(u,o),m=-1;return r.reduce(function(y,b){var x=b.type.defaultProps!==void 0?J(J({},b.type.defaultProps),b.props):b.props,w=x[s],E=eZ("number");if(!y[w]){m++;var S;return v?S=nw(0,p):a&&a[w]&&a[w].hasStack?(S=DQ(a[w].stackGroups,l,c),S=QI(d,S,w,o)):(S=hI(E,CQ(h,r.filter(function(P){var T,A,k=s in P.props?P.props[s]:(T=P.type.defaultProps)===null||T===void 0?void 0:T[s],O="hide"in P.props?P.props.hide:(A=P.type.defaultProps)===null||A===void 0?void 0:A.hide;return k===w&&!O}),"number",u),i.defaultProps.allowDataOverflow),S=QI(d,S,w,o)),J(J({},y),{},Ae({},w,J(J({axisType:o},i.defaultProps),{},{hide:!0,orientation:Jr(N7e,"".concat(o,".").concat(m%2),null),domain:S,originalDomain:E,isCategorical:v,layout:u})))}return y},{})},$7e=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,s=n.graphicalItems,a=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.children,d="".concat(i,"Id"),h=Zr(u,o),p={};return h&&h.length?p=D7e(e,{axes:h,graphicalItems:s,axisType:i,axisIdKey:d,stackGroups:a,dataStartIndex:l,dataEndIndex:c}):s&&s.length&&(p=M7e(e,{Axis:o,graphicalItems:s,axisType:i,axisIdKey:d,stackGroups:a,dataStartIndex:l,dataEndIndex:c})),p},L7e=function(e){var n=Aa(e),r=ds(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:uj(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Wb(n,r)}},EB=function(e){var n=e.children,r=e.defaultShowTooltip,i=Vr(n,Ff),o=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},V7e=function(e){return!e||!e.length?!1:e.some(function(n){var r=ys(n&&n.type);return r&&r.indexOf("Bar")>=0})},AB=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},F7e=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,s=o===void 0?{}:o,a=e.yAxisMap,l=a===void 0?{}:a,c=r.width,u=r.height,d=r.children,h=r.margin||{},p=Vr(d,Ff),v=Vr(d,Bd),m=Object.keys(l).reduce(function(S,P){var T=l[P],A=T.orientation;return!T.mirror&&!T.hide?J(J({},S),{},Ae({},A,S[A]+T.width)):S},{left:h.left||0,right:h.right||0}),y=Object.keys(s).reduce(function(S,P){var T=s[P],A=T.orientation;return!T.mirror&&!T.hide?J(J({},S),{},Ae({},A,Jr(S,"".concat(A))+T.height)):S},{top:h.top||0,bottom:h.bottom||0}),b=J(J({},y),m),x=b.bottom;p&&(b.bottom+=p.props.height||Ff.defaultProps.height),v&&n&&(b=t3e(b,i,r,n));var w=c-b.left-b.right,E=u-b.top-b.bottom;return J(J({brushBottom:x},b),{},{width:Math.max(w,0),height:Math.max(E,0)})},B7e=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},G1=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,s=e.validateTooltipEventTypes,a=s===void 0?["axis"]:s,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,d=e.defaultProps,h=function(b,x){var w=x.graphicalItems,E=x.stackGroups,S=x.offset,P=x.updateId,T=x.dataStartIndex,A=x.dataEndIndex,k=b.barSize,O=b.layout,N=b.barGap,C=b.barCategoryGap,j=b.maxBarSize,$=AB(O),B=$.numericAxisName,U=$.cateAxisName,z=V7e(w),V=[];return w.forEach(function(L,Y){var K=q1(b.data,{graphicalItems:[L],dataStartIndex:T,dataEndIndex:A}),F=L.type.defaultProps!==void 0?J(J({},L.type.defaultProps),L.props):L.props,te=F.dataKey,ie=F.maxBarSize,pe=F["".concat(B,"Id")],ue=F["".concat(U,"Id")],oe={},ce=l.reduce(function(lt,Dn){var Ks=x["".concat(Dn.axisType,"Map")],Ys=F["".concat(Dn.axisType,"Id")];Ks&&Ks[Ys]||Dn.axisType==="zAxis"||su(!1);var Nu=Ks[Ys];return J(J({},lt),{},Ae(Ae({},Dn.axisType,Nu),"".concat(Dn.axisType,"Ticks"),ds(Nu)))},oe),Q=ce[U],Z=ce["".concat(U,"Ticks")],se=E&&E[pe]&&E[pe].hasStack&&f3e(L,E[pe].stackGroups),H=ys(L.type).indexOf("Bar")>=0,Se=Wb(Q,Z),be=[],qe=z&&Z4e({barSize:k,stackGroups:E,totalSize:B7e(ce,U)});if(H){var Ge,ft,Rn=Oe(ie)?j:ie,an=(Ge=(ft=Wb(Q,Z,!0))!==null&&ft!==void 0?ft:Rn)!==null&&Ge!==void 0?Ge:0;be=e3e({barGap:N,barCategoryGap:C,bandSize:an!==Se?an:Se,sizeList:qe[ue],maxBarSize:Rn}),an!==Se&&(be=be.map(function(lt){return J(J({},lt),{},{position:J(J({},lt.position),{},{offset:lt.position.offset-an/2})})}))}var et=L&&L.type&&L.type.getComposedData;et&&V.push({props:J(J({},et(J(J({},ce),{},{displayedData:K,props:b,dataKey:te,item:L,bandSize:Se,barPosition:be,offset:S,stackedData:se,layout:O,dataStartIndex:T,dataEndIndex:A}))),{},Ae(Ae(Ae({key:L.key||"item-".concat(Y)},B,ce[B]),U,ce[U]),"animationId",P)),childIndex:rIe(L,b.children),item:L})}),V},p=function(b,x){var w=b.props,E=b.dataStartIndex,S=b.dataEndIndex,P=b.updateId;if(!AV({props:w}))return null;var T=w.children,A=w.layout,k=w.stackOffset,O=w.data,N=w.reverseStackOrder,C=AB(A),j=C.numericAxisName,$=C.cateAxisName,B=Zr(T,r),U=u3e(O,B,"".concat(j,"Id"),"".concat($,"Id"),k,N),z=l.reduce(function(F,te){var ie="".concat(te.axisType,"Map");return J(J({},F),{},Ae({},ie,$7e(w,J(J({},te),{},{graphicalItems:B,stackGroups:te.axisType===j&&U,dataStartIndex:E,dataEndIndex:S}))))},{}),V=F7e(J(J({},z),{},{props:w,graphicalItems:B}),x==null?void 0:x.legendBBox);Object.keys(z).forEach(function(F){z[F]=u(w,z[F],V,F.replace("Map",""),n)});var L=z["".concat($,"Map")],Y=L7e(L),K=h(w,J(J({},z),{},{dataStartIndex:E,dataEndIndex:S,updateId:P,graphicalItems:B,stackGroups:U,offset:V}));return J(J({formattedGraphicalItems:K,graphicalItems:B,offset:V,stackGroups:U},Y),z)},v=function(y){function b(x){var w,E,S;return w7e(this,b),S=S7e(this,b,[x]),Ae(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ae(S,"accessibilityManager",new a7e),Ae(S,"handleLegendBBoxUpdate",function(P){if(P){var T=S.state,A=T.dataStartIndex,k=T.dataEndIndex,O=T.updateId;S.setState(J({legendBBox:P},p({props:S.props,dataStartIndex:A,dataEndIndex:k,updateId:O},J(J({},S.state),{},{legendBBox:P}))))}}),Ae(S,"handleReceiveSyncEvent",function(P,T,A){if(S.props.syncId===P){if(A===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(T)}}),Ae(S,"handleBrushChange",function(P){var T=P.startIndex,A=P.endIndex;if(T!==S.state.dataStartIndex||A!==S.state.dataEndIndex){var k=S.state.updateId;S.setState(function(){return J({dataStartIndex:T,dataEndIndex:A},p({props:S.props,dataStartIndex:T,dataEndIndex:A,updateId:k},S.state))}),S.triggerSyncEvent({dataStartIndex:T,dataEndIndex:A})}}),Ae(S,"handleMouseEnter",function(P){var T=S.getMouseInfo(P);if(T){var A=J(J({},T),{},{isTooltipActive:!0});S.setState(A),S.triggerSyncEvent(A);var k=S.props.onMouseEnter;Pe(k)&&k(A,P)}}),Ae(S,"triggeredAfterMouseMove",function(P){var T=S.getMouseInfo(P),A=T?J(J({},T),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(A),S.triggerSyncEvent(A);var k=S.props.onMouseMove;Pe(k)&&k(A,P)}),Ae(S,"handleItemMouseEnter",function(P){S.setState(function(){return{isTooltipActive:!0,activeItem:P,activePayload:P.tooltipPayload,activeCoordinate:P.tooltipPosition||{x:P.cx,y:P.cy}}})}),Ae(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),Ae(S,"handleMouseMove",function(P){P.persist(),S.throttleTriggeredAfterMouseMove(P)}),Ae(S,"handleMouseLeave",function(P){S.throttleTriggeredAfterMouseMove.cancel();var T={isTooltipActive:!1};S.setState(T),S.triggerSyncEvent(T);var A=S.props.onMouseLeave;Pe(A)&&A(T,P)}),Ae(S,"handleOuterEvent",function(P){var T=nIe(P),A=Jr(S.props,"".concat(T));if(T&&Pe(A)){var k,O;/.*touch.*/i.test(T)?O=S.getMouseInfo(P.changedTouches[0]):O=S.getMouseInfo(P),A((k=O)!==null&&k!==void 0?k:{},P)}}),Ae(S,"handleClick",function(P){var T=S.getMouseInfo(P);if(T){var A=J(J({},T),{},{isTooltipActive:!0});S.setState(A),S.triggerSyncEvent(A);var k=S.props.onClick;Pe(k)&&k(A,P)}}),Ae(S,"handleMouseDown",function(P){var T=S.props.onMouseDown;if(Pe(T)){var A=S.getMouseInfo(P);T(A,P)}}),Ae(S,"handleMouseUp",function(P){var T=S.props.onMouseUp;if(Pe(T)){var A=S.getMouseInfo(P);T(A,P)}}),Ae(S,"handleTouchMove",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(P.changedTouches[0])}),Ae(S,"handleTouchStart",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&S.handleMouseDown(P.changedTouches[0])}),Ae(S,"handleTouchEnd",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&S.handleMouseUp(P.changedTouches[0])}),Ae(S,"handleDoubleClick",function(P){var T=S.props.onDoubleClick;if(Pe(T)){var A=S.getMouseInfo(P);T(A,P)}}),Ae(S,"handleContextMenu",function(P){var T=S.props.onContextMenu;if(Pe(T)){var A=S.getMouseInfo(P);T(A,P)}}),Ae(S,"triggerSyncEvent",function(P){S.props.syncId!==void 0&&aE.emit(lE,S.props.syncId,P,S.eventEmitterSymbol)}),Ae(S,"applySyncEvent",function(P){var T=S.props,A=T.layout,k=T.syncMethod,O=S.state.updateId,N=P.dataStartIndex,C=P.dataEndIndex;if(P.dataStartIndex!==void 0||P.dataEndIndex!==void 0)S.setState(J({dataStartIndex:N,dataEndIndex:C},p({props:S.props,dataStartIndex:N,dataEndIndex:C,updateId:O},S.state)));else if(P.activeTooltipIndex!==void 0){var j=P.chartX,$=P.chartY,B=P.activeTooltipIndex,U=S.state,z=U.offset,V=U.tooltipTicks;if(!z)return;if(typeof k=="function")B=k(V,P);else if(k==="value"){B=-1;for(var L=0;L<V.length;L++)if(V[L].value===P.activeLabel){B=L;break}}var Y=J(J({},z),{},{x:z.left,y:z.top}),K=Math.min(j,Y.x+Y.width),F=Math.min($,Y.y+Y.height),te=V[B]&&V[B].value,ie=eC(S.state,S.props.data,B),pe=V[B]?{x:A==="horizontal"?V[B].coordinate:K,y:A==="horizontal"?F:V[B].coordinate}:ZJ;S.setState(J(J({},P),{},{activeLabel:te,activeCoordinate:pe,activePayload:ie,activeTooltipIndex:B}))}else S.setState(P)}),Ae(S,"renderCursor",function(P){var T,A=S.state,k=A.isTooltipActive,O=A.activeCoordinate,N=A.activePayload,C=A.offset,j=A.activeTooltipIndex,$=A.tooltipAxisBandSize,B=S.getTooltipEventType(),U=(T=P.props.active)!==null&&T!==void 0?T:k,z=S.props.layout,V=P.key||"_recharts-cursor";return M.createElement(p7e,{key:V,activeCoordinate:O,activePayload:N,activeTooltipIndex:j,chartName:n,element:P,isActive:U,layout:z,offset:C,tooltipAxisBandSize:$,tooltipEventType:B})}),Ae(S,"renderPolarAxis",function(P,T,A){var k=Jr(P,"type.axisType"),O=Jr(S.state,"".concat(k,"Map")),N=P.type.defaultProps,C=N!==void 0?J(J({},N),P.props):P.props,j=O&&O[C["".concat(k,"Id")]];return _.cloneElement(P,J(J({},j),{},{className:je(k,j.className),key:P.key||"".concat(T,"-").concat(A),ticks:ds(j,!0)}))}),Ae(S,"renderPolarGrid",function(P){var T=P.props,A=T.radialLines,k=T.polarAngles,O=T.polarRadius,N=S.state,C=N.radiusAxisMap,j=N.angleAxisMap,$=Aa(C),B=Aa(j),U=B.cx,z=B.cy,V=B.innerRadius,L=B.outerRadius;return _.cloneElement(P,{polarAngles:Array.isArray(k)?k:ds(B,!0).map(function(Y){return Y.coordinate}),polarRadius:Array.isArray(O)?O:ds($,!0).map(function(Y){return Y.coordinate}),cx:U,cy:z,innerRadius:V,outerRadius:L,key:P.key||"polar-grid",radialLines:A})}),Ae(S,"renderLegend",function(){var P=S.state.formattedGraphicalItems,T=S.props,A=T.children,k=T.width,O=T.height,N=S.props.margin||{},C=k-(N.left||0)-(N.right||0),j=PQ({children:A,formattedGraphicalItems:P,legendWidth:C,legendContent:c});if(!j)return null;var $=j.item,B=wB(j,m7e);return _.cloneElement($,J(J({},B),{},{chartWidth:k,chartHeight:O,margin:N,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),Ae(S,"renderTooltip",function(){var P,T=S.props,A=T.children,k=T.accessibilityLayer,O=Vr(A,Br);if(!O)return null;var N=S.state,C=N.isTooltipActive,j=N.activeCoordinate,$=N.activePayload,B=N.activeLabel,U=N.offset,z=(P=O.props.active)!==null&&P!==void 0?P:C;return _.cloneElement(O,{viewBox:J(J({},U),{},{x:U.left,y:U.top}),active:z,label:B,payload:z?$:[],coordinate:j,accessibilityLayer:k})}),Ae(S,"renderBrush",function(P){var T=S.props,A=T.margin,k=T.data,O=S.state,N=O.offset,C=O.dataStartIndex,j=O.dataEndIndex,$=O.updateId;return _.cloneElement(P,{key:P.key||"_recharts-brush",onChange:Zv(S.handleBrushChange,P.props.onChange),data:k,x:ae(P.props.x)?P.props.x:N.left,y:ae(P.props.y)?P.props.y:N.top+N.height+N.brushBottom-(A.bottom||0),width:ae(P.props.width)?P.props.width:N.width,startIndex:C,endIndex:j,updateId:"brush-".concat($)})}),Ae(S,"renderReferenceElement",function(P,T,A){if(!P)return null;var k=S,O=k.clipPathId,N=S.state,C=N.xAxisMap,j=N.yAxisMap,$=N.offset,B=P.type.defaultProps||{},U=P.props,z=U.xAxisId,V=z===void 0?B.xAxisId:z,L=U.yAxisId,Y=L===void 0?B.yAxisId:L;return _.cloneElement(P,{key:P.key||"".concat(T,"-").concat(A),xAxis:C[V],yAxis:j[Y],viewBox:{x:$.left,y:$.top,width:$.width,height:$.height},clipPathId:O})}),Ae(S,"renderActivePoints",function(P){var T=P.item,A=P.activePoint,k=P.basePoint,O=P.childIndex,N=P.isRange,C=[],j=T.props.key,$=T.item.type.defaultProps!==void 0?J(J({},T.item.type.defaultProps),T.item.props):T.item.props,B=$.activeDot,U=$.dataKey,z=J(J({index:O,dataKey:U,cx:A.x,cy:A.y,r:4,fill:Mj(T.item),strokeWidth:2,stroke:"#fff",payload:A.payload,value:A.value},Ee(B,!1)),gb(B));return C.push(b.renderActiveDot(B,z,"".concat(j,"-activePoint-").concat(O))),k?C.push(b.renderActiveDot(B,J(J({},z),{},{cx:k.x,cy:k.y}),"".concat(j,"-basePoint-").concat(O))):N&&C.push(null),C}),Ae(S,"renderGraphicChild",function(P,T,A){var k=S.filterFormatItem(P,T,A);if(!k)return null;var O=S.getTooltipEventType(),N=S.state,C=N.isTooltipActive,j=N.tooltipAxis,$=N.activeTooltipIndex,B=N.activeLabel,U=S.props.children,z=Vr(U,Br),V=k.props,L=V.points,Y=V.isRange,K=V.baseLine,F=k.item.type.defaultProps!==void 0?J(J({},k.item.type.defaultProps),k.item.props):k.item.props,te=F.activeDot,ie=F.hide,pe=F.activeBar,ue=F.activeShape,oe=!!(!ie&&C&&z&&(te||pe||ue)),ce={};O!=="axis"&&z&&z.props.trigger==="click"?ce={onClick:Zv(S.handleItemMouseEnter,P.props.onClick)}:O!=="axis"&&(ce={onMouseLeave:Zv(S.handleItemMouseLeave,P.props.onMouseLeave),onMouseEnter:Zv(S.handleItemMouseEnter,P.props.onMouseEnter)});var Q=_.cloneElement(P,J(J({},k.props),ce));function Z(Dn){return typeof j.dataKey=="function"?j.dataKey(Dn.payload):null}if(oe)if($>=0){var se,H;if(j.dataKey&&!j.allowDuplicatedCategory){var Se=typeof j.dataKey=="function"?Z:"payload.".concat(j.dataKey.toString());se=mb(L,Se,B),H=Y&&K&&mb(K,Se,B)}else se=L==null?void 0:L[$],H=Y&&K&&K[$];if(ue||pe){var be=P.props.activeIndex!==void 0?P.props.activeIndex:$;return[_.cloneElement(P,J(J(J({},k.props),ce),{},{activeIndex:be})),null,null]}if(!Oe(se))return[Q].concat(Qf(S.renderActivePoints({item:k,activePoint:se,basePoint:H,childIndex:$,isRange:Y})))}else{var qe,Ge=(qe=S.getItemByXY(S.state.activeCoordinate))!==null&&qe!==void 0?qe:{graphicalItem:Q},ft=Ge.graphicalItem,Rn=ft.item,an=Rn===void 0?P:Rn,et=ft.childIndex,lt=J(J(J({},k.props),ce),{},{activeIndex:et});return[_.cloneElement(an,lt),null,null]}return Y?[Q,null,null]:[Q,null]}),Ae(S,"renderCustomized",function(P,T,A){return _.cloneElement(P,J(J({key:"recharts-customized-".concat(A)},S.props),S.state))}),Ae(S,"renderMap",{CartesianGrid:{handler:i0,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:i0},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:i0},YAxis:{handler:i0},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((w=x.id)!==null&&w!==void 0?w:Au("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=AX(S.triggeredAfterMouseMove,(E=x.throttleDelay)!==null&&E!==void 0?E:1e3/60),S.state={},S}return A7e(b,y),_7e(b,[{key:"componentDidMount",value:function(){var w,E;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,E=w.children,S=w.data,P=w.height,T=w.layout,A=Vr(E,Br);if(A){var k=A.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length-1)){var O=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,N=eC(this.state,S,k,O),C=this.state.tooltipTicks[k].coordinate,j=(this.state.offset.top+P)/2,$=T==="horizontal",B=$?{x:C,y:j}:{y:C,x:j},U=this.state.formattedGraphicalItems.find(function(V){var L=V.item;return L.type.name==="Scatter"});U&&(B=J(J({},B),U.props.points[k].tooltipPosition),N=U.props.points[k].tooltipPayload);var z={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:O,activePayload:N,activeCoordinate:B};this.setState(z),this.renderCursor(A),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,E){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==E.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var S,P;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0}})}return null}},{key:"componentDidUpdate",value:function(w){IP([Vr(w.children,Br)],[Vr(this.props.children,Br)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=Vr(this.props.children,Br);if(w&&typeof w.props.shared=="boolean"){var E=w.props.shared?"axis":"item";return a.indexOf(E)>=0?E:o}return o}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var E=this.container,S=E.getBoundingClientRect(),P=A$e(S),T={chartX:Math.round(w.pageX-P.left),chartY:Math.round(w.pageY-P.top)},A=S.width/E.offsetWidth||1,k=this.inRange(T.chartX,T.chartY,A);if(!k)return null;var O=this.state,N=O.xAxisMap,C=O.yAxisMap,j=this.getTooltipEventType(),$=TB(this.state,this.props.data,this.props.layout,k);if(j!=="axis"&&N&&C){var B=Aa(N).scale,U=Aa(C).scale,z=B&&B.invert?B.invert(T.chartX):null,V=U&&U.invert?U.invert(T.chartY):null;return J(J({},T),{},{xValue:z,yValue:V},$)}return $?J(J({},T),$):null}},{key:"inRange",value:function(w,E){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=this.props.layout,T=w/S,A=E/S;if(P==="horizontal"||P==="vertical"){var k=this.state.offset,O=T>=k.left&&T<=k.left+k.width&&A>=k.top&&A<=k.top+k.height;return O?{x:T,y:A}:null}var N=this.state,C=N.angleAxisMap,j=N.radiusAxisMap;if(C&&j){var $=Aa(C);return V4({x:T,y:A},$)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,E=this.getTooltipEventType(),S=Vr(w,Br),P={};S&&E==="axis"&&(S.props.trigger==="click"?P={onClick:this.handleClick}:P={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var T=gb(this.props,this.handleOuterEvent);return J(J({},T),P)}},{key:"addListener",value:function(){aE.on(lE,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){aE.removeListener(lE,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,E,S){for(var P=this.state.formattedGraphicalItems,T=0,A=P.length;T<A;T++){var k=P[T];if(k.item===w||k.props.key===w.key||E===ys(k.item.type)&&S===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,E=this.state.offset,S=E.left,P=E.top,T=E.height,A=E.width;return M.createElement("defs",null,M.createElement("clipPath",{id:w},M.createElement("rect",{x:S,y:P,height:T,width:A})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(E,S){var P=bB(S,2),T=P[0],A=P[1];return J(J({},E),{},Ae({},T,A.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(E,S){var P=bB(S,2),T=P[0],A=P[1];return J(J({},E),{},Ae({},T,A.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var E;return(E=this.state.xAxisMap)===null||E===void 0||(E=E[w])===null||E===void 0?void 0:E.scale}},{key:"getYScaleByAxisId",value:function(w){var E;return(E=this.state.yAxisMap)===null||E===void 0||(E=E[w])===null||E===void 0?void 0:E.scale}},{key:"getItemByXY",value:function(w){var E=this.state,S=E.formattedGraphicalItems,P=E.activeItem;if(S&&S.length)for(var T=0,A=S.length;T<A;T++){var k=S[T],O=k.props,N=k.item,C=N.type.defaultProps!==void 0?J(J({},N.type.defaultProps),N.props):N.props,j=ys(N.type);if(j==="Bar"){var $=(O.data||[]).find(function(V){return l6e(w,V)});if($)return{graphicalItem:k,payload:$}}else if(j==="RadialBar"){var B=(O.data||[]).find(function(V){return V4(w,V)});if(B)return{graphicalItem:k,payload:B}}else if(L1(k,P)||V1(k,P)||Bg(k,P)){var U=XUe({graphicalItem:k,activeTooltipItem:P,itemData:C.data}),z=C.activeIndex===void 0?U:C.activeIndex;return{graphicalItem:J(J({},k),{},{childIndex:z}),payload:Bg(k,P)?C.data[U]:k.props.data[U]}}}return null}},{key:"render",value:function(){var w=this;if(!AV(this))return null;var E=this.props,S=E.children,P=E.className,T=E.width,A=E.height,k=E.style,O=E.compact,N=E.title,C=E.desc,j=wB(E,g7e),$=Ee(j,!1);if(O)return M.createElement(K3,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement(kP,wd({},$,{width:T,height:A,title:N,desc:C}),this.renderClipPath(),IV(S,this.renderMap)));if(this.props.accessibilityLayer){var B,U;$.tabIndex=(B=this.props.tabIndex)!==null&&B!==void 0?B:0,$.role=(U=this.props.role)!==null&&U!==void 0?U:"application",$.onKeyDown=function(V){w.accessibilityManager.keyboardEvent(V)},$.onFocus=function(){w.accessibilityManager.focus()}}var z=this.parseEventsOfWrapper();return M.createElement(K3,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement("div",wd({className:je("recharts-wrapper",P),style:J({position:"relative",cursor:"default",width:T,height:A},k)},z,{ref:function(L){w.container=L}}),M.createElement(kP,wd({},$,{width:T,height:A,title:N,desc:C,style:O7e}),this.renderClipPath(),IV(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(_.Component);Ae(v,"displayName",n),Ae(v,"defaultProps",J({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),Ae(v,"getDerivedStateFromProps",function(y,b){var x=y.dataKey,w=y.data,E=y.children,S=y.width,P=y.height,T=y.layout,A=y.stackOffset,k=y.margin,O=b.dataStartIndex,N=b.dataEndIndex;if(b.updateId===void 0){var C=EB(y);return J(J(J({},C),{},{updateId:0},p(J(J({props:y},C),{},{updateId:0}),b)),{},{prevDataKey:x,prevData:w,prevWidth:S,prevHeight:P,prevLayout:T,prevStackOffset:A,prevMargin:k,prevChildren:E})}if(x!==b.prevDataKey||w!==b.prevData||S!==b.prevWidth||P!==b.prevHeight||T!==b.prevLayout||A!==b.prevStackOffset||!Fd(k,b.prevMargin)){var j=EB(y),$={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},B=J(J({},TB(b,w,T)),{},{updateId:b.updateId+1}),U=J(J(J({},j),$),B);return J(J(J({},U),p(J({props:y},U),b)),{},{prevDataKey:x,prevData:w,prevWidth:S,prevHeight:P,prevLayout:T,prevStackOffset:A,prevMargin:k,prevChildren:E})}if(!IP(E,b.prevChildren)){var z,V,L,Y,K=Vr(E,Ff),F=K&&(z=(V=K.props)===null||V===void 0?void 0:V.startIndex)!==null&&z!==void 0?z:O,te=K&&(L=(Y=K.props)===null||Y===void 0?void 0:Y.endIndex)!==null&&L!==void 0?L:N,ie=F!==O||te!==N,pe=!Oe(w),ue=pe&&!ie?b.updateId:b.updateId+1;return J(J({updateId:ue},p(J(J({props:y},b),{},{updateId:ue,dataStartIndex:F,dataEndIndex:te}),b)),{},{prevChildren:E,dataStartIndex:F,dataEndIndex:te})}return null}),Ae(v,"renderActiveDot",function(y,b,x){var w;return _.isValidElement(y)?w=_.cloneElement(y,b):Pe(y)?w=y(b):w=M.createElement(By,b),M.createElement(Fe,{className:"recharts-active-dot",key:x},w)});var m=_.forwardRef(function(b,x){return M.createElement(v,wd({},b,{ref:x}))});return m.displayName=v.displayName,m},U7e=G1({chartName:"LineChart",GraphicalChild:Uy,axisComponents:[{axisType:"xAxis",AxisComp:Xa},{axisType:"yAxis",AxisComp:Qa}],formatAxisMap:Lj}),z7e=G1({chartName:"BarChart",GraphicalChild:ku,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Xa},{axisType:"yAxis",AxisComp:Qa}],formatAxisMap:Lj}),W7e=G1({chartName:"PieChart",GraphicalChild:Hs,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:$1},{axisType:"radiusAxis",AxisComp:D1}],formatAxisMap:_3e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),q7e=G1({chartName:"AreaChart",GraphicalChild:Ds,axisComponents:[{axisType:"xAxis",AxisComp:Xa},{axisType:"yAxis",AxisComp:Qa}],formatAxisMap:Lj});function G7e(){const{tasks:t,activeProject:e,currentSession:n}=Bt(),r=t.filter(S=>S.projectId===e),i=r.length,o=r.filter(S=>S.status==="completed").length,s=r.filter(S=>S.status==="in-progress").length,a=r.filter(S=>S.status==="todo").length,l=i>0?Math.round(o/i*100):0,c=r.reduce((S,P)=>S+(P.estimatedTime||0),0),u=r.reduce((S,P)=>S+(P.actualTime||0),0),d=i>0?u/i:0,h=n?Math.round(n.focusTime/(n.focusTime+n.distractionTime)*100)||0:Math.round(Math.random()*20+75),p=c>u?(c-u)/60:0,v=[{name:"Urgent",value:r.filter(S=>S.priority==="urgent").length,color:"#ef4444"},{name:"High",value:r.filter(S=>S.priority==="high").length,color:"#f97316"},{name:"Medium",value:r.filter(S=>S.priority==="medium").length,color:"#3b82f6"},{name:"Low",value:r.filter(S=>S.priority==="low").length,color:"#6b7280"}].filter(S=>S.value>0),m=[{name:"To Do",value:a,color:"#6b7280"},{name:"In Progress",value:s,color:"#3b82f6"},{name:"Completed",value:o,color:"#10b981"}].filter(S=>S.value>0),b=(()=>{const S=new Date,P=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],T=[];for(let A=6;A>=0;A--){const k=new Date(S);k.setDate(k.getDate()-A);const O=P[k.getDay()],N=r.filter(j=>new Date(j.createdAt).toDateString()===k.toDateString()).length,C=r.filter(j=>j.status!=="completed"||!j.updatedAt?!1:new Date(j.updatedAt).toDateString()===k.toDateString()).length;T.push({day:O,completed:C,created:N})}return T})(),w=(()=>{if(!n)return Array.from({length:9},(k,O)=>({time:`${9+O}:00`,focus:0}));const S=new Date(n.startTime),T=Math.floor((new Date().getTime()-S.getTime())/(1e3*60*60)),A=[];for(let k=0;k<=Math.min(T,8);k++){const O=S.getHours()+k,N=O>12?O-12:O,C=O>=12?"PM":"AM",j=n.focusTime>0?Math.round(n.focusTime/(n.focusTime+n.distractionTime)*100):75,$=Math.random()*20-10,B=Math.max(0,Math.min(100,j+$));A.push({time:`${N}:00 ${C}`,focus:Math.round(B)})}for(;A.length<9;){const k=A.length>0?A[A.length-1].time:"9:00 AM";A.push({time:k,focus:0})}return A})(),E=[{title:"Total Tasks",value:i,icon:Jd,color:"text-blue-600",bgColor:"bg-blue-50 dark:bg-blue-900/20",change:i>0?`${i} active`:"No tasks yet",changeType:"neutral"},{title:"Completion Rate",value:`${l}%`,icon:ik,color:"text-green-600",bgColor:"bg-green-50 dark:bg-green-900/20",change:`${o}/${i} completed`,changeType:l>50?"positive":"neutral"},{title:"Focus Score",value:`${h}%`,icon:Ts,color:"text-purple-600",bgColor:"bg-purple-50 dark:bg-purple-900/20",change:n?"Active session":"No active session",changeType:h>80?"positive":"neutral"},{title:"Avg Task Time",value:d>0?`${Math.round(d)}min`:"0min",icon:Hr,color:"text-orange-600",bgColor:"bg-orange-50 dark:bg-orange-900/20",change:p>0?`${p.toFixed(1)}h saved`:"No time data",changeType:p>0?"positive":"neutral"}];return f.jsxs("div",{className:"h-full overflow-y-auto space-y-6",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Analytics Dashboard"}),f.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Track your productivity and focus patterns"})]}),f.jsx("div",{className:"flex items-center space-x-2",children:f.jsxs(nn,{variant:"outline",className:"text-green-600 border-green-200",children:[f.jsx(Cd,{className:"w-3 h-3 mr-1"}),"Trending Up"]})})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:E.map((S,P)=>f.jsx(Ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:P*.1},children:f.jsx(ut,{children:f.jsx(pt,{className:"p-6",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:S.title}),f.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:S.value}),f.jsx("p",{className:`text-xs ${S.changeType==="positive"?"text-green-600":"text-muted-foreground"}`,children:S.change})]}),f.jsx("div",{className:`p-3 rounded-full ${S.bgColor}`,children:f.jsx(S.icon,{className:`h-6 w-6 ${S.color}`})})]})})})},S.title))}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[f.jsxs(ut,{children:[f.jsx(Qn,{children:f.jsxs(Jn,{className:"flex items-center space-x-2",children:[f.jsx(Jd,{className:"h-5 w-5"}),f.jsx("span",{children:"Task Status Distribution"})]})}),f.jsxs(pt,{children:[f.jsx("div",{className:"h-64",children:f.jsx(Kv,{width:"100%",height:"100%",children:f.jsxs(W7e,{children:[f.jsx(Hs,{data:m,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:m.map((S,P)=>f.jsx(_1,{fill:S.color},`cell-${P}`))}),f.jsx(Br,{})]})})}),f.jsx("div",{className:"flex justify-center space-x-4 mt-4",children:m.map(S=>f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:S.color}}),f.jsxs("span",{className:"text-sm text-muted-foreground",children:[S.name," (",S.value,")"]})]},S.name))})]})]}),f.jsxs(ut,{children:[f.jsx(Qn,{children:f.jsxs(Jn,{className:"flex items-center space-x-2",children:[f.jsx(uu,{className:"h-5 w-5"}),f.jsx("span",{children:"Priority Distribution"})]})}),f.jsx(pt,{children:f.jsx("div",{className:"h-64",children:f.jsx(Kv,{width:"100%",height:"100%",children:f.jsxs(z7e,{data:v,children:[f.jsx(U0,{strokeDasharray:"3 3"}),f.jsx(Xa,{dataKey:"name"}),f.jsx(Qa,{}),f.jsx(Br,{}),f.jsx(ku,{dataKey:"value",fill:"#3b82f6",radius:[4,4,0,0]})]})})})})]}),f.jsxs(ut,{children:[f.jsx(Qn,{children:f.jsxs(Jn,{className:"flex items-center space-x-2",children:[f.jsx(Cd,{className:"h-5 w-5"}),f.jsx("span",{children:"Weekly Progress"})]})}),f.jsx(pt,{children:f.jsx("div",{className:"h-64",children:f.jsx(Kv,{width:"100%",height:"100%",children:f.jsxs(q7e,{data:b,children:[f.jsx(U0,{strokeDasharray:"3 3"}),f.jsx(Xa,{dataKey:"day"}),f.jsx(Qa,{}),f.jsx(Br,{}),f.jsx(Ds,{type:"monotone",dataKey:"completed",stackId:"1",stroke:"#10b981",fill:"#10b981",fillOpacity:.6}),f.jsx(Ds,{type:"monotone",dataKey:"created",stackId:"1",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.6})]})})})})]}),f.jsxs(ut,{children:[f.jsx(Qn,{children:f.jsxs(Jn,{className:"flex items-center space-x-2",children:[f.jsx(Ts,{className:"h-5 w-5"}),f.jsx("span",{children:"Focus Score Today"})]})}),f.jsx(pt,{children:f.jsx("div",{className:"h-64",children:f.jsx(Kv,{width:"100%",height:"100%",children:f.jsxs(U7e,{data:w,children:[f.jsx(U0,{strokeDasharray:"3 3"}),f.jsx(Xa,{dataKey:"time"}),f.jsx(Qa,{domain:[0,100]}),f.jsx(Br,{}),f.jsx(Uy,{type:"monotone",dataKey:"focus",stroke:"#8b5cf6",strokeWidth:3,dot:{fill:"#8b5cf6",strokeWidth:2,r:4}})]})})})})]})]}),f.jsxs(ut,{children:[f.jsx(Qn,{children:f.jsxs(Jn,{className:"flex items-center space-x-2",children:[f.jsx(Cr,{className:"h-5 w-5 text-purple-600"}),f.jsx("span",{children:"AI Insights"})]})}),f.jsx(pt,{children:f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[f.jsxs("div",{className:"p-4 bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[f.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[f.jsx(Bre,{className:"h-4 w-4 text-blue-600"}),f.jsx("span",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:"Peak Performance"})]}),f.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:"Your focus is highest between 2-4 PM. Schedule important tasks during this time."})]}),f.jsxs("div",{className:"p-4 bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[f.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[f.jsx(Cd,{className:"h-4 w-4 text-green-600"}),f.jsx("span",{className:"text-sm font-medium text-green-900 dark:text-green-100",children:"Productivity Trend"})]}),f.jsx("p",{className:"text-xs text-green-700 dark:text-green-300",children:"You're completing 23% more tasks this week compared to last week. Great job!"})]}),f.jsxs("div",{className:"p-4 bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-lg border border-purple-200 dark:border-purple-800",children:[f.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[f.jsx(Cr,{className:"h-4 w-4 text-purple-600"}),f.jsx("span",{className:"text-sm font-medium text-purple-900 dark:text-purple-100",children:"Smart Suggestion"})]}),f.jsx("p",{className:"text-xs text-purple-700 dark:text-purple-300",children:`Consider breaking down your "Build landing page" task - it's been in progress for 3 days.`})]})]})})]})]})}const H7e="modulepreload",K7e=function(t){return"/"+t},PB={},tC=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=K7e(o),o in PB)return;PB[o]=!0;const s=o.endsWith(".css"),a=s?'[rel="stylesheet"]':"";if(!!r)for(let u=i.length-1;u>=0;u--){const d=i[u];if(d.href===o&&(!s||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${a}`))return;const c=document.createElement("link");if(c.rel=s?"stylesheet":H7e,s||(c.as="script",c.crossOrigin=""),c.href=o,document.head.appendChild(c),s)return new Promise((u,d)=>{c.addEventListener("load",u),c.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>e()).catch(o=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o})};function tZ(){const{loadFeedbackFromFirebase:t}=Bt(),[e,n]=_.useState([]),[r,i]=_.useState(""),[o,s]=_.useState("all"),[a,l]=_.useState("all"),[c,u]=_.useState(null),[d,h]=_.useState({}),[p,v]=_.useState(null),[m,y]=_.useState({});_.useEffect(()=>{b();const C=async()=>{const{onSnapshot:$,collection:B,query:U,orderBy:z}=await tC(()=>import("./index.esm-b0ed870b.js"),[]),{db:V}=await tC(()=>Promise.resolve().then(()=>s1e),void 0),L=U(B(V,"feedback"),z("createdAt","desc"));return $(L,K=>{const F=K.docs.map(te=>{var pe,ue,oe;const ie=te.data();return{id:te.id,...ie,createdAt:(pe=ie.createdAt)==null?void 0:pe.toDate(),updatedAt:(ue=ie.updatedAt)==null?void 0:ue.toDate(),resolvedAt:(oe=ie.resolvedAt)==null?void 0:oe.toDate(),responseCount:ie.responseCount||0}});n(F),t(F)},K=>{console.error("Error in real-time listener:",K)})};let j;return C().then($=>{j=$}),()=>{j&&j()}},[]);const b=async()=>{try{const C=await Zn.getFeedback();n(C),t(C)}catch(C){console.error("Error loading feedback:",C)}},x=async(C,j)=>{try{await Zn.updateFeedbackStatus(C,j),await b()}catch($){console.error("Error updating status:",$)}},w=async C=>{if(confirm("Are you sure you want to delete this feedback?"))try{await Zn.deleteFeedback(C),await b()}catch(j){console.error("Error deleting feedback:",j)}},E=async C=>{var $;const j=($=d[C])==null?void 0:$.trim();if(j){v(C);try{const B=await Zn.addFeedbackResponse(C,j);h({...d,[C]:""}),y(U=>({...U,[C]:[...U[C]||[],B]})),await b()}catch(B){console.error("Error adding response:",B)}finally{v(null)}}},S=async C=>{const j=c===C?null:C;if(u(j),j&&!m[C])try{const $=await Zn.getFeedbackResponses(C);y(B=>({...B,[C]:$}))}catch($){console.error("Error loading responses:",$)}},P=e.filter(C=>{const j=C.title.toLowerCase().includes(r.toLowerCase())||C.description.toLowerCase().includes(r.toLowerCase()),$=o==="all"||C.type===o,B=a==="all"||C.status===a;return j&&$&&B}),T={total:e.length,pending:e.filter(C=>C.status==="pending").length,reviewed:e.filter(C=>C.status==="reviewed").length,resolved:e.filter(C=>C.status==="resolved").length,averageRating:e.length>0?(e.reduce((C,j)=>C+j.rating,0)/e.length).toFixed(1):"0",bugs:e.filter(C=>C.type==="bug").length,features:e.filter(C=>C.type==="feature").length},A=C=>{switch(C){case"bug":return f.jsx(mx,{className:"h-4 w-4 text-red-600"});case"feature":return f.jsx(ck,{className:"h-4 w-4 text-yellow-600"});case"improvement":return f.jsx(Cd,{className:"h-4 w-4 text-blue-600"});default:return f.jsx(qi,{className:"h-4 w-4 text-purple-600"})}},k=C=>{switch(C){case"pending":return f.jsx(Hr,{className:"h-4 w-4 text-orange-600"});case"reviewed":return f.jsx(uu,{className:"h-4 w-4 text-blue-600"});case"resolved":return f.jsx(Yi,{className:"h-4 w-4 text-green-600"});default:return f.jsx(Hr,{className:"h-4 w-4 text-gray-600"})}},O=C=>{switch(C){case"pending":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/20 dark:text-orange-200";case"reviewed":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/20 dark:text-blue-200";case"resolved":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/20 dark:text-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200 dark:bg-gray-900/20 dark:text-gray-200"}},N=C=>{switch(C){case"bug":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/20 dark:text-red-200";case"feature":return"bg-yellow-100 text-yellow-800 border-yellow-200 dark:bg-yellow-900/20 dark:text-yellow-200";case"improvement":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/20 dark:text-blue-200";default:return"bg-purple-100 text-purple-800 border-purple-200 dark:bg-purple-900/20 dark:text-purple-200"}};return f.jsxs("div",{className:"h-full overflow-y-auto space-y-6",children:[f.jsx("div",{className:"flex items-center justify-between",children:f.jsxs("div",{children:[f.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 flex items-center space-x-2",children:[f.jsx(Lm,{className:"h-6 w-6 text-purple-600"}),f.jsx("span",{children:"Admin Dashboard"})]}),f.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Manage user feedback and monitor app performance"})]})}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[f.jsx(ut,{children:f.jsx(pt,{className:"p-6",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Feedback"}),f.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:T.total})]}),f.jsx(qi,{className:"h-8 w-8 text-purple-600"})]})})}),f.jsx(ut,{children:f.jsx(pt,{className:"p-6",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Pending Review"}),f.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:T.pending})]}),f.jsx(Hr,{className:"h-8 w-8 text-orange-600"})]})})}),f.jsx(ut,{children:f.jsx(pt,{className:"p-6",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Average Rating"}),f.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:[T.averageRating,"/5"]})]}),f.jsx(vx,{className:"h-8 w-8 text-yellow-600"})]})})}),f.jsx(ut,{children:f.jsx(pt,{className:"p-6",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Bug Reports"}),f.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:T.bugs})]}),f.jsx(mx,{className:"h-8 w-8 text-red-600"})]})})})]}),f.jsxs(ut,{children:[f.jsx(Qn,{children:f.jsx(Jn,{children:"Feedback Management"})}),f.jsxs(pt,{children:[f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[f.jsx("div",{className:"flex-1",children:f.jsxs("div",{className:"relative",children:[f.jsx(Qd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),f.jsx(Mt,{placeholder:"Search feedback...",value:r,onChange:C=>i(C.target.value),className:"pl-10"})]})}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("select",{value:o,onChange:C=>s(C.target.value),className:"px-3 py-2 border rounded-md bg-background text-sm",children:[f.jsx("option",{value:"all",children:"All Types"}),f.jsx("option",{value:"bug",children:"Bug Reports"}),f.jsx("option",{value:"feature",children:"Feature Requests"}),f.jsx("option",{value:"improvement",children:"Improvements"}),f.jsx("option",{value:"general",children:"General"})]}),f.jsxs("select",{value:a,onChange:C=>l(C.target.value),className:"px-3 py-2 border rounded-md bg-background text-sm",children:[f.jsx("option",{value:"all",children:"All Status"}),f.jsx("option",{value:"pending",children:"Pending"}),f.jsx("option",{value:"reviewed",children:"Reviewed"}),f.jsx("option",{value:"resolved",children:"Resolved"})]})]})]}),f.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:P.length===0?f.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[f.jsx(qi,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),f.jsx("p",{children:"No feedback found matching your filters."})]}):P.map(C=>{var $;const j=c===C.id;return f.jsxs(Ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"border rounded-lg p-4 space-y-3 bg-card",children:[f.jsxs("div",{className:"flex items-start justify-between",children:[f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[A(C.type),f.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100",children:C.title}),f.jsx(nn,{className:N(C.type),children:C.type}),f.jsxs(nn,{className:O(C.status),children:[k(C.status),f.jsx("span",{className:"ml-1",children:C.status})]}),C.responseCount>0&&f.jsxs(nn,{variant:"outline",className:"bg-purple-50 dark:bg-purple-900/20",children:[f.jsx(dA,{className:"h-3 w-3 mr-1"}),C.responseCount]}),C.type==="general"&&f.jsx(nn,{variant:"outline",className:"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300",children:"Review"})]}),f.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:C.description}),f.jsxs("div",{className:"flex items-center space-x-4 text-xs text-muted-foreground",children:[f.jsxs("div",{className:"flex items-center space-x-1",children:[f.jsx(vx,{className:"h-3 w-3 text-yellow-500"}),f.jsxs("span",{children:[C.rating,"/5"]})]}),f.jsxs("div",{className:"flex items-center space-x-1",children:[f.jsx(el,{className:"h-3 w-3"}),f.jsx("span",{children:new Date(C.createdAt).toLocaleDateString()})]}),C.userEmail&&f.jsxs("div",{className:"flex items-center space-x-1",children:[f.jsx(uk,{className:"h-3 w-3"}),f.jsx("span",{children:C.userEmail})]}),C.resolvedAt&&f.jsxs("div",{className:"flex items-center space-x-1 text-green-600",children:[f.jsx(Yi,{className:"h-3 w-3"}),f.jsxs("span",{children:["Resolved ",new Date(C.resolvedAt).toLocaleDateString()]})]})]})]}),f.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[f.jsxs("select",{value:C.status,onChange:B=>x(C.id,B.target.value),className:"px-2 py-1 border rounded text-xs bg-background",children:[f.jsx("option",{value:"pending",children:"Pending"}),f.jsx("option",{value:"reviewed",children:"Reviewed"}),f.jsx("option",{value:"resolved",children:"Resolved"})]}),f.jsx(ne,{variant:"ghost",size:"icon",onClick:()=>S(C.id),className:"h-8 w-8",children:j?f.jsx(EU,{className:"h-4 w-4"}):f.jsx(sk,{className:"h-4 w-4"})}),f.jsx(ne,{variant:"ghost",size:"icon",onClick:()=>w(C.id),className:"h-8 w-8 text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20",children:f.jsx(Id,{className:"h-4 w-4"})})]})]}),j&&f.jsxs(Ve.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"border-t pt-3 space-y-3",children:[m[C.id]&&m[C.id].length>0&&f.jsxs("div",{className:"space-y-2",children:[f.jsxs("h5",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 flex items-center space-x-2",children:[f.jsx(dA,{className:"h-4 w-4 text-purple-600"}),f.jsxs("span",{children:["Previous Responses (",m[C.id].length,")"]})]}),m[C.id].map(B=>f.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/10 border border-purple-200 dark:border-purple-800 rounded-lg p-3",children:[f.jsxs("div",{className:"flex items-start justify-between mb-1",children:[f.jsx("span",{className:"text-xs font-medium text-purple-900 dark:text-purple-100",children:B.adminEmail}),f.jsxs("span",{className:"text-xs text-muted-foreground",children:[new Date(B.createdAt).toLocaleDateString()," at"," ",new Date(B.createdAt).toLocaleTimeString()]})]}),f.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:B.message})]},B.id))]}),C.type==="general"?f.jsxs("div",{className:"space-y-2",children:[f.jsx("h5",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"Quick Actions"}),f.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"This is general feedback/review. Send a quick thank you note."}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(ne,{onClick:()=>{h({...d,[C.id]:"Thank you for your feedback! We appreciate you taking the time to share your thoughts with us. "}),setTimeout(()=>E(C.id),100)},disabled:p===C.id,size:"sm",variant:"outline",children:p===C.id?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-3 h-3 border-2 border-purple-600 border-t-transparent rounded-full animate-spin mr-2"}),"Sending..."]}):f.jsxs(f.Fragment,{children:[f.jsx(fA,{className:"h-3 w-3 mr-2"}),"Send Thank You"]})}),f.jsx(ne,{onClick:()=>x(C.id,"reviewed"),size:"sm",variant:"ghost",children:"Mark as Reviewed"})]})]}):f.jsxs("div",{className:"space-y-2",children:[f.jsx("h5",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"Respond to User"}),f.jsxs("p",{className:"text-xs text-muted-foreground mb-2",children:[C.type==="bug"&&" Bug Report - Explain the fix or workaround",C.type==="feature"&&" Feature Request - Share your thoughts or timeline",C.type==="improvement"&&" Improvement - Discuss the enhancement"]}),f.jsx(Ls,{placeholder:C.type==="bug"?"Thanks for reporting! We've identified the issue and...":C.type==="feature"?"Great suggestion! We're considering this for...":"Thanks for the improvement idea! We'll...",value:d[C.id]||"",onChange:B=>h({...d,[C.id]:B.target.value}),rows:3,className:"resize-none"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(ne,{onClick:()=>E(C.id),disabled:!(($=d[C.id])!=null&&$.trim())||p===C.id,size:"sm",children:p===C.id?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-3 h-3 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Sending..."]}):f.jsxs(f.Fragment,{children:[f.jsx(fA,{className:"h-3 w-3 mr-2"}),"Send Response to User"]})}),C.type==="bug"&&C.status!=="resolved"&&f.jsxs(ne,{onClick:()=>x(C.id,"resolved"),size:"sm",variant:"outline",className:"border-green-300 text-green-700 hover:bg-green-50",children:[f.jsx(Yi,{className:"h-3 w-3 mr-2"}),"Mark as Fixed"]})]})]})]})]},C.id)})})]})]})]})}var Kj="Progress",Yj=100,[Y7e,_Ge]=so(Kj),[X7e,Q7e]=Y7e(Kj),nZ=_.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:o=J7e,...s}=t;(i||i===0)&&!IB(i)&&console.error(Z7e(`${i}`,"Progress"));const a=IB(i)?i:Yj;r!==null&&!CB(r,a)&&console.error(eqe(`${r}`,"Progress"));const l=CB(r,a)?r:null,c=yw(l)?o(l,a):void 0;return f.jsx(X7e,{scope:n,value:l,max:a,children:f.jsx(Ne.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":yw(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":oZ(l,a),"data-value":l??void 0,"data-max":a,...s,ref:e})})});nZ.displayName=Kj;var rZ="ProgressIndicator",iZ=_.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,i=Q7e(rZ,n);return f.jsx(Ne.div,{"data-state":oZ(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:e})});iZ.displayName=rZ;function J7e(t,e){return`${Math.round(t/e*100)}%`}function oZ(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function yw(t){return typeof t=="number"}function IB(t){return yw(t)&&!isNaN(t)&&t>0}function CB(t,e){return yw(t)&&!isNaN(t)&&t<=e&&t>=0}function Z7e(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Yj}\`.`}function eqe(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Yj} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var sZ=nZ,tqe=iZ;const aZ=_.forwardRef(({className:t,value:e,...n},r)=>f.jsx(sZ,{ref:r,className:_e("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:f.jsx(tqe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));aZ.displayName=sZ.displayName;function nqe(){const{currentSession:t,endFlowSession:e,tasks:n}=Bt(),[r,i]=_.useState(0),[o,s]=_.useState(!1),[a,l]=_.useState(100),c=n.find(u=>u.id===(t==null?void 0:t.taskId));return _.useEffect(()=>{if(!t)return;const u=setInterval(()=>{const d=Math.floor((Date.now()-t.startTime.getTime())/1e3);i(d);const h=d,p=t.distractionTime,v=h>0?Math.max(0,Math.round((h-p)/h*100)):100;l(v)},1e3);return()=>clearInterval(u)},[t]),!t||!c?null:f.jsx(Px,{children:f.jsx(Ve.div,{initial:{opacity:0,x:300},animate:{opacity:1,x:0},exit:{opacity:0,x:300},className:"fixed right-2 top-16 md:right-6 md:top-20 z-30",children:f.jsxs(ut,{className:_e("w-[calc(100vw-1rem)] sm:w-80 shadow-2xl border-2 border-green-200 bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20",o&&"sm:w-64"),children:[f.jsx(Qn,{className:"pb-3",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),f.jsx(Jn,{className:"text-sm font-semibold text-green-800 dark:text-green-200",children:"Flow Session Active"})]}),f.jsxs("div",{className:"flex items-center space-x-1",children:[f.jsx(ne,{variant:"ghost",size:"icon",onClick:()=>s(!o),className:"h-6 w-6 text-green-600 hover:text-green-700",children:o?f.jsx(IU,{className:"h-3 w-3"}):f.jsx(CU,{className:"h-3 w-3"})}),f.jsx(ne,{variant:"ghost",size:"icon",onClick:e,className:"h-6 w-6 text-red-500 hover:text-red-600",children:f.jsx(Ss,{className:"h-3 w-3"})})]})]})}),f.jsx(Px,{children:!o&&f.jsx(Ve.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},children:f.jsxs(pt,{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium text-sm text-gray-900 dark:text-gray-100 mb-1",children:"Current Task"}),f.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 line-clamp-2",children:c.title})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsxs("div",{className:"bg-white/50 dark:bg-gray-800/50 rounded-lg p-3",children:[f.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[f.jsx(Hr,{className:"h-3 w-3 text-blue-600"}),f.jsx("span",{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Duration"})]}),f.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-gray-100 font-mono",children:y0(r)})]}),f.jsxs("div",{className:"bg-white/50 dark:bg-gray-800/50 rounded-lg p-3",children:[f.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[f.jsx(Jd,{className:"h-3 w-3 text-green-600"}),f.jsx("span",{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Focus"})]}),f.jsxs("p",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:[a,"%"]})]})]}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("span",{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Focus Score"}),f.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[a,"%"]})]}),f.jsx(aZ,{value:a,className:"h-2"})]}),t.distractions.length>0&&f.jsxs("div",{children:[f.jsx("h5",{className:"text-xs font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Recent Distractions"}),f.jsx("div",{className:"space-y-1 max-h-20 overflow-y-auto",children:t.distractions.slice(-3).map((u,d)=>f.jsxs("div",{className:"flex items-center justify-between text-xs bg-red-50 dark:bg-red-900/20 rounded px-2 py-1",children:[f.jsx("span",{className:"text-red-700 dark:text-red-300 truncate",children:u.site}),f.jsx("span",{className:"text-red-500 dark:text-red-400 font-mono",children:y0(u.duration)})]},d))})]}),f.jsxs("div",{className:"flex items-center space-x-2 pt-2 border-t border-green-200 dark:border-green-800",children:[f.jsxs(ne,{variant:"outline",size:"sm",onClick:e,className:"flex-1 text-xs",children:[f.jsx(jU,{className:"h-3 w-3 mr-1"}),"End Session"]}),f.jsxs(ne,{variant:"ghost",size:"sm",className:"text-xs",children:[f.jsx(rk,{className:"h-3 w-3 mr-1"}),"Stats"]})]})]})})}),o&&f.jsx(pt,{className:"py-2",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(Ts,{className:"h-4 w-4 text-green-600"}),f.jsx("span",{className:"text-sm font-medium text-green-800 dark:text-green-200",children:y0(r)})]}),f.jsxs("div",{className:"text-xs text-green-600 dark:text-green-400",children:[a,"% focus"]})]})})]})})})}class vw{static async generateTasks(e){return this.USE_FREE_API&&!this.USE_MOCK?this.generateTasksWithHuggingFace(e):this.generateTasksMock(e)}static async generateTasksWithHuggingFace(e){try{const n=await fetch("https://api-inference.huggingface.co/models/microsoft/DialoGPT-medium",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({inputs:`Generate a JSON array of 5-7 tasks for: ${e}. Each task needs title, description, priority (urgent/high/medium/low), estimatedTime (hours), and tags array.`,parameters:{max_length:500,temperature:.7}})});if(n.ok){const r=await n.json();return this.parseHuggingFaceResponse(r,e)}else throw new Error("Hugging Face API error")}catch{return console.log("Free API unavailable, using mock data"),this.generateTasksMock(e)}}static async parseHuggingFaceResponse(e,n){return this.generateTasksMock(n)}static async generateTasksWithOpenAI(e){var n,r;try{const i=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${{}.OPENAI_API_KEY}`},body:JSON.stringify({model:"gpt-3.5-turbo",messages:[{role:"system",content:`You are a project management AI that generates structured task lists. 
              Always respond with a JSON array of tasks. Each task should have:
              - title: string (concise task name)
              - description: string (detailed description)
              - priority: "low" | "medium" | "high" | "urgent"
              - estimatedTime: number (hours)
              - tags: string[] (relevant tags)
              
              Generate 5-8 realistic, actionable tasks.`},{role:"user",content:`Generate tasks for: ${e}`}],temperature:.7,max_tokens:1e3})});if(!i.ok)throw new Error(`OpenAI API error: ${i.status}`);const s=(r=(n=(await i.json()).choices[0])==null?void 0:n.message)==null?void 0:r.content;if(!s)throw new Error("No response from OpenAI");const a=JSON.parse(s);return Array.isArray(a)?a:[]}catch(i){return console.error("OpenAI API error:",i),this.generateTasksMock(e)}}static async generateTasksMock(e){await new Promise(i=>setTimeout(i,1500));const n={daily:[{title:"Make bed and tidy room",description:"Start the day by making bed and organizing bedroom space",priority:"medium",estimatedTime:1,tags:["cleaning","morning","organization"]},{title:"Do laundry",description:"Wash, dry, and fold clothes for the week",priority:"medium",estimatedTime:2,tags:["cleaning","clothes","weekly"]},{title:"Clean kitchen and dishes",description:"Wash dishes, wipe counters, and organize kitchen",priority:"high",estimatedTime:1,tags:["cleaning","kitchen","daily"]},{title:"Vacuum and sweep floors",description:"Clean all floor surfaces in living areas",priority:"low",estimatedTime:1,tags:["cleaning","floors","weekly"]},{title:"Take out trash and recycling",description:"Empty all waste bins and take to collection point",priority:"medium",estimatedTime:1,tags:["cleaning","waste","weekly"]},{title:"Grocery shopping",description:"Buy food and household essentials for the week",priority:"high",estimatedTime:2,tags:["shopping","food","weekly"]},{title:"Meal prep for tomorrow",description:"Prepare healthy meals and snacks for next day",priority:"medium",estimatedTime:1,tags:["cooking","health","daily"]}],study:[{title:"Review lecture notes",description:"Go through today's class notes and highlight key concepts",priority:"high",estimatedTime:1,tags:["review","notes","daily"]},{title:"Read assigned chapters",description:"Complete required reading from textbooks and materials",priority:"high",estimatedTime:2,tags:["reading","textbook","assignment"]},{title:"Practice problem sets",description:"Work through homework problems and practice exercises",priority:"urgent",estimatedTime:2,tags:["practice","homework","problems"]},{title:"Create study flashcards",description:"Make flashcards for key terms and concepts",priority:"medium",estimatedTime:1,tags:["flashcards","memorization","study-tools"]},{title:"Form study group",description:"Organize study session with classmates for exam prep",priority:"medium",estimatedTime:1,tags:["group-study","collaboration","exam-prep"]},{title:"Visit office hours",description:"Meet with professor or TA to clarify difficult concepts",priority:"high",estimatedTime:1,tags:["help","professor","clarification"]},{title:"Take practice quiz",description:"Complete practice test to assess understanding",priority:"medium",estimatedTime:1,tags:["quiz","assessment","practice"]}],assignment:[{title:"Research topic and sources",description:"Find credible sources and gather background information",priority:"urgent",estimatedTime:2,tags:["research","sources","planning"]},{title:"Create assignment outline",description:"Structure main points and organize argument flow",priority:"high",estimatedTime:1,tags:["outline","structure","planning"]},{title:"Write first draft",description:"Complete initial version focusing on getting ideas down",priority:"urgent",estimatedTime:3,tags:["writing","draft","content"]},{title:"Revise and edit content",description:"Review for clarity, flow, and argument strength",priority:"high",estimatedTime:2,tags:["editing","revision","improvement"]},{title:"Check citations and format",description:"Ensure proper citation style and formatting requirements",priority:"medium",estimatedTime:1,tags:["citations","formatting","style"]},{title:"Proofread final version",description:"Final check for grammar, spelling, and typos",priority:"medium",estimatedTime:1,tags:["proofreading","grammar","final"]},{title:"Submit assignment",description:"Upload or turn in completed work before deadline",priority:"urgent",estimatedTime:1,tags:["submission","deadline","completion"]}],personal:[{title:"Morning exercise routine",description:"Complete 30-minute workout or physical activity",priority:"high",estimatedTime:1,tags:["exercise","health","morning"]},{title:"Meditation and mindfulness",description:"Practice 10-15 minutes of meditation or breathing exercises",priority:"medium",estimatedTime:1,tags:["meditation","mindfulness","mental-health"]},{title:"Call family or friends",description:"Check in with loved ones and maintain social connections",priority:"medium",estimatedTime:1,tags:["social","family","relationships"]},{title:"Plan weekly schedule",description:"Review upcoming week and organize calendar and priorities",priority:"high",estimatedTime:1,tags:["planning","schedule","organization"]},{title:"Read for pleasure",description:"Spend time reading books or articles for enjoyment",priority:"low",estimatedTime:1,tags:["reading","relaxation","learning"]},{title:"Practice hobby or skill",description:"Dedicate time to personal interests and skill development",priority:"medium",estimatedTime:2,tags:["hobby","skills","creativity"]},{title:"Reflect and journal",description:"Write about daily experiences and personal growth",priority:"low",estimatedTime:1,tags:["journaling","reflection","growth"]}],project:[{title:"Define project scope and goals",description:"Clearly outline project objectives and deliverables",priority:"urgent",estimatedTime:1,tags:["planning","goals","scope"]},{title:"Research and gather information",description:"Collect relevant data, sources, and background material",priority:"high",estimatedTime:3,tags:["research","information","data"]},{title:"Create project timeline",description:"Break down tasks and set realistic deadlines",priority:"high",estimatedTime:1,tags:["timeline","planning","deadlines"]},{title:"Divide work among team members",description:"Assign responsibilities and coordinate team efforts",priority:"high",estimatedTime:1,tags:["teamwork","coordination","delegation"]},{title:"Complete individual sections",description:"Work on assigned portions of the project",priority:"urgent",estimatedTime:5,tags:["work","individual","progress"]},{title:"Review and integrate parts",description:"Combine team contributions and ensure consistency",priority:"medium",estimatedTime:2,tags:["integration","review","consistency"]},{title:"Prepare final presentation",description:"Create slides and practice presentation delivery",priority:"medium",estimatedTime:2,tags:["presentation","slides","practice"]}],"web app":[{title:"Project architecture setup",description:"Initialize modern React/TypeScript project with best practices",priority:"high",estimatedTime:2,tags:["setup","react","typescript"]},{title:"Database design & setup",description:"Design schema and set up PostgreSQL/MongoDB database",priority:"high",estimatedTime:3,tags:["database","backend","schema"]},{title:"Authentication system",description:"Implement secure user auth with JWT and session management",priority:"urgent",estimatedTime:4,tags:["auth","security","backend"]},{title:"API development",description:"Build RESTful API endpoints with proper validation",priority:"high",estimatedTime:5,tags:["api","backend","rest"]},{title:"Frontend components",description:"Create reusable UI components and responsive layouts",priority:"medium",estimatedTime:6,tags:["frontend","components","ui"]},{title:"State management",description:"Implement Redux/Zustand for application state",priority:"medium",estimatedTime:3,tags:["state","redux","frontend"]},{title:"Testing & deployment",description:"Add comprehensive tests and deploy to cloud platform",priority:"low",estimatedTime:4,tags:["testing","deployment","ci/cd"]}],"mobile app":[{title:"Platform & framework decision",description:"Choose between React Native, Flutter, or native development",priority:"urgent",estimatedTime:1,tags:["planning","mobile","framework"]},{title:"User research & wireframes",description:"Conduct user research and create detailed app wireframes",priority:"high",estimatedTime:3,tags:["research","wireframes","ux"]},{title:"Development environment",description:"Set up mobile dev tools, emulators, and build pipeline",priority:"high",estimatedTime:2,tags:["setup","tools","mobile"]},{title:"Core app features",description:"Implement main app functionality and user flows",priority:"urgent",estimatedTime:10,tags:["development","features","mobile"]},{title:"Native integrations",description:"Add camera, GPS, push notifications, and device features",priority:"medium",estimatedTime:4,tags:["native","integrations","features"]},{title:"Performance optimization",description:"Optimize app performance and memory usage",priority:"medium",estimatedTime:3,tags:["performance","optimization"]},{title:"App store deployment",description:"Prepare app store listings and deploy to iOS/Android stores",priority:"low",estimatedTime:3,tags:["deployment","app-store","publishing"]}],"ai project":[{title:"Problem definition & data collection",description:"Define AI problem scope and gather training datasets",priority:"urgent",estimatedTime:3,tags:["ai","data","research"]},{title:"Data preprocessing pipeline",description:"Clean, normalize, and prepare data for model training",priority:"high",estimatedTime:4,tags:["data","preprocessing","pipeline"]},{title:"Model architecture design",description:"Design and implement neural network architecture",priority:"high",estimatedTime:5,tags:["ml","model","architecture"]},{title:"Training & validation",description:"Train model with proper validation and hyperparameter tuning",priority:"urgent",estimatedTime:8,tags:["training","validation","ml"]},{title:"Model evaluation & testing",description:"Evaluate model performance and conduct thorough testing",priority:"medium",estimatedTime:3,tags:["evaluation","testing","metrics"]},{title:"API & deployment setup",description:"Create API endpoints and deploy model to production",priority:"medium",estimatedTime:4,tags:["api","deployment","production"]},{title:"Monitoring & optimization",description:"Set up model monitoring and performance optimization",priority:"low",estimatedTime:2,tags:["monitoring","optimization"]}],startup:[{title:"Market research & validation",description:"Conduct thorough market analysis and validate business idea",priority:"urgent",estimatedTime:4,tags:["research","validation","market"]},{title:"Business plan development",description:"Create comprehensive business plan and financial projections",priority:"high",estimatedTime:6,tags:["business","planning","strategy"]},{title:"MVP development",description:"Build minimum viable product to test core assumptions",priority:"urgent",estimatedTime:12,tags:["mvp","development","product"]},{title:"Brand identity & marketing",description:"Develop brand identity and initial marketing strategy",priority:"medium",estimatedTime:4,tags:["branding","marketing","identity"]},{title:"Customer acquisition",description:"Launch customer acquisition campaigns and gather feedback",priority:"high",estimatedTime:6,tags:["customers","acquisition","feedback"]},{title:"Funding preparation",description:"Prepare pitch deck and approach potential investors",priority:"medium",estimatedTime:5,tags:["funding","investors","pitch"]},{title:"Scale & operations",description:"Scale operations and establish sustainable business processes",priority:"low",estimatedTime:8,tags:["scaling","operations","processes"]}]},r=e.toLowerCase();return r.includes("daily")||r.includes("chores")||r.includes("cleaning")||r.includes("household")?n.daily:r.includes("study")||r.includes("exam")||r.includes("learning")||r.includes("review")?n.study:r.includes("assignment")||r.includes("homework")||r.includes("essay")||r.includes("paper")?n.assignment:r.includes("personal")||r.includes("self-care")||r.includes("health")||r.includes("wellness")?n.personal:r.includes("project")||r.includes("school")||r.includes("team")||r.includes("group")?n.project:[{title:"Plan daily schedule",description:"Organize tasks and set priorities for the day",priority:"high",estimatedTime:1,tags:["planning","organization"]},{title:"Complete homework",description:"Work on pending assignments and exercises",priority:"urgent",estimatedTime:2,tags:["homework","study"]},{title:"Review class notes",description:"Go through notes from recent lectures",priority:"medium",estimatedTime:1,tags:["review","study"]},{title:"Tidy living space",description:"Clean and organize room or study area",priority:"medium",estimatedTime:1,tags:["cleaning","organization"]},{title:"Exercise or walk",description:"Get some physical activity for health and energy",priority:"low",estimatedTime:1,tags:["health","exercise"]}]}static suggestTaskOrder(e){const n={urgent:4,high:3,medium:2,low:1},r=e.sort((o,s)=>{const a=n[s.priority]-n[o.priority];return a!==0?a:(o.estimatedTime||1)-(s.estimatedTime||1)});let i=`Based on your tasks, here's the optimal order:

`;return r.forEach((o,s)=>{const a=o.priority==="urgent"?"":o.priority==="high"?"":o.priority==="medium"?"":"";i+=`${s+1}. ${a} **${o.title}**
   Priority: ${o.priority} | Time: ${o.estimatedTime||1}h

`}),i+=" **Strategy**: Start with urgent/high priority items, then tackle medium priority tasks for momentum!",i}}sS(vw,"USE_FREE_API",!1),sS(vw,"USE_MOCK",!0);function rqe(){const{tasks:t,activeProject:e,createTask:n}=Bt(),[r,i]=_.useState(!1),[o,s]=_.useState(!1),[a,l]=_.useState(!1),[c,u]=_.useState([]),[d,h]=_.useState(!1),[p,v]=_.useState("generate"),[m,y]=_.useState([{title:"",priority:"medium"}]),b=async O=>{if(!(!e||a)){l(!0);try{const N=await vw.generateTasks(`Create tasks for ${O}`);u(N)}catch(N){console.error("Error generating tasks:",N)}finally{l(!1)}}},x=()=>{const O=t.filter(C=>C.projectId===e);if(O.length===0){alert("You don't have any tasks yet! Create some tasks first.");return}const N=vw.suggestTaskOrder(O);alert(N)},w=()=>{!e||c.length===0||(c.forEach(O=>{n({title:O.title,description:O.description||"",status:"todo",priority:O.priority||"medium",projectId:e,tags:O.tags||[],estimatedTime:O.estimatedTime})}),h(!0),setTimeout(()=>h(!1),3e3),u([]))},E=()=>{if(c.length===0)return;const O=JSON.stringify(c,null,2),N=new Blob([O],{type:"application/json"}),C=URL.createObjectURL(N),j=document.createElement("a");j.href=C,j.download=`ai-generated-tasks-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(j),j.click(),document.body.removeChild(j),URL.revokeObjectURL(C)},S=()=>{y([...m,{title:"",priority:"medium"}])},P=(O,N,C)=>{const j=[...m];j[O][N]=C,y(j)},T=O=>{y(m.filter((N,C)=>C!==O))},A=()=>{if(!e)return;m.filter(N=>N.title.trim()).forEach(N=>{n({title:N.title.trim(),description:"Manually created task",status:"todo",priority:N.priority,projectId:e,tags:["manual"],estimatedTime:1})}),y([{title:"",priority:"medium"}]),h(!0),setTimeout(()=>h(!1),3e3)},k=[{id:"daily",label:"Daily Chores",icon:Yi,color:"bg-green-500",prompt:"daily household chores and cleaning"},{id:"study",label:"Study Session",icon:Cr,color:"bg-blue-500",prompt:"studying for exams and assignments"},{id:"assignment",label:"Assignment Work",icon:oD,color:"bg-purple-500",prompt:"completing academic assignments"},{id:"personal",label:"Personal Tasks",icon:fk,color:"bg-pink-500",prompt:"personal development and self-care"},{id:"project",label:"School Project",icon:tie,color:"bg-orange-500",prompt:"working on a school project"}];return r?f.jsx(Ve.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},className:"fixed bottom-4 right-4 md:bottom-6 md:right-6 z-40",children:f.jsxs(ut,{className:`w-[calc(100vw-2rem)] sm:w-96 max-h-[80vh] flex flex-col shadow-2xl border-2 ${o?"h-14":"h-[500px]"} transition-all duration-300`,children:[f.jsx(Qn,{className:"pb-2 border-b",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs(Jn,{className:"flex items-center space-x-2 text-sm",children:[f.jsx(DS,{className:"h-4 w-4 text-purple-600"}),f.jsx("span",{children:"AI Task Generator"})]}),f.jsxs("div",{className:"flex items-center space-x-1",children:[f.jsx(ne,{variant:"ghost",size:"icon",onClick:()=>s(!o),className:"h-6 w-6",children:o?f.jsx(IU,{className:"h-3 w-3"}):f.jsx(CU,{className:"h-3 w-3"})}),f.jsx(ne,{variant:"ghost",size:"icon",onClick:()=>i(!1),className:"h-6 w-6",children:f.jsx(Ss,{className:"h-3 w-3"})})]})]})}),f.jsx(Px,{children:!o&&f.jsx(Ve.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"flex flex-col flex-1",children:f.jsxs(pt,{className:"flex-1 p-4 overflow-y-auto max-h-96",children:[d&&f.jsxs(Ve.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 p-3 bg-green-100 border border-green-300 rounded-lg flex items-center space-x-2",children:[f.jsx(Yi,{className:"h-4 w-4 text-green-600"}),f.jsx("span",{className:"text-sm text-green-800",children:"Tasks added successfully!"})]}),f.jsxs("div",{className:"flex bg-muted rounded-lg p-1 mb-4",children:[f.jsx(ne,{variant:p==="generate"?"default":"ghost",size:"sm",onClick:()=>v("generate"),className:"flex-1 text-xs",children:" AI Generate"}),f.jsx(ne,{variant:p==="manual"?"default":"ghost",size:"sm",onClick:()=>v("manual"),className:"flex-1 text-xs",children:" Manual Create"})]}),p==="generate"?f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-medium mb-3",children:"Generate Tasks For:"}),f.jsx("div",{className:"grid grid-cols-1 gap-2",children:k.map(O=>f.jsxs(ne,{onClick:()=>b(O.prompt),disabled:a,className:"w-full justify-start h-12 text-left",variant:"outline",children:[f.jsx("div",{className:`w-8 h-8 rounded-lg ${O.color} flex items-center justify-center mr-3`,children:f.jsx(O.icon,{className:"h-4 w-4 text-white"})}),f.jsx("span",{children:O.label})]},O.id))})]}),f.jsxs("div",{className:"border-t pt-4",children:[f.jsxs(ne,{onClick:x,className:"w-full justify-start",variant:"outline",children:[f.jsx(Yre,{className:"h-4 w-4 mr-2"}),"Suggest Task Order"]}),f.jsxs(ne,{onClick:()=>{Bt.getState().setCurrentView("graph"),i(!1)},className:"w-full justify-start mt-2",variant:"outline",children:[f.jsx(Cr,{className:"h-4 w-4 mr-2"}),"Link Tasks (Graph View)"]})]}),c.length>0&&f.jsxs("div",{className:"border-t pt-4",children:[f.jsxs("h4",{className:"text-sm font-medium mb-2",children:["Generated Tasks (",c.length,")"]}),f.jsxs("div",{className:"space-y-1 mb-3 max-h-32 overflow-y-auto",children:[c.slice(0,3).map((O,N)=>f.jsxs("div",{className:"text-xs p-2 bg-muted rounded",children:[f.jsx("div",{className:"font-medium",children:O.title}),f.jsxs("div",{className:"text-muted-foreground",children:[O.priority," priority  ",O.estimatedTime,"h"]})]},N)),c.length>3&&f.jsxs("div",{className:"text-xs text-muted-foreground text-center",children:["+",c.length-3," more tasks"]})]}),f.jsxs("div",{className:"flex space-x-2",children:[f.jsxs(ne,{onClick:w,size:"sm",className:"flex-1",children:[f.jsx(hA,{className:"h-3 w-3 mr-1"}),"Add to Project"]}),f.jsxs(ne,{onClick:E,size:"sm",variant:"outline",className:"flex-1",children:[f.jsx(oD,{className:"h-3 w-3 mr-1"}),"Export JSON"]})]})]})]}):f.jsx("div",{className:"space-y-4",children:f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-medium mb-3",children:"Create Your Tasks:"}),f.jsx("div",{className:"space-y-2 mb-3",children:m.map((O,N)=>f.jsxs("div",{className:"flex space-x-2",children:[f.jsx(Mt,{placeholder:"Task title...",value:O.title,onChange:C=>P(N,"title",C.target.value),className:"flex-1 text-sm"}),f.jsxs("select",{value:O.priority,onChange:C=>P(N,"priority",C.target.value),className:"px-2 py-1 border rounded text-xs bg-background",children:[f.jsx("option",{value:"low",children:"Low"}),f.jsx("option",{value:"medium",children:"Medium"}),f.jsx("option",{value:"high",children:"High"}),f.jsx("option",{value:"urgent",children:"Urgent"})]}),f.jsx(ne,{variant:"ghost",size:"icon",onClick:()=>T(N),className:"h-8 w-8",children:f.jsx(Ss,{className:"h-3 w-3"})})]},N))}),f.jsxs("div",{className:"flex space-x-2",children:[f.jsxs(ne,{onClick:S,variant:"outline",size:"sm",className:"flex-1",children:[f.jsx(hr,{className:"h-3 w-3 mr-1"}),"Add Task"]}),m.filter(O=>O.title.trim()).length>0&&f.jsxs(ne,{onClick:A,size:"sm",className:"flex-1",children:["Create ",m.filter(O=>O.title.trim()).length," Tasks"]})]})]})}),a&&f.jsx("div",{className:"flex items-center justify-center py-8",children:f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(DS,{className:"h-4 w-4 text-purple-600"}),f.jsx("span",{className:"text-sm",children:"Generating tasks..."}),f.jsxs("div",{className:"flex space-x-1",children:[f.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-full animate-bounce"}),f.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),f.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})})]})})})]})}):f.jsx(ne,{onClick:()=>i(!0),className:"fixed bottom-4 right-4 md:bottom-6 md:right-6 h-12 w-12 md:h-14 md:w-14 rounded-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 shadow-lg hover:shadow-xl transition-all duration-200 z-40",size:"icon",children:f.jsx(DS,{className:"h-6 w-6 text-white"})})}function iqe(){const{currentView:t,sidebarCollapsed:e}=Bt(),n=()=>{switch(t){case"kanban":return f.jsx(fV,{});case"list":return f.jsx(aTe,{});case"graph":return f.jsx(cTe,{});case"calendar":return f.jsx(uTe,{});case"analytics":return f.jsx(G7e,{});case"admin":return f.jsx(tZ,{});default:return f.jsx(fV,{})}};return f.jsxs("div",{className:"flex h-screen max-h-screen overflow-hidden bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 dark:from-slate-950 dark:to-slate-900",children:[f.jsx(nde,{}),f.jsxs("div",{className:`flex-1 flex flex-col min-w-0 transition-all duration-300 ${e?"ml-0 md:ml-16":"ml-0 md:ml-64"}`,children:[f.jsx(d1e,{}),f.jsx("main",{className:"flex-1 overflow-auto p-2 sm:p-4 md:p-6",children:f.jsx(Ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"h-full min-h-0",children:n()},t)})]}),f.jsx(nqe,{}),f.jsx(rqe,{})]})}function oqe(){const t=Ine(),{createProject:e,setActiveProject:n}=Bt(),[r,i]=_.useState(1),[o,s]=_.useState(""),a=()=>{o.trim()&&(e({name:o.trim(),description:"Your first FlowState project",color:"#3b82f6",icon:"",isArchived:!1}),setTimeout(()=>{t("/")},1e3))},l=[{icon:Cr,title:"AI Task Decomposition",description:"Break down complex tasks into manageable steps automatically"},{icon:Ts,title:"Flow Sessions",description:"Stay focused with distraction blocking and time tracking"},{icon:Jd,title:"Smart Analytics",description:"Get insights into your productivity patterns and focus"}];return f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 dark:from-slate-950 dark:to-slate-900 flex items-center justify-center p-6",children:f.jsxs("div",{className:"w-full max-w-2xl",children:[r===1&&f.jsxs(Ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center space-y-8",children:[f.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[f.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center",children:f.jsx(Ts,{className:"w-6 h-6 text-white"})}),f.jsx("h1",{className:"text-3xl font-bold gradient-text",children:"FlowState"})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("h2",{className:"text-4xl font-bold text-gray-900 dark:text-gray-100",children:["Welcome to the Future of",f.jsx("span",{className:"gradient-text",children:" Productivity"})]}),f.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"FlowState is your AI-powered workflow orchestrator that adapts to your needs, protects your focus, and amplifies your productivity."})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-12",children:l.map((c,u)=>f.jsx(Ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2+u*.1},children:f.jsx(ut,{className:"text-center hover:shadow-lg transition-all duration-200",children:f.jsxs(pt,{className:"p-6",children:[f.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center mx-auto mb-4",children:f.jsx(c.icon,{className:"w-6 h-6 text-white"})}),f.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-2",children:c.title}),f.jsx("p",{className:"text-sm text-muted-foreground",children:c.description})]})})},c.title))}),f.jsx(Ve.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"pt-8",children:f.jsxs(ne,{onClick:()=>i(2),variant:"gradient",size:"xl",className:"text-lg px-8",children:["Get Started",f.jsx(iD,{className:"ml-2 h-5 w-5"})]})})]}),r===2&&f.jsx(Ve.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-8",children:f.jsxs(ut,{className:"max-w-md mx-auto",children:[f.jsxs(Qn,{className:"text-center",children:[f.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:f.jsx(Vm,{className:"w-8 h-8 text-white"})}),f.jsx(Jn,{className:"text-2xl",children:"Create Your First Project"}),f.jsx("p",{className:"text-muted-foreground",children:"Let's set up your workspace to get you started"})]}),f.jsxs(pt,{className:"space-y-6",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium",children:"Project Name"}),f.jsx(Mt,{placeholder:"e.g., Hackathon Project, Personal Goals...",value:o,onChange:c=>s(c.target.value),className:"focus-ring",onKeyPress:c=>c.key==="Enter"&&a()})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("h4",{className:"font-medium text-sm",children:"What you'll get:"}),f.jsx("div",{className:"space-y-2",children:["AI-powered task decomposition","Focus session tracking","Productivity analytics","Smart workflow optimization"].map((c,u)=>f.jsxs(Ve.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:u*.1},className:"flex items-center space-x-2",children:[f.jsx(Yi,{className:"h-4 w-4 text-green-600"}),f.jsx("span",{className:"text-sm text-muted-foreground",children:c})]},c))})]}),f.jsxs(ne,{onClick:a,disabled:!o.trim(),variant:"gradient",className:"w-full",children:["Create Project & Continue",f.jsx(iD,{className:"ml-2 h-4 w-4"})]}),f.jsx(ne,{onClick:()=>i(1),variant:"ghost",className:"w-full",children:"Back"})]})]})})]})})}function sqe({onBack:t}){const[e,n]=_.useState(!1),[r,i]=_.useState(""),[o,s]=_.useState(!1),[a,l]=_.useState(""),[c,u]=_.useState(!1),[d,h]=_.useState(null),p="admin123";_.useEffect(()=>{tC(()=>Promise.resolve().then(()=>l1e),void 0).then(({authService:y})=>{const b=y.onAuthStateChanged(x=>{h(x)});return()=>b()})},[]);const v=()=>{r===p?(n(!0),l("")):(l("Invalid password. Try: admin123"),i(""))},m=y=>{y.key==="Enter"&&v()};return e?f.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-950",children:[f.jsx("div",{className:"bg-white dark:bg-slate-900 border-b border-gray-200 dark:border-slate-800 px-6 py-4",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:"w-10 h-10 bg-purple-600 rounded-lg flex items-center justify-center",children:f.jsx(Lm,{className:"h-5 w-5 text-white"})}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"FlowState Admin"}),f.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Feedback Management Dashboard"})]})]}),f.jsxs("div",{className:"flex items-center space-x-3",children:[d?f.jsxs("div",{className:"flex items-center space-x-2 px-3 py-1.5 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:[f.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full"}),f.jsx("span",{className:"text-xs text-green-700 dark:text-green-300",children:d.email})]}):f.jsxs(ne,{onClick:()=>u(!0),size:"sm",variant:"outline",className:"border-yellow-300 text-yellow-700 hover:bg-yellow-50",children:[f.jsx($m,{className:"h-4 w-4 mr-2"}),"Sign In"]}),f.jsxs(ne,{onClick:t,variant:"outline",className:"flex items-center space-x-2",children:[f.jsx(rD,{className:"h-4 w-4"}),f.jsx("span",{children:"Back to App"})]}),f.jsxs(ne,{onClick:()=>n(!1),variant:"ghost",className:"text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20",children:[f.jsx(gx,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})}),f.jsx(_P,{open:c,onOpenChange:u,onSuccess:()=>{u(!1)}}),f.jsx("div",{className:"p-6",children:f.jsx(tZ,{})})]}):f.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center p-4",children:[f.jsx(Ve.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"w-full max-w-md",children:f.jsxs(ut,{className:"bg-white/10 backdrop-blur-xl border-white/20 shadow-2xl",children:[f.jsxs(Qn,{className:"text-center",children:[f.jsx("div",{className:"mx-auto w-16 h-16 bg-purple-600 rounded-full flex items-center justify-center mb-4",children:f.jsx(Lm,{className:"h-8 w-8 text-white"})}),f.jsx(Jn,{className:"text-2xl font-bold text-white",children:"Admin Access"}),f.jsx("p",{className:"text-purple-200 text-sm",children:"Enter password to access admin dashboard"})]}),f.jsxs(pt,{className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"relative",children:[f.jsx(Mt,{type:o?"text":"password",placeholder:"Enter admin password",value:r,onChange:y=>i(y.target.value),onKeyPress:m,className:"bg-white/10 border-white/20 text-white placeholder:text-purple-200 pr-10"}),f.jsx(ne,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 text-purple-200 hover:text-white hover:bg-white/10",onClick:()=>s(!o),children:o?f.jsx(AU,{className:"h-4 w-4"}):f.jsx(PU,{className:"h-4 w-4"})})]}),a&&f.jsx("p",{className:"text-red-300 text-sm",children:a})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs(ne,{onClick:v,className:"w-full bg-purple-600 hover:bg-purple-700 text-white",disabled:!r.trim(),children:[f.jsx(gx,{className:"h-4 w-4 mr-2"}),"Access Dashboard"]}),f.jsxs(ne,{onClick:t,variant:"ghost",className:"w-full text-purple-200 hover:text-white hover:bg-white/10",children:[f.jsx(rD,{className:"h-4 w-4 mr-2"}),"Back to App"]})]}),f.jsx("div",{className:"text-center pt-4 border-t border-white/20",children:f.jsxs("p",{className:"text-xs text-purple-300",children:["Password: ",f.jsx("code",{className:"bg-white/10 px-2 py-1 rounded",children:"admin123"})]})}),!d&&f.jsx("div",{className:"mt-4 p-3 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:f.jsxs("div",{className:"flex items-start space-x-2",children:[f.jsx(uu,{className:"h-4 w-4 text-yellow-400 flex-shrink-0 mt-0.5"}),f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{className:"text-xs text-yellow-200 font-medium mb-2",children:" Not signed in with Firebase"}),f.jsx("p",{className:"text-xs text-yellow-300 mb-3",children:"You need to sign in with Firebase to access feedback data."}),f.jsxs(ne,{onClick:()=>u(!0),size:"sm",className:"w-full bg-yellow-600 hover:bg-yellow-700 text-white",children:[f.jsx($m,{className:"h-3 w-3 mr-2"}),"Sign In with Firebase"]})]})]})}),d&&f.jsx("div",{className:"mt-4 p-3 bg-green-500/10 border border-green-500/20 rounded-lg",children:f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("div",{className:"h-2 w-2 bg-green-400 rounded-full"}),f.jsxs("p",{className:"text-xs text-green-200",children:["Signed in as: ",f.jsx("span",{className:"font-medium",children:d.email})]})]})})]})]})}),f.jsx(_P,{open:c,onOpenChange:u,onSuccess:()=>{u(!1),window.location.reload()}})]})}function aqe(){const{initializeApp:t}=Bt(),[e,n]=_.useState(!1);return _.useEffect(()=>{t(),(window.location.pathname==="/admin"||window.location.hash==="#admin")&&n(!0),window.openAdmin=()=>{n(!0),window.history.pushState({},"","/#admin")}},[t]),e?f.jsx(zM,{defaultTheme:"system",storageKey:"flowstate-ui-theme",children:f.jsx(sqe,{onBack:()=>{n(!1),window.history.pushState({},"","/")}})}):f.jsx(zM,{defaultTheme:"system",storageKey:"flowstate-ui-theme",children:f.jsx(Kne,{children:f.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 dark:from-slate-950 dark:to-slate-900",children:[f.jsxs(qne,{children:[f.jsx(iA,{path:"/onboarding",element:f.jsx(oqe,{})}),f.jsx(iA,{path:"/",element:f.jsx(iqe,{})})]}),f.jsx(Poe,{}),f.jsx(Gie,{})]})})})}uE.createRoot(document.getElementById("root")).render(f.jsx(M.StrictMode,{children:f.jsx(aqe,{})}));export{dp as $,pK as A,zr as B,Ro as C,dt as D,bGe as E,wu as F,Do as G,xGe as H,_qe as I,Ii as J,Xve as K,owe as L,UL as M,Wqe as N,qqe as O,Rwe as P,On as Q,Mqe as R,Na as S,rt as T,dGe as U,Xi as V,kwe as W,uGe as X,zqe as Y,Cqe as Z,_N as _,lg as a,pwe as a$,Sqe as a0,iwe as a1,gwe as a2,vGe as a3,bwe as a4,lGe as a5,Oqe as a6,yGe as a7,da as a8,Rqe as a9,rGe as aA,awe as aB,zL as aC,Zqe as aD,eGe as aE,Dqe as aF,AT as aG,oGe as aH,sGe as aI,Iwe as aJ,Vv as aK,eK as aL,Hqe as aM,Tqe as aN,aGe as aO,cGe as aP,xwe as aQ,pGe as aR,vqe as aS,Kqe as aT,Vqe as aU,Lqe as aV,Uqe as aW,jqe as aX,Fv as aY,fGe as aZ,kqe as a_,Gqe as aa,Pqe as ab,Iqe as ac,Nqe as ad,gGe as ae,Bqe as af,Fqe as ag,Ut as ah,Cy as ai,wwe as aj,tGe as ak,vwe as al,Yqe as am,Xqe as an,PT as ao,Qqe as ap,Jqe as aq,swe as ar,mGe as as,jwe as at,Aqe as au,mwe as av,$qe as aw,VL as ax,nGe as ay,iGe as az,lwe as b,hGe as b0,Yr as c,_u as d,gt as e,ee as f,vh as g,Py as h,V0 as i,W_ as j,Iy as k,Eqe as l,U_ as m,TO as n,Xr as o,z_ as p,Owe as q,Ht as r,zc as s,de as t,bqe as u,Fve as v,jt as w,wGe as x,Be as y,xqe as z};
